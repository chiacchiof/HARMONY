/*! For license information please see main.69e8565a.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var o=n(43),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,a={},c=null,u=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,o)&&!s.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:c,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,o){var r,a={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=o;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,r,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case o:s=!0}}if(s)return i=i(s=e),e=""===a?"."+_(s,0):a,w(i)?(r="",null!=e&&(r=e.replace(P,"$&/")+"/"),j(i,t,r,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+_(l=e[c],c);s+=j(l,t,r,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=j(l=l.value,t,r,u=a+_(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function M(e,t,n){if(null==e)return e;var o=[],r=0;return j(e,o,"","",function(e){return t.call(n,e,r++)}),o}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},z={transition:null},O={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=A,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=o;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:n,type:e.type,key:a,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<a(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,i=r>>>1;o<i;){var l=2*(o+1)-1,s=e[l],c=l+1,u=e[c];if(0>a(s,n))c<r&&0>a(u,s)?(e[o]=u,e[c]=n,o=c):(e[o]=s,e[l]=n,o=l);else{if(!(c<r&&0>a(u,n)))break e;e[o]=u,e[c]=n,o=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=o(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=o(u)}}function w(e){if(g=!1,x(e),!m)if(null!==o(c))m=!0,z(S);else{var t=o(u);null!==t&&O(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(C),C=-1),h=!0;var a=p;try{for(x(n),f=o(c);null!==f&&(!(f.expirationTime>n)||e&&!j());){var i=f.callback;if("function"===typeof i){f.callback=null,p=f.priorityLevel;var l=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===o(c)&&r(c),x(n)}else r(c);f=o(c)}if(null!==f)var s=!0;else{var d=o(u);null!==d&&O(w,d.startTime-n),s=!1}return s}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,N=null,C=-1,P=5,_=-1;function j(){return!(t.unstable_now()-_<P)}function M(){if(null!==N){var e=t.unstable_now();_=e;var n=!0;try{n=N(!0,e)}finally{n?k():(E=!1,N=null)}}else E=!1}if("function"===typeof b)k=function(){b(M)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,T=D.port2;D.port1.onmessage=M,k=function(){T.postMessage(null)}}else k=function(){v(M,0)};function z(e){N=e,E||(E=!0,k())}function O(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,z(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===o(c)&&e===o(u)&&(g?(y(C),C=-1):g=!0,O(w,a-i))):(e.sortIndex=l,n(c,e),m||h||(m=!0,z(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},330:(e,t,n)=>{var o=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useState,i=o.useEffect,l=o.useLayoutEffect,s=o.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),r=o[0].inst,u=o[1];return l(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),i(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:u},391:(e,t,n)=>{var o=n(950);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},443:(e,t,n)=>{e.exports=n(717)},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},717:(e,t,n)=>{var o=n(43),r=n(461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,l=o.useRef,s=o.useEffect,c=o.useMemo,u=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c(function(){function e(e){if(!s){if(s=!0,i=e,e=o(e),void 0!==r&&f.hasValue){var t=f.value;if(r(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,l=n)}var i,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,o,r]);var p=i(e,d[0],d[1]);return s(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},730:(e,t,n)=>{var o=n(43),r=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,o,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,o){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var I,R=Object.assign;function L(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=o.stack.split("\n"),i=r.length-1,l=a.length-1;1<=i&&0<=l&&r[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==a[l]){var s="\n"+r[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function U(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case N:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=X(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=W(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),o=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=me(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ne(e){if(e=xr(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=Sr(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Pe(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function _e(e,t){return e(t)}function je(){}var Me=!1;function De(e,t,n){if(Me)return e(t,n);Me=!0;try{return _e(e,t,n)}finally{Me=!1,(null!==ke||null!==Ee)&&(je(),Pe())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var o=Sr(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){ze=!1}function Ae(e,t,n,o,r,a,i,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,Re=null,Le=!1,Fe=null,Be={onError:function(e){Ie=!0,Re=e}};function Ue(e,t,n,o,r,a,i,l,s){Ie=!1,Re=null,Ae.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return We(r),e;if(i===o)return We(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,s=r.child;s;){if(s===n){l=!0,n=r,o=i;break}if(s===o){l=!0,o=r,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,o=r;break}if(s===o){l=!0,o=i,n=r;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,qe=r.unstable_shouldYield,$e=r.unstable_requestPaint,Qe=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,rt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,r=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~r;0!==l?o=dt(l):0!==(a&=i)&&(o=dt(a))}else 0!==(i=n&~r)?o=dt(i):0!==a&&(o=dt(a));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-it(t)),o|=e[n],t&=~r;return o}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-it(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Et,Nt,Ct=!1,Pt=[],_t=null,jt=null,Mt=null,Dt=new Map,Tt=new Map,zt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,o,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=xr(t))&&St(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Rt(e){var t=br(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Nt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xr(n))&&St(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);xe=o,n.target.dispatchEvent(o),xe=null,t.shift()}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==_t&&Lt(_t)&&(_t=null),null!==jt&&Lt(jt)&&(jt=null),null!==Mt&&Lt(Mt)&&(Mt=null),Dt.forEach(Ft),Tt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var o=Pt[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==_t&&Ut(_t,e),null!==jt&&Ut(jt,e),null!==Mt&&Ut(Mt,e),Dt.forEach(t),Tt.forEach(t),n=0;n<zt.length;n++)(o=zt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Rt(n),null===n.blockedOn&&zt.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function Xt(e,t,n,o){var r=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,o)}finally{bt=r,Ht.transition=a}}function Yt(e,t,n,o){var r=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,o)}finally{bt=r,Ht.transition=a}}function Kt(e,t,n,o){if(Wt){var r=qt(e,t,n,o);if(null===r)Xo(e,t,o,Gt,n),At(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return _t=It(_t,e,t,n,o,r),!0;case"dragenter":return jt=It(jt,e,t,n,o,r),!0;case"mouseover":return Mt=It(Mt,e,t,n,o,r),!0;case"pointerover":var a=r.pointerId;return Dt.set(a,It(Dt.get(a)||null,e,t,n,o,r)),!0;case"gotpointercapture":return a=r.pointerId,Tt.set(a,It(Tt.get(a)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(At(e,o),4&t&&-1<Ot.indexOf(e)){for(;null!==r;){var a=xr(r);if(null!==a&&wt(a),null===(a=qt(e,t,n,o))&&Xo(e,t,o,Gt,n),a===r)break;r=a}null!==r&&o.stopPropagation()}else Xo(e,t,o,null,n)}}var Gt=null;function qt(e,t,n,o){if(Gt=null,null!==(e=br(e=we(o))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,o=n.length,r="value"in Qt?Qt.value:Qt.textContent,a=r.length;for(e=0;e<o&&n[e]===r[e];e++);var i=o-e;for(t=1;t<=i&&n[o-t]===r[a-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,o,r,a){for(var i in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:on,this.isPropagationStopped=on,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=R({},cn,{view:0,detail:0}),fn=rn(dn),pn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=rn(pn),mn=rn(R({},pn,{dataTransfer:0})),gn=rn(R({},dn,{relatedTarget:0})),vn=rn(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),xn=rn(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return En}var Cn=R({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=rn(Cn),_n=rn(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=rn(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Mn=rn(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=rn(Dn),zn=[9,13,27,32],On=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var In=u&&"TextEvent"in window&&!An,Rn=u&&(!On||An&&8<An&&11>=An),Ln=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Xn(e,t,n,o){Ce(o),0<(t=Ko(t,"onChange")).length&&(n=new un("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Yn=null,Kn=null;function Gn(e){Fo(e,0)}function qn(e){if(K(wr(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Jn="function"===typeof eo.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function to(){Yn&&(Yn.detachEvent("onpropertychange",no),Kn=Yn=null)}function no(e){if("value"===e.propertyName&&qn(Kn)){var t=[];Xn(t,Kn,e,we(e)),De(Gn,t)}}function oo(e,t,n){"focusin"===e?(to(),Kn=n,(Yn=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function ro(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Kn)}function ao(e,t){if("click"===e)return qn(t)}function io(e,t){if("input"===e||"change"===e)return qn(t)}var lo="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function so(e,t){if(lo(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!d.call(t,r)||!lo(e[r],t[r]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uo(e,t){var n,o=co(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=co(o)}}function fo(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fo(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function po(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=po(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fo(n.ownerDocument.documentElement,n)){if(null!==o&&ho(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(o.start,r);o=void 0===o.end?a:Math.min(o.end,r),!e.extend&&a>o&&(r=o,o=a,a=r),r=uo(n,a);var i=uo(n,o);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var go=u&&"documentMode"in document&&11>=document.documentMode,vo=null,yo=null,bo=null,xo=!1;function wo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xo||null==vo||vo!==G(o)||("selectionStart"in(o=vo)&&ho(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&so(bo,o)||(bo=o,0<(o=Ko(yo,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=vo)))}function So(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ko={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Eo={},No={};function Co(e){if(Eo[e])return Eo[e];if(!ko[e])return e;var t,n=ko[e];for(t in n)if(n.hasOwnProperty(t)&&t in No)return Eo[e]=n[t];return e}u&&(No=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);var Po=Co("animationend"),_o=Co("animationiteration"),jo=Co("animationstart"),Mo=Co("transitionend"),Do=new Map,To="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){Do.set(e,t),s(t,[e])}for(var Oo=0;Oo<To.length;Oo++){var Ao=To[Oo];zo(Ao.toLowerCase(),"on"+(Ao[0].toUpperCase()+Ao.slice(1)))}zo(Po,"onAnimationEnd"),zo(_o,"onAnimationIteration"),zo(jo,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(Mo,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ro=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Lo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,i,l,s,c){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var u=Re;Ie=!1,Re=null,Le||(Le=!0,Fe=u)}}(o,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var i=o.length-1;0<=i;i--){var l=o[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==a&&r.isPropagationStopped())break e;Lo(r,l,c),a=s}else for(i=0;i<o.length;i++){if(s=(l=o[i]).instance,c=l.currentTarget,l=l.listener,s!==a&&r.isPropagationStopped())break e;Lo(r,l,c),a=s}}}if(Le)throw e=Fe,Le=!1,Fe=null,e}function Bo(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var o=e+"__bubble";n.has(o)||(Wo(t,e,2,!1),n.add(o))}function Uo(e,t,n){var o=0;t&&(o|=4),Wo(n,e,o,t)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Vo]){e[Vo]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ro.has(t)||Uo(t,!1,e),Uo(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vo]||(t[Vo]=!0,Uo("selectionchange",!1,t))}}function Wo(e,t,n,o){switch($t(t)){case 1:var r=Xt;break;case 4:r=Yt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Xo(e,t,n,o,r){var a=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var i=o.tag;if(3===i||4===i){var l=o.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=o.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===r||8===s.nodeType&&s.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=br(l)))return;if(5===(s=i.tag)||6===s){o=a=i;continue e}l=l.parentNode}}o=o.return}De(function(){var o=a,r=we(n),i=[];e:{var l=Do.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Pn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=jn;break;case Po:case _o:case jo:s=vn;break;case Mo:s=Mn;break;case"scroll":s=fn;break;case"wheel":s=Tn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var p,h=o;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Te(h,f))&&u.push(Yo(h,m,p)))),d)break;h=h.return}0<u.length&&(l=new s(l,c,null,n,r),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[mr])&&(s||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=o,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=o),s!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:wr(s),p=null==c?l:wr(c),(l=new u(m,h+"leave",s,n,r)).target=d,l.relatedTarget=p,m=null,br(r)===o&&((u=new u(f,h+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,s&&c)e:{for(f=c,h=0,p=u=s;p;p=Go(p))h++;for(p=0,m=f;m;m=Go(m))p++;for(;0<h-p;)u=Go(u),h--;for(;0<p-h;)f=Go(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Go(u),f=Go(f)}u=null}else u=null;null!==s&&qo(i,l,s,u,!1),null!==c&&null!==d&&qo(i,d,c,u,!0)}if("select"===(s=(l=o?wr(o):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=$n;else if(Wn(l))if(Qn)g=io;else{g=ro;var v=oo}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ao);switch(g&&(g=g(e,o))?Xn(i,g,n,r):(v&&v(e,l,o),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=o?wr(o):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(vo=v,yo=o,bo=null);break;case"focusout":bo=yo=vo=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,wo(i,n,r);break;case"selectionchange":if(go)break;case"keydown":case"keyup":wo(i,n,r)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Zt="value"in(Qt=r)?Qt.value:Qt.textContent,Vn=!0)),0<(v=Ko(o,b)).length&&(b=new xn(b,e,null,n,r),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Jt=Zt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=Ko(o,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:o}),r.data=y))}Fo(i,t)})}function Yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ko(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Te(e,n))&&o.unshift(Yo(e,a,r)),null!=(a=Te(e,t))&&o.push(Yo(e,a,r))),e=e.return}return o}function Go(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qo(e,t,n,o,r){for(var a=t._reactName,i=[];null!==n&&n!==o;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===o)break;5===l.tag&&null!==c&&(l=c,r?null!=(s=Te(n,a))&&i.unshift(Yo(n,s,l)):r||null!=(s=Te(n,a))&&i.push(Yo(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $o=/\r\n?/g,Qo=/\u0000|\uFFFD/g;function Zo(e){return("string"===typeof e?e:""+e).replace($o,"\n").replace(Qo,"")}function Jo(e,t,n){if(t=Zo(t),Zo(e)!==t&&n)throw Error(a(425))}function er(){}var tr=null,nr=null;function or(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ar="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(sr)}:rr;function sr(e){setTimeout(function(){throw e})}function cr(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return e.removeChild(r),void Vt(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Vt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),pr="__reactFiber$"+fr,hr="__reactProps$"+fr,mr="__reactContainer$"+fr,gr="__reactEvents$"+fr,vr="__reactListeners$"+fr,yr="__reactHandles$"+fr;function br(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[pr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function xr(e){return!(e=e[pr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Sr(e){return e[hr]||null}var kr=[],Er=-1;function Nr(e){return{current:e}}function Cr(e){0>Er||(e.current=kr[Er],kr[Er]=null,Er--)}function Pr(e,t){Er++,kr[Er]=e.current,e.current=t}var _r={},jr=Nr(_r),Mr=Nr(!1),Dr=_r;function Tr(e,t){var n=e.type.contextTypes;if(!n)return _r;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Cr(Mr),Cr(jr)}function Ar(e,t,n){if(jr.current!==_r)throw Error(a(168));Pr(jr,t),Pr(Mr,n)}function Ir(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(a(108,H(e)||"Unknown",r));return R({},n,o)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,Dr=jr.current,Pr(jr,e),Pr(Mr,Mr.current),!0}function Lr(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=Ir(e,t,Dr),o.__reactInternalMemoizedMergedChildContext=e,Cr(Mr),Cr(jr),Pr(jr,e)):Cr(Mr),Pr(Mr,n)}var Fr=null,Br=!1,Ur=!1;function Vr(e){null===Fr?Fr=[e]:Fr.push(e)}function Hr(){if(!Ur&&null!==Fr){Ur=!0;var e=0,t=bt;try{var n=Fr;for(bt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Fr=null,Br=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ke(Je,Hr),r}finally{bt=t,Ur=!1}}return null}var Wr=[],Xr=0,Yr=null,Kr=0,Gr=[],qr=0,$r=null,Qr=1,Zr="";function Jr(e,t){Wr[Xr++]=Kr,Wr[Xr++]=Yr,Yr=e,Kr=t}function ea(e,t,n){Gr[qr++]=Qr,Gr[qr++]=Zr,Gr[qr++]=$r,$r=e;var o=Qr;e=Zr;var r=32-it(o)-1;o&=~(1<<r),n+=1;var a=32-it(t)+r;if(30<a){var i=r-r%5;a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,Qr=1<<32-it(t)+r|n<<r|o,Zr=a+e}else Qr=1<<a|n<<r|o,Zr=e}function ta(e){null!==e.return&&(Jr(e,1),ea(e,1,0))}function na(e){for(;e===Yr;)Yr=Wr[--Xr],Wr[Xr]=null,Kr=Wr[--Xr],Wr[Xr]=null;for(;e===$r;)$r=Gr[--qr],Gr[qr]=null,Zr=Gr[--qr],Gr[qr]=null,Qr=Gr[--qr],Gr[qr]=null}var oa=null,ra=null,aa=!1,ia=null;function la(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oa=e,ra=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$r?{id:Qr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oa=e,ra=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ca(e))throw Error(a(418));t=ur(n.nextSibling);var o=oa;t&&sa(e,t)?la(o,n):(e.flags=-4097&e.flags|2,aa=!1,oa=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,oa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oa=e}function fa(e){if(e!==oa)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!or(e.type,e.memoizedProps)),t&&(t=ra)){if(ca(e))throw pa(),Error(a(418));for(;t;)la(e,t),t=ur(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=oa?ur(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=ra;e;)e=ur(e.nextSibling)}function ha(){ra=oa=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=x.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var r=o,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,o){return null===t||6!==t.tag?((t=Rc(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){var a=n.type;return a===k?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ba(a)===t.type)?((o=r(t,n.props)).ref=va(e,t,n),o.return=e,o):((o=Oc(n.type,n.key,n.props,null,e.mode,o)).ref=va(e,t,n),o.return=e,o)}function u(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,a){return null===t||7!==t.tag?((t=Ac(n,e.mode,o,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case S:return(t=Lc(t,e.mode,n)).return=e,t;case T:return f(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ac(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:s(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,o):null;case S:return n.key===r?u(e,t,n,o):null;case T:return p(e,t,(r=n._init)(n._payload),o)}if(te(n)||A(n))return null!==r?null:d(e,t,n,o,null);ya(e,n)}return null}function h(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return s(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case w:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case S:return u(t,e=e.get(null===o.key?n:o.key)||null,o,r);case T:return h(e,t,n,(0,o._init)(o._payload),r)}if(te(o)||A(o))return d(t,e=e.get(n)||null,o,r,null);ya(t,o)}return null}function m(r,a,l,s){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(r,d,l[m],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===l.length)return n(r,d),aa&&Jr(r,m),c;if(null===d){for(;m<l.length;m++)null!==(d=f(r,l[m],s))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return aa&&Jr(r,m),c}for(d=o(r,d);m<l.length;m++)null!==(g=h(d,r,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),aa&&Jr(r,m),c}function g(r,l,s,c){var u=A(s);if("function"!==typeof u)throw Error(a(150));if(null==(s=u.call(s)))throw Error(a(151));for(var d=u=null,m=l,g=l=0,v=null,y=s.next();null!==m&&!y.done;g++,y=s.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(r,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(r,m),l=i(b,l,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(r,m),aa&&Jr(r,g),u;if(null===m){for(;!y.done;g++,y=s.next())null!==(y=f(r,y.value,c))&&(l=i(y,l,g),null===d?u=y:d.sibling=y,d=y);return aa&&Jr(r,g),u}for(m=o(r,m);!y.done;g++,y=s.next())null!==(y=h(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),l=i(y,l,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(r,e)}),aa&&Jr(r,g),u}return function e(o,a,i,s){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===k){if(7===u.tag){n(o,u.sibling),(a=r(u,i.props.children)).return=o,o=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&ba(c)===u.type){n(o,u.sibling),(a=r(u,i.props)).ref=va(o,u,i),a.return=o,o=a;break e}n(o,u);break}t(o,u),u=u.sibling}i.type===k?((a=Ac(i.props.children,o.mode,s,i.key)).return=o,o=a):((s=Oc(i.type,i.key,i.props,null,o.mode,s)).ref=va(o,a,i),s.return=o,o=s)}return l(o);case S:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(o,a.sibling),(a=r(a,i.children||[])).return=o,o=a;break e}n(o,a);break}t(o,a),a=a.sibling}(a=Lc(i,o.mode,s)).return=o,o=a}return l(o);case T:return e(o,a,(u=i._init)(i._payload),s)}if(te(i))return m(o,a,i,s);if(A(i))return g(o,a,i,s);ya(o,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(o,a.sibling),(a=r(a,i)).return=o,o=a):(n(o,a),(a=Rc(i,o.mode,s)).return=o,o=a),l(o)):n(o,a)}}var wa=xa(!0),Sa=xa(!1),ka=Nr(null),Ea=null,Na=null,Ca=null;function Pa(){Ca=Na=Ea=null}function _a(e){var t=ka.current;Cr(ka),e._currentValue=t}function ja(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){Ea=e,Ca=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Da(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===Ea)throw Error(a(308));Na=e,Ea.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Ta=null;function za(e){null===Ta?Ta=[e]:Ta.push(e)}function Oa(e,t,n,o){var r=t.interleaved;return null===r?(n.next=n,za(t)):(n.next=r.next,r.next=n),t.interleaved=n,Aa(e,o)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&_s)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Aa(e,n)}return null===(r=o.interleaved)?(t.next=t,za(o)):(t.next=r.next,r.next=t),o.interleaved=t,Aa(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Va(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,o){var r=e.updateQueue;Ia=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?a=c:i.next=c,i=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==a){var d=r.baseState;for(i=0,u=c=s=null,l=a;;){var f=l.lane,p=l.eventTime;if((o&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=R({},d,f);break e;case 2:Ia=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,i|=f;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(f=l).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===u&&(s=d),r.baseState=s,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Is|=i,e.lanes=i,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(a(191,r));r.call(o)}}}var Xa={},Ya=Nr(Xa),Ka=Nr(Xa),Ga=Nr(Xa);function qa(e){if(e===Xa)throw Error(a(174));return e}function $a(e,t){switch(Pr(Ga,t),Pr(Ka,e),Pr(Ya,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(Ya),Pr(Ya,t)}function Qa(){Cr(Ya),Cr(Ka),Cr(Ga)}function Za(e){qa(Ga.current);var t=qa(Ya.current),n=se(t,e.type);t!==n&&(Pr(Ka,e),Pr(Ya,n))}function Ja(e){Ka.current===e&&(Cr(Ya),Cr(Ka))}var ei=Nr(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function oi(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ri=x.ReactCurrentDispatcher,ai=x.ReactCurrentBatchConfig,ii=0,li=null,si=null,ci=null,ui=!1,di=!1,fi=0,pi=0;function hi(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function gi(e,t,n,o,r,i){if(ii=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Ji:el,e=n(o,r),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(a(301));i+=1,ci=si=null,t.updateQueue=null,ri.current=tl,e=n(o,r)}while(di)}if(ri.current=Zi,t=null!==si&&null!==si.next,ii=0,ci=si=li=null,ui=!1,t)throw Error(a(300));return e}function vi(){var e=0!==fi;return fi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?li.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===si){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=si.next;var t=null===ci?li.memoizedState:ci.next;if(null!==t)ci=t,si=e;else{if(null===e)throw Error(a(310));e={memoizedState:(si=e).memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},null===ci?li.memoizedState=ci=e:ci=ci.next=e}return ci}function xi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=si,r=o.baseQueue,i=n.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,o=o.baseState;var s=l=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=o):c=c.next=f,li.lanes|=d,Is|=d}u=u.next}while(null!==u&&u!==i);null===c?l=o:c.next=s,lo(o,t.memoizedState)||(bl=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,li.lanes|=i,Is|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);lo(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function ki(){}function Ei(e,t){var n=li,o=bi(),r=t(),i=!lo(o.memoizedState,r);if(i&&(o.memoizedState=r,bl=!0),o=o.queue,Ii(Pi.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Di(9,Ci.bind(null,n,o,r,t),void 0,null),null===js)throw Error(a(349));0!==(30&ii)||Ni(n,t,r)}return r}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ci(e,t,n,o){t.value=n,t.getSnapshot=o,_i(t)&&ji(e)}function Pi(e,t,n){return n(function(){_i(t)&&ji(e)})}function _i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch(o){return!0}}function ji(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Mi(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,li,e),[t.memoizedState,e]}function Di(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Ti(){return bi().memoizedState}function zi(e,t,n,o){var r=yi();li.flags|=e,r.memoizedState=Di(1|t,n,void 0,void 0===o?null:o)}function Oi(e,t,n,o){var r=bi();o=void 0===o?null:o;var a=void 0;if(null!==si){var i=si.memoizedState;if(a=i.destroy,null!==o&&mi(o,i.deps))return void(r.memoizedState=Di(t,n,a,o))}li.flags|=e,r.memoizedState=Di(1|t,n,a,o)}function Ai(e,t){return zi(8390656,8,e,t)}function Ii(e,t){return Oi(2048,8,e,t)}function Ri(e,t){return Oi(4,2,e,t)}function Li(e,t){return Oi(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4,4,Fi.bind(null,t,e),n)}function Ui(){}function Vi(e,t){var n=bi();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&mi(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Hi(e,t){var n=bi();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&mi(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lo(n,t)||(n=mt(),li.lanes|=n,Is|=n,e.baseState=!0),t)}function Xi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var o=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=o}}function Yi(){return bi().memoizedState}function Ki(e,t,n){var o=tc(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},qi(e))$i(t,n);else if(null!==(n=Oa(e,t,n,o))){nc(n,e,o,ec()),Qi(n,t,o)}}function Gi(e,t,n){var o=tc(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(qi(e))$i(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(r.hasEagerState=!0,r.eagerState=l,lo(l,i)){var s=t.interleaved;return null===s?(r.next=r,za(t)):(r.next=s.next,s.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Oa(e,t,r,o))&&(nc(n,e,o,r=ec()),Qi(n,t,o))}}function qi(e){var t=e.alternate;return e===li||null!==t&&t===li}function $i(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zi={readContext:Da,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Ji={readContext:Da,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Da,useEffect:Ai,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zi(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return zi(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=yi();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Ki.bind(null,li,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Mi,useDebugValue:Ui,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Xi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=li,r=yi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===js)throw Error(a(349));0!==(30&ii)||Ni(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ai(Pi.bind(null,o,i,e),[e]),o.flags|=2048,Di(9,Ci.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=js.identifierPrefix;if(aa){var n=Zr;t=":"+t+"R"+(n=(Qr&~(1<<32-it(Qr)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Da,useCallback:Vi,useContext:Da,useEffect:Ii,useImperativeHandle:Bi,useInsertionEffect:Ri,useLayoutEffect:Li,useMemo:Hi,useReducer:wi,useRef:Ti,useState:function(){return wi(xi)},useDebugValue:Ui,useDeferredValue:function(e){return Wi(bi(),si.memoizedState,e)},useTransition:function(){return[wi(xi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Ei,useId:Yi,unstable_isNewReconciler:!1},tl={readContext:Da,useCallback:Vi,useContext:Da,useEffect:Ii,useImperativeHandle:Bi,useInsertionEffect:Ri,useLayoutEffect:Li,useMemo:Hi,useReducer:Si,useRef:Ti,useState:function(){return Si(xi)},useDebugValue:Ui,useDeferredValue:function(e){var t=bi();return null===si?t.memoizedState=e:Wi(t,si.memoizedState,e)},useTransition:function(){return[Si(xi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Ei,useId:Yi,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ol(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=ec(),r=tc(e),a=Fa(o,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,r))&&(nc(t,e,r,o),Ua(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=ec(),r=tc(e),a=Fa(o,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,r))&&(nc(t,e,r,o),Ua(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),o=tc(e),r=Fa(n,o);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ba(e,r,o))&&(nc(t,e,o,n),Ua(t,e,o))}};function al(e,t,n,o,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!so(n,o)||!so(r,a))}function il(e,t,n){var o=!1,r=_r,a=t.contextType;return"object"===typeof a&&null!==a?a=Da(a):(r=zr(t)?Dr:jr.current,a=(o=null!==(o=t.contextTypes)&&void 0!==o)?Tr(e,r):_r),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ll(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function sl(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Da(a):(a=zr(t)?Dr:jr.current,r.context=Tr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ol(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rl.enqueueReplaceState(r,r.state,null),Ha(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",o=t;do{n+=U(o),o=o.return}while(o);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ws||(Ws=!0,Xs=o),dl(0,t)},n}function hl(e,t,n){(n=Fa(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof o&&(null===Ys?Ys=new Set([this]):Ys.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new fl;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,o,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yl=x.ReactCurrentOwner,bl=!1;function xl(e,t,n,o){t.child=null===e?Sa(t,null,n,o):wa(t,e.child,n,o)}function wl(e,t,n,o,r){n=n.render;var a=t.ref;return Ma(t,r),o=gi(e,t,n,o,a,r),n=vi(),null===e||bl?(aa&&n&&ta(t),t.flags|=1,xl(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wl(e,t,r))}function Sl(e,t,n,o,r){if(null===e){var a=n.type;return"function"!==typeof a||Tc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,kl(e,t,a,o,r))}if(a=e.child,0===(e.lanes&r)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:so)(i,o)&&e.ref===t.ref)return Wl(e,t,r)}return t.flags|=1,(e=zc(a,o)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,o,r){if(null!==e){var a=e.memoizedProps;if(so(a,o)&&e.ref===t.ref){if(bl=!1,t.pendingProps=o=a,0===(e.lanes&r))return t.lanes=e.lanes,Wl(e,t,r);0!==(131072&e.flags)&&(bl=!0)}}return Cl(e,t,n,o,r)}function El(e,t,n){var o=t.pendingProps,r=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(zs,Ts),Ts|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(zs,Ts),Ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==a?a.baseLanes:n,Pr(zs,Ts),Ts|=o}else null!==a?(o=a.baseLanes|n,t.memoizedState=null):o=n,Pr(zs,Ts),Ts|=o;return xl(e,t,r,n),t.child}function Nl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,o,r){var a=zr(n)?Dr:jr.current;return a=Tr(t,a),Ma(t,r),n=gi(e,t,n,o,a,r),o=vi(),null===e||bl?(aa&&o&&ta(t),t.flags|=1,xl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wl(e,t,r))}function Pl(e,t,n,o,r){if(zr(n)){var a=!0;Rr(t)}else a=!1;if(Ma(t,r),null===t.stateNode)Hl(e,t),il(t,n,o),sl(t,n,o,r),o=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Da(c):c=Tr(t,c=zr(n)?Dr:jr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==o||s!==c)&&ll(t,i,o,c),Ia=!1;var f=t.memoizedState;i.state=f,Ha(t,o,i,r),s=t.memoizedState,l!==o||f!==s||Mr.current||Ia?("function"===typeof u&&(ol(t,n,u,o),s=t.memoizedState),(l=Ia||al(t,n,l,o,f,s,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=s),i.props=o,i.state=s,i.context=c,o=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,La(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:nl(t.type,l),i.props=c,d=t.pendingProps,f=i.context,"object"===typeof(s=n.contextType)&&null!==s?s=Da(s):s=Tr(t,s=zr(n)?Dr:jr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||f!==s)&&ll(t,i,o,s),Ia=!1,f=t.memoizedState,i.state=f,Ha(t,o,i,r);var h=t.memoizedState;l!==d||f!==h||Mr.current||Ia?("function"===typeof p&&(ol(t,n,p,o),h=t.memoizedState),(c=Ia||al(t,n,c,o,f,h,s)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(o,h,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,h,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),i.props=o,i.state=h,i.context=s,o=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),o=!1)}return _l(e,t,n,o,a,r)}function _l(e,t,n,o,r,a){Nl(e,t);var i=0!==(128&t.flags);if(!o&&!i)return r&&Lr(t,n,!1),Wl(e,t,a);o=t.stateNode,yl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&i?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,l,a)):xl(e,t,l,a),t.memoizedState=o.state,r&&Lr(t,n,!0),t.child}function jl(e){var t=e.stateNode;t.pendingContext?Ar(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ar(0,t.context,!1),$a(e,t.containerInfo)}function Ml(e,t,n,o,r){return ha(),ma(r),t.flags|=256,xl(e,t,n,o),t.child}var Dl,Tl,zl,Ol,Al={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rl(e,t,n){var o,r=t.pendingProps,i=ei.current,l=!1,s=0!==(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!==(2&i)),o?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Pr(ei,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Ic(s,r,0,null),e=Ac(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Il(n),t.memoizedState=Al,e):Ll(t,s));if(null!==(i=e.memoizedState)&&null!==(o=i.dehydrated))return function(e,t,n,o,r,i,l){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,o=ul(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Ic({mode:"visible",children:o.children},r,0,null),(i=Ac(i,r,l,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,0!==(1&t.mode)&&wa(t,e.child,null,l),t.child.memoizedState=Il(l),t.memoizedState=Al,i);if(0===(1&t.mode))return Fl(e,t,l,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var s=o.dgst;return o=s,Fl(e,t,l,o=ul(i=Error(a(419)),o,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(o=js)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Aa(e,r),nc(o,e,r,-1))}return mc(),Fl(e,t,l,o=ul(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ra=ur(r.nextSibling),oa=t,aa=!0,ia=null,null!==e&&(Gr[qr++]=Qr,Gr[qr++]=Zr,Gr[qr++]=$r,Qr=e.id,Zr=e.overflow,$r=t),t=Ll(t,o.children),t.flags|=4096,t)}(e,t,s,r,o,i,n);if(l){l=r.fallback,s=t.mode,o=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&s)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=zc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==o?l=zc(o,l):(l=Ac(l,s,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=null===(s=e.child.memoizedState)?Il(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Al,r}return e=(l=e.child).sibling,r=zc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ll(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,o){return null!==o&&ma(o),wa(t,e.child,null,n),(e=Ll(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),ja(e.return,t,n)}function Ul(e,t,n,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=r)}function Vl(e,t,n){var o=t.pendingProps,r=o.revealOrder,a=o.tail;if(xl(e,t,o.children,n),0!==(2&(o=ei.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Pr(ei,o),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ul(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ti(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ul(t,!0,n,null,a);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Kl(e,t,n){var o=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return zr(t.type)&&Or(),Yl(t),null;case 3:return o=t.stateNode,Qa(),Cr(Mr),Cr(jr),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(ic(ia),ia=null))),Tl(e,t),Yl(t),null;case 5:Ja(t);var r=qa(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)zl(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(a(166));return Yl(t),null}if(e=qa(Ya.current),fa(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[pr]=t,o[hr]=i,e=0!==(1&t.mode),n){case"dialog":Bo("cancel",o),Bo("close",o);break;case"iframe":case"object":case"embed":Bo("load",o);break;case"video":case"audio":for(r=0;r<Io.length;r++)Bo(Io[r],o);break;case"source":Bo("error",o);break;case"img":case"image":case"link":Bo("error",o),Bo("load",o);break;case"details":Bo("toggle",o);break;case"input":$(o,i),Bo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Bo("invalid",o);break;case"textarea":re(o,i),Bo("invalid",o)}for(var s in ye(n,i),r=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"===typeof c?o.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jo(o.textContent,c,e),r=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jo(o.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Bo("scroll",o)}switch(n){case"input":Y(o),J(o,i,!0);break;case"textarea":Y(o),ie(o);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(o.onclick=er)}o=r,t.updateQueue=o,null!==o&&(t.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),"select"===n&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[pr]=t,e[hr]=o,Dl(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,o),n){case"dialog":Bo("cancel",e),Bo("close",e),r=o;break;case"iframe":case"object":case"embed":Bo("load",e),r=o;break;case"video":case"audio":for(r=0;r<Io.length;r++)Bo(Io[r],e);r=o;break;case"source":Bo("error",e),r=o;break;case"img":case"image":case"link":Bo("error",e),Bo("load",e),r=o;break;case"details":Bo("toggle",e),r=o;break;case"input":$(e,o),r=q(e,o),Bo("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=R({},o,{value:void 0}),Bo("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),Bo("invalid",e)}for(i in ye(n,r),c=r)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Bo("scroll",e):null!=u&&b(e,i,u,s))}switch(n){case"input":Y(e),J(e,o,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=o.value&&e.setAttribute("value",""+W(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?ne(e,!!o.multiple,i,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));if(n=qa(Ga.current),qa(Ya.current),fa(t)){if(o=t.stateNode,n=t.memoizedProps,o[pr]=t,(i=o.nodeValue!==n)&&null!==(e=oa))switch(e.tag){case 3:Jo(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jo(o.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[pr]=t,t.stateNode=o}return Yl(t),null;case 13:if(Cr(ei),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))pa(),ha(),t.flags|=98560,i=!1;else if(i=fa(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[pr]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==ia&&(ic(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Os&&(Os=3):mc())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return Qa(),Tl(e,t),null===e&&Ho(t.stateNode.containerInfo),Yl(t),null;case 10:return _a(t.type._context),Yl(t),null;case 19:if(Cr(ei),null===(i=t.memoizedState))return Yl(t),null;if(o=0!==(128&t.flags),null===(s=i.rendering))if(o)Xl(i,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ti(e))){for(t.flags|=128,Xl(i,!1),null!==(o=s.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pr(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Vs&&(t.flags|=128,o=!0,Xl(i,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ti(s))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!aa)return Yl(t),null}else 2*Qe()-i.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,o=!0,Xl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=ei.current,Pr(ei,o?1&n|2:1&n),t):(Yl(t),null);case 22:case 23:return dc(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&Ts)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gl(e,t){switch(na(t),t.tag){case 1:return zr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Cr(Mr),Cr(jr),oi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Cr(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr(ei),null;case 4:return Qa(),null;case 10:return _a(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Dl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Tl=function(){},zl=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,qa(Ya.current);var a,i=null;switch(n){case"input":r=q(e,r),o=q(e,o),i=[];break;case"select":r=R({},r,{value:void 0}),o=R({},o,{value:void 0}),i=[];break;case"textarea":r=oe(e,r),o=oe(e,o),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=er)}for(u in ye(n,o),n=null,r)if(!o.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var s=r[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in o){var c=o[u];if(s=null!=r?r[u]:void 0,o.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bo("scroll",e),i||s===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ol=function(e,t,n,o){n!==o&&(t.flags|=4)};var ql=!1,$l=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Zl=null;function Jl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){Ec(e,t,o)}else n.current=null}function es(e,t,n){try{n()}catch(o){Ec(e,t,o)}}var ts=!1;function ns(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&es(t,n,a)}r=r.next}while(r!==o)}}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function rs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[hr],delete t[gr],delete t[vr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==o&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var us=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(l){}switch(n.tag){case 5:$l||Jl(n,t);case 6:var o=us,r=ds;us=null,fs(e,t,n),ds=r,null!==(us=o)&&(ds?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ds?(e=us,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Vt(e)):cr(us,n.stateNode));break;case 4:o=us,r=ds,us=n.stateNode.containerInfo,ds=!0,fs(e,t,n),us=o,ds=r;break;case 0:case 11:case 14:case 15:if(!$l&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var a=r,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&es(n,t,i),r=r.next}while(r!==o)}fs(e,t,n);break;case 1:if(!$l&&(Jl(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(l){Ec(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?($l=(o=$l)||null!==n.memoizedState,fs(e,t,n),$l=o):fs(e,t,n);break;default:fs(e,t,n)}}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach(function(t){var o=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}}function ms(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ds=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===us)throw Error(a(160));ps(i,l,r),us=null,ds=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),vs(e),4&o){try{ns(3,e,e.return),os(3,e)}catch(g){Ec(e,e.return,g)}try{ns(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ms(t,e),vs(e),512&o&&null!==n&&Jl(n,n.return);break;case 5:if(ms(t,e),vs(e),512&o&&null!==n&&Jl(n,n.return),32&e.flags){var r=e.stateNode;try{fe(r,"")}catch(g){Ec(e,e.return,g)}}if(4&o&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===i.type&&null!=i.name&&Q(r,i),be(s,l);var u=be(s,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ge(r,f):"dangerouslySetInnerHTML"===d?de(r,f):"children"===d?fe(r,f):b(r,d,f,u)}switch(s){case"input":Z(r,i);break;case"textarea":ae(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(r,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(g){Ec(e,e.return,g)}}break;case 6:if(ms(t,e),vs(e),4&o){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(g){Ec(e,e.return,g)}}break;case 3:if(ms(t,e),vs(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ms(t,e),vs(e);break;case 13:ms(t,e),vs(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Us=Qe())),4&o&&hs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($l=(u=$l)||d,ms(t,e),$l=u):ms(t,e),vs(e),8192&o){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zl=e,d=e.child;null!==d;){for(f=Zl=d;null!==Zl;){switch(h=(p=Zl).child,p.tag){case 0:case 11:case 14:case 15:ns(4,p,p.return);break;case 1:Jl(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){o=p,n=p.return;try{t=o,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(o,n,g)}}break;case 5:Jl(p,p.return);break;case 22:if(null!==p.memoizedState){ws(f);continue}}null!==h?(h.return=p,Zl=h):ws(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{r=f.stateNode,u?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,l=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(g){Ec(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),vs(e),4&o&&hs(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(is(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(fe(r,""),o.flags&=-33),cs(e,ls(e),r);break;case 3:case 4:var i=o.stateNode.containerInfo;ss(e,ls(e),i);break;default:throw Error(a(161))}}catch(l){Ec(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Zl=e,bs(e,t,n)}function bs(e,t,n){for(var o=0!==(1&e.mode);null!==Zl;){var r=Zl,a=r.child;if(22===r.tag&&o){var i=null!==r.memoizedState||ql;if(!i){var l=r.alternate,s=null!==l&&null!==l.memoizedState||$l;l=ql;var c=$l;if(ql=i,($l=s)&&!c)for(Zl=r;null!==Zl;)s=(i=Zl).child,22===i.tag&&null!==i.memoizedState?Ss(r):null!==s?(s.return=i,Zl=s):Ss(r);for(;null!==a;)Zl=a,bs(a,t,n),a=a.sibling;Zl=r,ql=l,$l=c}xs(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Zl=a):xs(e)}}function xs(e){for(;null!==Zl;){var t=Zl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$l||os(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!$l)if(null===n)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wa(t,i,o);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}$l||512&t.flags&&rs(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Zl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zl=n;break}Zl=t.return}}function ws(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zl=n;break}Zl=t.return}}function Ss(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(s){Ec(t,n,s)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var r=t.return;try{o.componentDidMount()}catch(s){Ec(t,r,s)}}var a=t.return;try{rs(t)}catch(s){Ec(t,a,s)}break;case 5:var i=t.return;try{rs(t)}catch(s){Ec(t,i,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Zl=l;break}Zl=t.return}}var ks,Es=Math.ceil,Ns=x.ReactCurrentDispatcher,Cs=x.ReactCurrentOwner,Ps=x.ReactCurrentBatchConfig,_s=0,js=null,Ms=null,Ds=0,Ts=0,zs=Nr(0),Os=0,As=null,Is=0,Rs=0,Ls=0,Fs=null,Bs=null,Us=0,Vs=1/0,Hs=null,Ws=!1,Xs=null,Ys=null,Ks=!1,Gs=null,qs=0,$s=0,Qs=null,Zs=-1,Js=0;function ec(){return 0!==(6&_s)?Qe():-1!==Zs?Zs:Zs=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_s)&&0!==Ds?Ds&-Ds:null!==ga.transition?(0===Js&&(Js=mt()),Js):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,o){if(50<$s)throw $s=0,Qs=null,Error(a(185));vt(e,n,o),0!==(2&_s)&&e===js||(e===js&&(0===(2&_s)&&(Rs|=n),4===Os&&lc(e,Ds)),oc(e,o),1===n&&0===_s&&0===(1&t.mode)&&(Vs=Qe()+500,Br&&Hr()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,s=r[i];-1===s?0!==(l&n)&&0===(l&o)||(r[i]=pt(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var o=ft(e,e===js?Ds:0);if(0===o)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Br=!0,Vr(e)}(sc.bind(null,e)):Vr(sc.bind(null,e)),lr(function(){0===(6&_s)&&Hr()}),n=null;else{switch(xt(o)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=jc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Zs=-1,Js=0,0!==(6&_s))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var o=ft(e,e===js?Ds:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=gc(e,o);else{t=o;var r=_s;_s|=2;var i=hc();for(js===e&&Ds===t||(Hs=null,Vs=Qe()+500,fc(e,t));;)try{yc();break}catch(s){pc(e,s)}Pa(),Ns.current=i,_s=r,null!==Ms?t=0:(js=null,Ds=0,t=Os)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(o=r,t=ac(e,r))),1===t)throw n=As,fc(e,0),lc(e,o),oc(e,Qe()),n;if(6===t)lc(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],a=r.getSnapshot;r=r.value;try{if(!lo(a(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,o))&&(0!==(i=ht(e))&&(o=i,t=ac(e,i))),1===t))throw n=As,fc(e,0),lc(e,o),oc(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bs,Hs);break;case 3:if(lc(e,o),(130023424&o)===o&&10<(t=Us+500-Qe())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&o)!==o){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(wc.bind(null,e,Bs,Hs),t);break}wc(e,Bs,Hs);break;case 4:if(lc(e,o),(4194240&o)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-it(o);i=1<<l,(l=t[l])>r&&(r=l),o&=~i}if(o=r,10<(o=(120>(o=Qe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Es(o/1960))-o)){e.timeoutHandle=rr(wc.bind(null,e,Bs,Hs),o);break}wc(e,Bs,Hs);break;default:throw Error(a(329))}}}return oc(e,Qe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Fs;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bs,Bs=n,null!==t&&ic(t)),e}function ic(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function lc(e,t){for(t&=~Ls,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),o=1<<n;e[n]=-1,t&=~o}}function sc(e){if(0!==(6&_s))throw Error(a(327));Sc();var t=ft(e,0);if(0===(1&t))return oc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var o=ht(e);0!==o&&(t=o,n=ac(e,o))}if(1===n)throw n=As,fc(e,0),lc(e,t),oc(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bs,Hs),oc(e,Qe()),null}function cc(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Vs=Qe()+500,Br&&Hr())}}function uc(e){null!==Gs&&0===Gs.tag&&0===(6&_s)&&Sc();var t=_s;_s|=1;var n=Ps.transition,o=bt;try{if(Ps.transition=null,bt=1,e)return e()}finally{bt=o,Ps.transition=n,0===(6&(_s=t))&&Hr()}}function dc(){Ts=zs.current,Cr(zs)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ar(n)),null!==Ms)for(n=Ms.return;null!==n;){var o=n;switch(na(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Or();break;case 3:Qa(),Cr(Mr),Cr(jr),oi();break;case 5:Ja(o);break;case 4:Qa();break;case 13:case 19:Cr(ei);break;case 10:_a(o.type._context);break;case 22:case 23:dc()}n=n.return}if(js=e,Ms=e=zc(e.current,null),Ds=Ts=t,Os=0,As=null,Ls=Rs=Is=0,Bs=Fs=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(o=(n=Ta[t]).interleaved)){n.interleaved=null;var r=o.next,a=n.pending;if(null!==a){var i=a.next;a.next=r,o.next=i}n.pending=o}Ta=null}return e}function pc(e,t){for(;;){var n=Ms;try{if(Pa(),ri.current=Zi,ui){for(var o=li.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}ui=!1}if(ii=0,ci=si=li=null,di=!1,fi=0,Cs.current=null,null===n||null===n.return){Os=1,As=t,Ms=null;break}e:{var i=e,l=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gl(l);if(null!==h){h.flags&=-257,vl(h,l,s,0,t),1&h.mode&&ml(i,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ml(i,u,t),mc();break e}c=Error(a(426))}else if(aa&&1&s.mode){var v=gl(l);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vl(v,l,s,0,t),ma(cl(c,s));break e}}i=c=cl(c,s),4!==Os&&(Os=2),null===Fs?Fs=[i]:Fs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Va(i,pl(0,c,t));break e;case 1:s=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ys||!Ys.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Va(i,hl(i,s,t));break e}}i=i.return}while(null!==i)}xc(n)}catch(x){t=x,Ms===n&&null!==n&&(Ms=n=n.return);continue}break}}function hc(){var e=Ns.current;return Ns.current=Zi,null===e?Zi:e}function mc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===js||0===(268435455&Is)&&0===(268435455&Rs)||lc(js,Ds)}function gc(e,t){var n=_s;_s|=2;var o=hc();for(js===e&&Ds===t||(Hs=null,fc(e,t));;)try{vc();break}catch(r){pc(e,r)}if(Pa(),_s=n,Ns.current=o,null!==Ms)throw Error(a(261));return js=null,Ds=0,Os}function vc(){for(;null!==Ms;)bc(Ms)}function yc(){for(;null!==Ms&&!qe();)bc(Ms)}function bc(e){var t=ks(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,null===t?xc(e):Ms=t,Cs.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Kl(n,t,Ts)))return void(Ms=n)}else{if(null!==(n=Gl(n,t)))return n.flags&=32767,void(Ms=n);if(null===e)return Os=6,void(Ms=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ms=t);Ms=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var o=bt,r=Ps.transition;try{Ps.transition=null,bt=1,function(e,t,n,o){do{Sc()}while(null!==Gs);if(0!==(6&_s))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),a=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~a}}(e,i),e===js&&(Ms=js=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,jc(tt,function(){return Sc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Ps.transition,Ps.transition=null;var l=bt;bt=1;var s=_s;_s|=4,Cs.current=null,function(e,t){if(tr=Wt,ho(e=po())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==r&&3!==f.nodeType||(s=l+r),f!==i||0!==o&&3!==f.nodeType||(c=l+o),3===f.nodeType&&(l+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===r&&(s=l),p===i&&++d===o&&(c=l),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},Wt=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:nl(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}m=ts,ts=!1}(e,n),gs(n,e),mo(nr),Wt=!!tr,nr=tr=null,e.current=n,ys(n,e,r),$e(),_s=s,bt=l,Ps.transition=i}else e.current=n;if(Ks&&(Ks=!1,Gs=e,qs=r),i=e.pendingLanes,0===i&&(Ys=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Qe()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Ws)throw Ws=!1,e=Xs,Xs=null,e;0!==(1&qs)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Qs?$s++:($s=0,Qs=e):$s=0,Hr()}(e,t,n,o)}finally{Ps.transition=r,bt=o}return null}function Sc(){if(null!==Gs){var e=xt(qs),t=Ps.transition,n=bt;try{if(Ps.transition=null,bt=16>e?16:e,null===Gs)var o=!1;else{if(e=Gs,Gs=null,qs=0,0!==(6&_s))throw Error(a(331));var r=_s;for(_s|=4,Zl=e.current;null!==Zl;){var i=Zl,l=i.child;if(0!==(16&Zl.flags)){var s=i.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Zl=u;null!==Zl;){var d=Zl;switch(d.tag){case 0:case 11:case 15:ns(8,d,i)}var f=d.child;if(null!==f)f.return=d,Zl=f;else for(;null!==Zl;){var p=(d=Zl).sibling,h=d.return;if(as(d),d===u){Zl=null;break}if(null!==p){p.return=h,Zl=p;break}Zl=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Zl=l;else e:for(;null!==Zl;){if(0!==(2048&(i=Zl).flags))switch(i.tag){case 0:case 11:case 15:ns(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Zl=y;break e}Zl=i.return}}var b=e.current;for(Zl=b;null!==Zl;){var x=(l=Zl).child;if(0!==(2064&l.subtreeFlags)&&null!==x)x.return=l,Zl=x;else e:for(l=b;null!==Zl;){if(0!==(2048&(s=Zl).flags))try{switch(s.tag){case 0:case 11:case 15:os(9,s)}}catch(S){Ec(s,s.return,S)}if(s===l){Zl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zl=w;break e}Zl=s.return}}if(_s=r,Hr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(S){}o=!0}return o}finally{bt=n,Ps.transition=t}}return!1}function kc(e,t,n){e=Ba(e,t=pl(0,t=cl(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),oc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Ys||!Ys.has(o))){t=Ba(t,e=hl(t,e=cl(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function Nc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,js===e&&(Ds&n)===n&&(4===Os||3===Os&&(130023424&Ds)===Ds&&500>Qe()-Us?fc(e,0):Ls|=n),oc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Aa(e,t))&&(vt(e,t,n),oc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}null!==o&&o.delete(t),Cc(e,n)}function jc(e,t){return Ke(e,t)}function Mc(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,o){return new Mc(e,t,n,o)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,o,r,i){var l=2;if(o=e,"function"===typeof e)Tc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Ac(n.children,r,i,t);case E:l=8,r|=8;break;case N:return(e=Dc(12,n,t,2|r)).elementType=N,e.lanes=i,e;case j:return(e=Dc(13,n,t,r)).elementType=j,e.lanes=i,e;case M:return(e=Dc(19,n,t,r)).elementType=M,e.lanes=i,e;case z:return Ic(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case P:l=9;break e;case _:l=11;break e;case D:l=14;break e;case T:l=16,o=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(l,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function Ac(e,t,n,o){return(e=Dc(7,e,o,t)).lanes=n,e}function Ic(e,t,n,o){return(e=Dc(22,e,o,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,o,r,a,i,l,s){return e=new Fc(e,t,n,l,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Uc(e){if(!e)return _r;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(zr(n))return Ir(e,n,t)}return t}function Vc(e,t,n,o,r,a,i,l,s){return(e=Bc(n,o,!0,e,0,a,0,l,s)).context=Uc(null),n=e.current,(a=Fa(o=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Ba(n,a,r),e.current.lanes=r,vt(e,r,o),oc(e,o),e}function Hc(e,t,n,o){var r=t.current,a=ec(),i=tc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,i)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=Ba(r,t,i))&&(nc(e,r,i,a),Ua(e,r,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mr.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:jl(t),ha();break;case 5:Za(t);break;case 1:zr(t.type)&&Rr(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Pr(ka,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(Pr(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rl(e,t,n):(Pr(ei,1&ei.current),null!==(e=Wl(e,t,n))?e.sibling:null);Pr(ei,1&ei.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Vl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pr(ei,ei.current),o)break;return null;case 22:case 23:return t.lanes=0,El(e,t,n)}return Wl(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,aa&&0!==(1048576&t.flags)&&ea(t,Kr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Hl(e,t),e=t.pendingProps;var r=Tr(t,jr.current);Ma(t,n),r=gi(null,t,o,e,r,n);var i=vi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(o)?(i=!0,Rr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ra(t),r.updater=rl,t.stateNode=r,r._reactInternals=t,sl(t,o,e,n),t=_l(null,t,o,!0,i,n)):(t.tag=0,aa&&i&&ta(t),xl(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(o),e=nl(o,e),r){case 0:t=Cl(null,t,o,e,n);break e;case 1:t=Pl(null,t,o,e,n);break e;case 11:t=wl(null,t,o,e,n);break e;case 14:t=Sl(null,t,o,nl(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,Cl(e,t,o,r=t.elementType===o?r:nl(o,r),n);case 1:return o=t.type,r=t.pendingProps,Pl(e,t,o,r=t.elementType===o?r:nl(o,r),n);case 3:e:{if(jl(t),null===e)throw Error(a(387));o=t.pendingProps,r=(i=t.memoizedState).element,La(e,t),Ha(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ml(e,t,o,n,r=cl(Error(a(423)),t));break e}if(o!==r){t=Ml(e,t,o,n,r=cl(Error(a(424)),t));break e}for(ra=ur(t.stateNode.containerInfo.firstChild),oa=t,aa=!0,ia=null,n=Sa(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),o===r){t=Wl(e,t,n);break e}xl(e,t,o,n)}t=t.child}return t;case 5:return Za(t),null===e&&ua(t),o=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,or(o,r)?l=null:null!==i&&or(o,i)&&(t.flags|=32),Nl(e,t),xl(e,t,l,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Rl(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=wa(t,null,o,n):xl(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,wl(e,t,o,r=t.elementType===o?r:nl(o,r),n);case 7:return xl(e,t,t.pendingProps,n),t.child;case 8:case 12:return xl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Pr(ka,o._currentValue),o._currentValue=l,null!==i)if(lo(i.value,l)){if(i.children===r.children&&!Mr.current){t=Wl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var c=s.firstContext;null!==c;){if(c.context===o){if(1===i.tag){(c=Fa(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),ja(i.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),ja(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}xl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Ma(t,n),o=o(r=Da(r)),t.flags|=1,xl(e,t,o,n),t.child;case 14:return r=nl(o=t.type,t.pendingProps),Sl(e,t,o,r=nl(o.type,r),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:nl(o,r),Hl(e,t),t.tag=1,zr(o)?(e=!0,Rr(t)):e=!1,Ma(t,n),il(t,o,r),sl(t,o,r,n),_l(null,t,o,!0,e,n);case 19:return Vl(e,t,n);case 22:return El(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,o,r){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof r){var l=r;r=function(){var e=Wc(i);l.call(e)}}Hc(t,i,e,r)}else i=function(e,t,n,o,r){if(r){if("function"===typeof o){var a=o;o=function(){var e=Wc(i);a.call(e)}}var i=Vc(t,o,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[mr]=i.current,Ho(8===e.nodeType?e.parentNode:e),uc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var l=o;o=function(){var e=Wc(s);l.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[mr]=s.current,Ho(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,s,n,o)}),s}(n,t,e,r,o);return Wc(i)}qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[mr]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),oc(t,Qe()),0===(6&_s)&&(Vs=Qe()+500,Hr()))}break;case 13:uc(function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Yc(e,1)}},St=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},Et=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Sr(o);if(!r)throw Error(a(90));K(o),Z(o,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[xr,wr,Sr,Ce,Pe,cc]},tu={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{rt=ou.inject(nu),at=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,o="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,o,r),e[mr]=t.current,Ho(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var o=null!=n&&n.hydratedSources||null,r=!1,i="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,i,l),e[mr]=t.current,Ho(e),o)for(e=0;e<o.length;e++)r=(r=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new qc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,o)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}var o=n(43),r=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=n(579);const d=e=>{let{onSave:t,onOpenWithFileSystem:n,onExportCode:r,onShowSaveModal:a,onExportXML:i,onExportCSV:l,onExportMatlab:s,onShowLLMConfig:c,isDarkMode:d,onToggleDarkMode:f,onNewModel:p,openedFile:h}=e;const[m,g]=(0,o.useState)(!1);return(0,u.jsxs)("div",{className:"menu-bar ".concat(d?"dark-mode":""),children:[(0,u.jsxs)("div",{className:"menu-section",children:[(0,u.jsx)("span",{className:"menu-title",children:"\ud83c\udf33 Dynamic Fault Tree Editor"}),h&&(0,u.jsx)("div",{className:"file-info",children:(0,u.jsxs)("span",{children:["\ud83d\udcc1 File aperto: ",h.filename]})})]}),(0,u.jsxs)("div",{className:"menu-section",children:[(0,u.jsxs)("div",{className:"menu-dropdown",children:[(0,u.jsxs)("button",{className:"menu-button dropdown-toggle",onClick:()=>g(!m),children:["\ud83d\udcc1 File ",m?"\u25bc":"\u25b6"]}),m&&(0,u.jsxs)("div",{className:"dropdown-menu",children:[(0,u.jsx)("button",{className:"dropdown-item",onClick:p,children:"\ud83c\udd95 Nuovo"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:n,children:"\ud83d\udcc2 Apri File (.json)"}),(0,u.jsx)("div",{className:"dropdown-divider"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>{t(),g(!1)},children:"\ud83d\udcbe Salvataggio Rapido (JSON)"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:()=>{a(),g(!1)},children:"\ud83d\udcbe Salva Come... (Nuovo File)"}),(0,u.jsx)("div",{className:"dropdown-divider"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:i,children:"\ud83d\udcc4 Esporta XML"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:l,children:"\ud83d\udcca Esporta CSV"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:s,children:"\ud83e\uddee Esporta MATLAB"}),(0,u.jsx)("div",{className:"dropdown-divider"}),(0,u.jsx)("button",{className:"dropdown-item",onClick:r,children:"\ud83d\udd27 Esporta Codice"})]})]}),(0,u.jsx)("button",{className:"menu-button",onClick:n,children:"\ud83d\udd13 Apri"}),(0,u.jsxs)("button",{className:"menu-button primary",onClick:t,children:["\ud83d\udcbe Salva ",null!==h&&void 0!==h&&h.fileHandle?"(Sovrascrivi)":"(Nuovo File)"]}),(0,u.jsx)("button",{className:"menu-button config",onClick:c,children:"\u2699\ufe0f LLM"}),(0,u.jsxs)("button",{className:"menu-button dark-toggle",onClick:f,children:[d?"\u2600\ufe0f":"\ud83c\udf19"," ",d?"Light":"Dark"]})]})]})},f=e=>{let{onAddBaseEvent:t,onAddGate:n,clickToPlaceMode:o,onToggleClickToPlace:r,componentToPlace:a,missionTime:i,onMissionTimeChange:l,isDarkMode:s,isCollapsed:c,onToggleCollapse:d}=e;return(0,u.jsxs)("div",{className:"left-panel ".concat(s?"dark-mode":""," ").concat(c?"collapsed":""),children:[(0,u.jsx)("div",{className:"panel-header",children:(0,u.jsxs)("div",{className:"header-content",children:[(0,u.jsx)("h3",{children:"\ud83d\udd27 Componenti"}),(0,u.jsx)("button",{className:"collapse-toggle",onClick:d,title:c?"Mostra pannello":"Nascondi pannello",children:c?"\u25b6":"\u25c0"})]})}),!c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"component-section",children:[(0,u.jsx)("h4",{children:"\u23f1\ufe0f Parametri Analisi"}),(0,u.jsxs)("div",{className:"mission-time-group",children:[(0,u.jsx)("label",{htmlFor:"mission-time",children:"Tempo di Missione (Tm) [h]:"}),(0,u.jsx)("input",{id:"mission-time",type:"number",value:i,onChange:e=>l(Number(e.target.value)||0),placeholder:"500",min:"0",step:"0.1",className:"mission-time-input"})]})]}),(0,u.jsxs)("div",{className:"panel-header",children:[(0,u.jsx)("div",{className:"placement-mode-toggle",children:(0,u.jsxs)("label",{className:"toggle-container",children:[(0,u.jsx)("input",{type:"checkbox",checked:o,onChange:r}),(0,u.jsx)("span",{className:"toggle-slider"}),(0,u.jsx)("span",{className:"toggle-label",children:o?"\ud83d\udccd Click to Place":"\ud83c\udfaf Instant Add"})]})}),a&&(0,u.jsxs)("div",{className:"component-selected",children:[(0,u.jsx)("span",{children:"\ud83c\udfaf Selezionato: "}),(0,u.jsx)("strong",{children:"event"===a.type?"Evento Base":"Porta ".concat(a.gateType)}),(0,u.jsx)("br",{}),(0,u.jsx)("small",{children:"Clicca sul diagramma per posizionare (rimane selezionato)"})]})]}),(0,u.jsxs)("div",{className:"component-section",children:[(0,u.jsx)("h4",{children:"Eventi Base"}),(0,u.jsxs)("button",{className:"component-button event-button ".concat("event"===(null===a||void 0===a?void 0:a.type)?"selected":""),onClick:t,title:o?"Seleziona per posizionamento":"Aggiungi Evento Base",children:[(0,u.jsx)("div",{className:"component-icon",children:"\u2b1c"}),(0,u.jsx)("div",{className:"component-label",children:"Evento Base"}),"event"===(null===a||void 0===a?void 0:a.type)&&(0,u.jsx)("div",{className:"selection-indicator",children:"\u2713"})]})]}),(0,u.jsxs)("div",{className:"component-section",children:[(0,u.jsx)("h4",{children:"Porte Logiche"}),(0,u.jsx)("div",{className:"gates-grid",children:[{type:"AND",label:"AND",description:"Porta AND - Tutti gli input devono verificarsi",icon:"\u2227"},{type:"OR",label:"OR",description:"Porta OR - Almeno un input deve verificarsi",icon:"\u2228"},{type:"PAND",label:"PAND",description:"Porta AND Prioritaria - Input in sequenza specifica",icon:"\u2295"},{type:"SPARE",label:"SPARE",description:"Porta SPARE - Ridondanza con spare",icon:"\u27f2"},{type:"SEQ",label:"SEQ",description:"Porta Sequenziale - Input in ordine temporale",icon:"\u2192"},{type:"FDEP",label:"FDEP",description:"Dipendenza Funzionale",icon:"\u27f9"}].map(e=>(0,u.jsxs)("button",{className:"component-button gate-button ".concat("gate"===(null===a||void 0===a?void 0:a.type)&&(null===a||void 0===a?void 0:a.gateType)===e.type?"selected":""),onClick:()=>n(e.type),title:o?"Seleziona ".concat(e.label," per posizionamento"):e.description,children:[(0,u.jsx)("div",{className:"component-icon",children:e.icon}),(0,u.jsx)("div",{className:"component-label",children:e.label}),"gate"===(null===a||void 0===a?void 0:a.type)&&(null===a||void 0===a?void 0:a.gateType)===e.type&&(0,u.jsx)("div",{className:"selection-indicator",children:"\u2713"})]},e.type))})]}),(0,u.jsxs)("div",{className:"component-section",children:[(0,u.jsx)("h4",{children:"Istruzioni"}),(0,u.jsxs)("div",{className:"instructions",children:[o?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:["\ud83d\udccd ",(0,u.jsx)("strong",{children:"Modalit\xe0 Click-to-Place:"})]}),(0,u.jsx)("p",{children:"\u2022 Clicca un componente per selezionarlo"}),(0,u.jsx)("p",{children:"\u2022 Clicca sul diagramma per posizionarlo (centrato)"}),(0,u.jsx)("p",{children:"\u2022 Il componente rimane selezionato per pi\xf9 posizionamenti"}),(0,u.jsx)("p",{children:"\u2022 Disattiva la modalit\xe0 per deselezionare"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:["\ud83c\udfaf ",(0,u.jsx)("strong",{children:"Modalit\xe0 Instant Add:"})]}),(0,u.jsx)("p",{children:"\u2022 Clicca sui componenti per aggiungerli subito"}),(0,u.jsx)("p",{children:"\u2022 Posizione casuale automatica"}),(0,u.jsx)("p",{children:"\u2022 Trascina per riposizionare"})]}),(0,u.jsx)("p",{children:"\u2022 Clicca su un componente per modificarne i parametri"}),(0,u.jsx)("p",{children:"\u2022 Collega gli elementi alle porte trascinando"})]})]})]})]})};function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,o=0;o<e.length;o++)""!==(n=h(e[o]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var m=n(443);const g=e=>{let t;const n=new Set,o=(e,o)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=o?o:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:o,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(o,r,a);return a},v=e=>e?g(e):g;const{useDebugValue:y}=o,{useSyncExternalStoreWithSelector:b}=m,x=e=>e;function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=arguments.length>2?arguments[2]:void 0;const o=b(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return y(o),o}const S=(e,t)=>{const n=v(e),o=function(e){return w(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(o,n),o};function k(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}var E={value:()=>{}};function N(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new C(o)}function C(e){this._=e}function P(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function _(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=E,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}C.prototype=N.prototype={constructor:C,on:function(e,t){var n,o,r=this._,a=(o=r,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),i=-1,l=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<l;)if(n=(e=a[i]).type)r[n]=_(r[n],e.name,t);else if(null==t)for(n in r)r[n]=_(r[n],e.name,null);return this}for(;++i<l;)if((n=(e=a[i]).type)&&(n=P(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new C(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(o=this._[e]).length;a<n;++a)o[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)}};const j=N;function M(){}function D(e){return null==e?M:function(){return this.querySelector(e)}}function T(){return[]}function z(e){return null==e?T:function(){return this.querySelectorAll(e)}}function O(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function A(e){return function(){return this.matches(e)}}function I(e){return function(t){return t.matches(e)}}var R=Array.prototype.find;function L(){return this.firstElementChild}var F=Array.prototype.filter;function B(){return Array.from(this.children)}function U(e){return new Array(e.length)}function V(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function H(e,t,n,o,r,a){for(var i,l=0,s=t.length,c=a.length;l<c;++l)(i=t[l])?(i.__data__=a[l],o[l]=i):n[l]=new V(e,a[l]);for(;l<s;++l)(i=t[l])&&(r[l]=i)}function W(e,t,n,o,r,a,i){var l,s,c,u=new Map,d=t.length,f=a.length,p=new Array(d);for(l=0;l<d;++l)(s=t[l])&&(p[l]=c=i.call(s,s.__data__,l,t)+"",u.has(c)?r[l]=s:u.set(c,s));for(l=0;l<f;++l)c=i.call(e,a[l],l,a)+"",(s=u.get(c))?(o[l]=s,s.__data__=a[l],u.delete(c)):n[l]=new V(e,a[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(p[l])===s&&(r[l]=s)}function X(e){return e.__data__}function Y(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function K(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}V.prototype={constructor:V,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var G="http://www.w3.org/1999/xhtml";const q={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),q.hasOwnProperty(t)?{space:q[t],local:e}:e}function Q(e){return function(){this.removeAttribute(e)}}function Z(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J(e,t){return function(){this.setAttribute(e,t)}}function ee(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function te(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ne(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function oe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function re(e){return function(){this.style.removeProperty(e)}}function ae(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ie(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function le(e,t){return e.style.getPropertyValue(t)||oe(e).getComputedStyle(e,null).getPropertyValue(t)}function se(e){return function(){delete this[e]}}function ce(e,t){return function(){this[e]=t}}function ue(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function de(e){return e.trim().split(/^|\s+/)}function fe(e){return e.classList||new pe(e)}function pe(e){this._node=e,this._names=de(e.getAttribute("class")||"")}function he(e,t){for(var n=fe(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function me(e,t){for(var n=fe(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ge(e){return function(){he(this,e)}}function ve(e){return function(){me(this,e)}}function ye(e,t){return function(){(t.apply(this,arguments)?he:me)(this,e)}}function be(){this.textContent=""}function xe(e){return function(){this.textContent=e}}function we(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Se(){this.innerHTML=""}function ke(e){return function(){this.innerHTML=e}}function Ee(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Ne(){this.nextSibling&&this.parentNode.appendChild(this)}function Ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===G&&t.documentElement.namespaceURI===G?t.createElement(e):t.createElementNS(n,e)}}function _e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function je(e){var t=$(e);return(t.local?_e:Pe)(t)}function Me(){return null}function De(){var e=this.parentNode;e&&e.removeChild(this)}function Te(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ze(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Oe(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,a=t.length;o<a;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Ae(e,t,n){return function(){var o,r=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),void(o.value=t);this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function Ie(e,t,n){var o=oe(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Re(e,t){return function(){return Ie(this,e,t)}}function Le(e,t){return function(){return Ie(this,e,t.apply(this,arguments))}}pe.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Fe=[null];function Be(e,t){this._groups=e,this._parents=t}function Ue(){return new Be([[document.documentElement]],Fe)}Be.prototype=Ue.prototype={constructor:Be,select:function(e){"function"!==typeof e&&(e=D(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i,l=t[r],s=l.length,c=o[r]=new Array(s),u=0;u<s;++u)(a=l[u])&&(i=e.call(a,a.__data__,u,l))&&("__data__"in a&&(i.__data__=a.__data__),c[u]=i);return new Be(o,this._parents)},selectAll:function(e){e="function"===typeof e?O(e):z(e);for(var t=this._groups,n=t.length,o=[],r=[],a=0;a<n;++a)for(var i,l=t[a],s=l.length,c=0;c<s;++c)(i=l[c])&&(o.push(e.call(i,i.__data__,c,l)),r.push(i));return new Be(o,r)},selectChild:function(e){return this.select(null==e?L:function(e){return function(){return R.call(this.children,e)}}("function"===typeof e?e:I(e)))},selectChildren:function(e){return this.selectAll(null==e?B:function(e){return function(){return F.call(this.children,e)}}("function"===typeof e?e:I(e)))},filter:function(e){"function"!==typeof e&&(e=A(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i=t[r],l=i.length,s=o[r]=[],c=0;c<l;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&s.push(a);return new Be(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,X);var n,o=t?W:H,r=this._parents,a=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var i=a.length,l=new Array(i),s=new Array(i),c=new Array(i),u=0;u<i;++u){var d=r[u],f=a[u],p=f.length,h=Y(e.call(d,d&&d.__data__,u,r)),m=h.length,g=s[u]=new Array(m),v=l[u]=new Array(m);o(d,f,g,v,c[u]=new Array(p),h,t);for(var y,b,x=0,w=0;x<m;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(b=v[w])&&++w<m;);y._next=b||null}}return(l=new Be(l,r))._enter=s,l._exit=c,l},enter:function(){return new Be(this._enter||this._groups.map(U),this._parents)},exit:function(){return new Be(this._exit||this._groups.map(U),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,a=this.exit();return"function"===typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?a.remove():n(a),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,a=o.length,i=Math.min(r,a),l=new Array(r),s=0;s<i;++s)for(var c,u=n[s],d=o[s],f=u.length,p=l[s]=new Array(f),h=0;h<f;++h)(c=u[h]||d[h])&&(p[h]=c);for(;s<r;++s)l[s]=n[s];return new Be(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],a=r.length-1,i=r[a];--a>=0;)(o=r[a])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=K);for(var n=this._groups,o=n.length,r=new Array(o),a=0;a<o;++a){for(var i,l=n[a],s=l.length,c=r[a]=new Array(s),u=0;u<s;++u)(i=l[u])&&(c[u]=i);c.sort(t)}return new Be(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,a=o.length;r<a;++r){var i=o[r];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,a=t[n],i=0,l=a.length;i<l;++i)(r=a[i])&&e.call(r,r.__data__,i,a);return this},attr:function(e,t){var n=$(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Z:Q:"function"===typeof t?n.local?ne:te:n.local?ee:J)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?re:"function"===typeof t?ie:ae)(e,t,null==n?"":n)):le(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?se:"function"===typeof t?ue:ce)(e,t)):this.node()[e]},classed:function(e,t){var n=de(e+"");if(arguments.length<2){for(var o=fe(this.node()),r=-1,a=n.length;++r<a;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?ye:t?ge:ve)(n,t))},text:function(e){return arguments.length?this.each(null==e?be:("function"===typeof e?we:xe)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Se:("function"===typeof e?Ee:ke)(e)):this.node().innerHTML},raise:function(){return this.each(Ne)},lower:function(){return this.each(Ce)},append:function(e){var t="function"===typeof e?e:je(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:je(e),o=null==t?Me:"function"===typeof t?t:D(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(De)},clone:function(e){return this.select(e?ze:Te)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),i=a.length;if(!(arguments.length<2)){for(l=t?Ae:Oe,o=0;o<i;++o)this.each(l(a[o],t,n));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(o=0,s=l[c];o<i;++o)if((r=a[o]).type===s.type&&r.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?Le:Re)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],a=0,i=r.length;a<i;++a)(o=r[a])&&(yield o)}};const Ve=Ue;function He(e){return"string"===typeof e?new Be([[document.querySelector(e)]],[document.documentElement]):new Be([[e]],Fe)}const We={passive:!1},Xe={capture:!0,passive:!1};function Ye(e){e.stopImmediatePropagation()}function Ke(e){e.preventDefault(),e.stopImmediatePropagation()}function Ge(e){var t=e.document.documentElement,n=He(e).on("dragstart.drag",Ke,Xe);"onselectstart"in t?n.on("selectstart.drag",Ke,Xe):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function qe(e,t){var n=e.document.documentElement,o=He(e).on("dragstart.drag",null);t&&(o.on("click.drag",Ke,Xe),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function $e(e){return((e=Math.exp(e))+1/e)/2}const Qe=function e(t,n,o){function r(e,r){var a,i,l=e[0],s=e[1],c=e[2],u=r[0],d=r[1],f=r[2],p=u-l,h=d-s,m=p*p+h*h;if(m<1e-12)i=Math.log(f/c)/t,a=function(e){return[l+e*p,s+e*h,c*Math.exp(t*e*i)]};else{var g=Math.sqrt(m),v=(f*f-c*c+o*m)/(2*c*n*g),y=(f*f-c*c-o*m)/(2*f*n*g),b=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);i=(x-b)/t,a=function(e){var o,r=e*i,a=$e(b),u=c/(n*g)*(a*(o=t*r+b,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[l+u*p,s+u*h,c*a/$e(t*r+b)]}}return a.duration=1e3*i*t/Math.SQRT2,a}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4);function Ze(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var Je,et,tt=0,nt=0,ot=0,rt=0,at=0,it=0,lt="object"===typeof performance&&performance.now?performance:Date,st="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ct(){return at||(st(ut),at=lt.now()+it)}function ut(){at=0}function dt(){this._call=this._time=this._next=null}function ft(e,t,n){var o=new dt;return o.restart(e,t,n),o}function pt(){at=(rt=lt.now())+it,tt=nt=0;try{!function(){ct(),++tt;for(var e,t=Je;t;)(e=at-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tt}()}finally{tt=0,function(){var e,t,n=Je,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Je=t);et=e,mt(o)}(),at=0}}function ht(){var e=lt.now(),t=e-rt;t>1e3&&(it-=t,rt=e)}function mt(e){tt||(nt&&(nt=clearTimeout(nt)),e-at>24?(e<1/0&&(nt=setTimeout(pt,e-lt.now()-it)),ot&&(ot=clearInterval(ot))):(ot||(rt=lt.now(),ot=setInterval(ht,1e3)),tt=1,st(pt)))}function gt(e,t,n){var o=new dt;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}dt.prototype=ft.prototype={constructor:dt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?ct():+n)+(null==t?0:+t),this._next||et===this||(et?et._next=this:Je=this,et=this),this._call=e,this._time=n,mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,mt())}};var vt=j("start","end","cancel","interrupt"),yt=[];function bt(e,t,n,o,r,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function a(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(a){var c,u,d,f;if(1!==n.state)return s();for(c in r)if((f=r[c]).name===n.name){if(3===f.state)return gt(i);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(gt(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=f);o.length=u+1}}function l(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,i=o.length;++a<i;)o[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=ft(a,0,n.time)}(e,n,{name:t,index:o,group:r,on:vt,tween:yt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function xt(e,t){var n=St(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function wt(e,t){var n=St(e,t);if(n.state>3)throw new Error("too late; already running");return n}function St(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kt(e,t){var n,o,r,a=e.__transition,i=!0;if(a){for(r in t=null==t?null:t+"",a)(n=a[r]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]):i=!1;i&&delete e.__transition}}function Et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Nt,Ct=180/Math.PI,Pt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _t(e,t,n,o,r,a){var i,l,s;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,i=-i),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*Ct,skewX:Math.atan(s)*Ct,scaleX:i,scaleY:l}}function jt(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(a,i){var l=[],s=[];return a=e(a),i=e(i),function(e,o,r,a,i,l){if(e!==r||o!==a){var s=i.push("translate(",null,t,null,n);l.push({i:s-4,x:Et(e,r)},{i:s-2,x:Et(o,a)})}else(r||a)&&i.push("translate("+r+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,l,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(r(n)+"rotate(",null,o)-2,x:Et(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(a.rotate,i.rotate,l,s),function(e,t,n,a){e!==t?a.push({i:n.push(r(n)+"skewX(",null,o)-2,x:Et(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(a.skewX,i.skewX,l,s),function(e,t,n,o,a,i){if(e!==n||t!==o){var l=a.push(r(a)+"scale(",null,",",null,")");i.push({i:l-4,x:Et(e,n)},{i:l-2,x:Et(t,o)})}else 1===n&&1===o||a.push(r(a)+"scale("+n+","+o+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,l,s),a=i=null,function(e){for(var t,n=-1,o=s.length;++n<o;)l[(t=s[n]).i]=t.x(e);return l.join("")}}}var Mt=jt(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Pt:_t(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Dt=jt(function(e){return null==e?Pt:(Nt||(Nt=document.createElementNS("http://www.w3.org/2000/svg","g")),Nt.setAttribute("transform",e),(e=Nt.transform.baseVal.consolidate())?_t((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Pt)},", ",")",")");function Tt(e,t){var n,o;return function(){var r=wt(this,e),a=r.tween;if(a!==n)for(var i=0,l=(o=n=a).length;i<l;++i)if(o[i].name===t){(o=o.slice()).splice(i,1);break}r.tween=o}}function zt(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var a=wt(this,e),i=a.tween;if(i!==o){r=(o=i).slice();for(var l={name:t,value:n},s=0,c=r.length;s<c;++s)if(r[s].name===t){r[s]=l;break}s===c&&r.push(l)}a.tween=r}}function Ot(e,t,n){var o=e._id;return e.each(function(){var e=wt(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return St(e,o).value[t]}}function At(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function It(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Rt(){}var Lt=.7,Ft=1/Lt,Bt="\\s*([+-]?\\d+)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ht=/^#([0-9a-f]{3,8})$/,Wt=new RegExp("^rgb\\(".concat(Bt,",").concat(Bt,",").concat(Bt,"\\)$")),Xt=new RegExp("^rgb\\(".concat(Vt,",").concat(Vt,",").concat(Vt,"\\)$")),Yt=new RegExp("^rgba\\(".concat(Bt,",").concat(Bt,",").concat(Bt,",").concat(Ut,"\\)$")),Kt=new RegExp("^rgba\\(".concat(Vt,",").concat(Vt,",").concat(Vt,",").concat(Ut,"\\)$")),Gt=new RegExp("^hsl\\(".concat(Ut,",").concat(Vt,",").concat(Vt,"\\)$")),qt=new RegExp("^hsla\\(".concat(Ut,",").concat(Vt,",").concat(Vt,",").concat(Ut,"\\)$")),$t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qt(){return this.rgb().formatHex()}function Zt(){return this.rgb().formatRgb()}function Jt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ht.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?en(t):3===n?new on(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Wt.exec(e))?new on(t[1],t[2],t[3],1):(t=Xt.exec(e))?new on(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Yt.exec(e))?tn(t[1],t[2],t[3],t[4]):(t=Kt.exec(e))?tn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Gt.exec(e))?un(t[1],t[2]/100,t[3]/100,1):(t=qt.exec(e))?un(t[1],t[2]/100,t[3]/100,t[4]):$t.hasOwnProperty(e)?en($t[e]):"transparent"===e?new on(NaN,NaN,NaN,0):null}function en(e){return new on(e>>16&255,e>>8&255,255&e,1)}function tn(e,t,n,o){return o<=0&&(e=t=n=NaN),new on(e,t,n,o)}function nn(e,t,n,o){return 1===arguments.length?((r=e)instanceof Rt||(r=Jt(r)),r?new on((r=r.rgb()).r,r.g,r.b,r.opacity):new on):new on(e,t,n,null==o?1:o);var r}function on(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function rn(){return"#".concat(cn(this.r)).concat(cn(this.g)).concat(cn(this.b))}function an(){const e=ln(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(sn(this.r),", ").concat(sn(this.g),", ").concat(sn(this.b)).concat(1===e?")":", ".concat(e,")"))}function ln(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cn(e){return((e=sn(e))<16?"0":"")+e.toString(16)}function un(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,n,o)}function dn(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof Rt||(e=Jt(e)),!e)return new fn;if(e instanceof fn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),a=Math.max(t,n,o),i=NaN,l=a-r,s=(a+r)/2;return l?(i=t===a?(n-o)/l+6*(n<o):n===a?(o-t)/l+2:(t-n)/l+4,l/=s<.5?a+r:2-a-r,i*=60):l=s>0&&s<1?0:i,new fn(i,l,s,e.opacity)}function fn(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function pn(e){return(e=(e||0)%360)<0?e+360:e}function hn(e){return Math.max(0,Math.min(1,e||0))}function mn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gn(e,t,n,o,r){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*o+i*r)/6}At(Rt,Jt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qt,formatHex:Qt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return dn(this).formatHsl()},formatRgb:Zt,toString:Zt}),At(on,nn,It(Rt,{brighter(e){return e=null==e?Ft:Math.pow(Ft,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Lt:Math.pow(Lt,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(sn(this.r),sn(this.g),sn(this.b),ln(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rn,formatHex:rn,formatHex8:function(){return"#".concat(cn(this.r)).concat(cn(this.g)).concat(cn(this.b)).concat(cn(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:an,toString:an})),At(fn,function(e,t,n,o){return 1===arguments.length?dn(e):new fn(e,t,n,null==o?1:o)},It(Rt,{brighter(e){return e=null==e?Ft:Math.pow(Ft,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Lt:Math.pow(Lt,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new on(mn(e>=240?e-240:e+120,r,o),mn(e,r,o),mn(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new fn(pn(this.h),hn(this.s),hn(this.l),ln(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ln(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(pn(this.h),", ").concat(100*hn(this.s),"%, ").concat(100*hn(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const vn=e=>()=>e;function yn(e,t){return function(n){return e+n*t}}function bn(e){return 1===(e=+e)?xn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}(t,n,e):vn(isNaN(t)?n:t)}}function xn(e,t){var n=t-e;return n?yn(e,n):vn(isNaN(e)?t:e)}const wn=function e(t){var n=bn(t);function o(e,t){var o=n((e=nn(e)).r,(t=nn(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),i=xn(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return o.gamma=e,o}(1);function Sn(e){return function(t){var n,o,r=t.length,a=new Array(r),i=new Array(r),l=new Array(r);for(n=0;n<r;++n)o=nn(t[n]),a[n]=o.r||0,i[n]=o.g||0,l[n]=o.b||0;return a=e(a),i=e(i),l=e(l),o.opacity=1,function(e){return o.r=a(e),o.g=i(e),o.b=l(e),o+""}}}Sn(function(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],a=e[o+1],i=o>0?e[o-1]:2*r-a,l=o<t-1?e[o+2]:2*a-r;return gn((n-o/t)*t,i,r,a,l)}}),Sn(function(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],a=e[o%t],i=e[(o+1)%t],l=e[(o+2)%t];return gn((n-o/t)*t,r,a,i,l)}});var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,En=new RegExp(kn.source,"g");function Nn(e,t){var n,o,r,a=kn.lastIndex=En.lastIndex=0,i=-1,l=[],s=[];for(e+="",t+="";(n=kn.exec(e))&&(o=En.exec(t));)(r=o.index)>a&&(r=t.slice(a,r),l[i]?l[i]+=r:l[++i]=r),(n=n[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,s.push({i:i,x:Et(n,o)})),a=En.lastIndex;return a<t.length&&(r=t.slice(a),l[i]?l[i]+=r:l[++i]=r),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,o=0;o<t;++o)l[(n=s[o]).i]=n.x(e);return l.join("")})}function Cn(e,t){var n;return("number"===typeof t?Et:t instanceof Jt?wn:(n=Jt(t))?(t=n,wn):Nn)(e,t)}function Pn(e){return function(){this.removeAttribute(e)}}function _n(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jn(e,t,n){var o,r,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===o?r:r=t(o=i,n)}}function Mn(e,t,n){var o,r,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===o?r:r=t(o=i,n)}}function Dn(e,t,n){var o,r,a;return function(){var i,l,s=n(this);if(null!=s)return(i=this.getAttribute(e))===(l=s+"")?null:i===o&&l===r?a:(r=l,a=t(o=i,s));this.removeAttribute(e)}}function Tn(e,t,n){var o,r,a;return function(){var i,l,s=n(this);if(null!=s)return(i=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:i===o&&l===r?a:(r=l,a=t(o=i,s));this.removeAttributeNS(e.space,e.local)}}function zn(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function On(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function An(e,t){return function(){xt(this,e).delay=+t.apply(this,arguments)}}function In(e,t){return t=+t,function(){xt(this,e).delay=t}}function Rn(e,t){return function(){wt(this,e).duration=+t.apply(this,arguments)}}function Ln(e,t){return t=+t,function(){wt(this,e).duration=t}}var Fn=Ve.prototype.constructor;function Bn(e){return function(){this.style.removeProperty(e)}}var Un=0;function Vn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Hn(){return++Un}var Wn=Ve.prototype;Vn.prototype=function(e){return Ve().transition(e)}.prototype={constructor:Vn,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=D(e));for(var o=this._groups,r=o.length,a=new Array(r),i=0;i<r;++i)for(var l,s,c=o[i],u=c.length,d=a[i]=new Array(u),f=0;f<u;++f)(l=c[f])&&(s=e.call(l,l.__data__,f,c))&&("__data__"in l&&(s.__data__=l.__data__),d[f]=s,bt(d[f],t,n,f,d,St(l,n)));return new Vn(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=z(e));for(var o=this._groups,r=o.length,a=[],i=[],l=0;l<r;++l)for(var s,c=o[l],u=c.length,d=0;d<u;++d)if(s=c[d]){for(var f,p=e.call(s,s.__data__,d,c),h=St(s,n),m=0,g=p.length;m<g;++m)(f=p[m])&&bt(f,t,n,m,p,h);a.push(p),i.push(s)}return new Vn(a,i,t,n)},selectChild:Wn.selectChild,selectChildren:Wn.selectChildren,filter:function(e){"function"!==typeof e&&(e=A(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i=t[r],l=i.length,s=o[r]=[],c=0;c<l;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&s.push(a);return new Vn(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,a=Math.min(o,r),i=new Array(o),l=0;l<a;++l)for(var s,c=t[l],u=n[l],d=c.length,f=i[l]=new Array(d),p=0;p<d;++p)(s=c[p]||u[p])&&(f[p]=s);for(;l<o;++l)i[l]=t[l];return new Vn(i,this._parents,this._name,this._id)},selection:function(){return new Fn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Hn(),o=this._groups,r=o.length,a=0;a<r;++a)for(var i,l=o[a],s=l.length,c=0;c<s;++c)if(i=l[c]){var u=St(i,t);bt(i,e,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Vn(o,this._parents,e,n)},call:Wn.call,nodes:Wn.nodes,node:Wn.node,size:Wn.size,empty:Wn.empty,each:Wn.each,on:function(e,t){var n=this._id;return arguments.length<2?St(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?xt:wt;return function(){var i=a(this,e),l=i.on;l!==o&&(r=(o=l).copy()).on(t,n),i.on=r}}(n,e,t))},attr:function(e,t){var n=$(e),o="transform"===n?Dt:Cn;return this.attrTween(e,"function"===typeof t?(n.local?Tn:Dn)(n,o,Ot(this,"attr."+e,t)):null==t?(n.local?_n:Pn)(n):(n.local?Mn:jn)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=$(e);return this.tween(n,(o.local?zn:On)(o,t))},style:function(e,t,n){var o="transform"===(e+="")?Mt:Cn;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var a=le(this,e),i=(this.style.removeProperty(e),le(this,e));return a===i?null:a===n&&i===o?r:r=t(n=a,o=i)}}(e,o)).on("end.style."+e,Bn(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var o,r,a;return function(){var i=le(this,e),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(e),s=l=le(this,e)),i===s?null:i===o&&s===r?a:(r=s,a=t(o=i,l))}}(e,o,Ot(this,"style."+e,t))).each(function(e,t){var n,o,r,a,i="style."+t,l="end."+i;return function(){var s=wt(this,e),c=s.on,u=null==s.value[i]?a||(a=Bn(t)):void 0;c===n&&r===u||(o=(n=c).copy()).on(l,r=u),s.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,a=n+"";return function(){var i=le(this,e);return i===a?null:i===o?r:r=t(o=i,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,function(e,t,n){var o,r;function a(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&function(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}(e,a,n)),o}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ot(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return o._value=e,o}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=St(this.node(),n).tween,a=0,i=r.length;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((null==t?Tt:zt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?An:In)(t,e)):St(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Rn:Ln)(t,e)):St(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){wt(this,e).ease=t}}(t,e)):St(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;wt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(a,i){var l={value:i},s={value:function(){0===--r&&a()}};n.each(function(){var n=wt(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t}),0===r&&a()})},[Symbol.iterator]:Wn[Symbol.iterator]};var Xn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Yn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Ve.prototype.interrupt=function(e){return this.each(function(){kt(this,e)})},Ve.prototype.transition=function(e){var t,n;e instanceof Vn?(t=e._id,e=e._name):(t=Hn(),(n=Xn).time=ct(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,a=0;a<r;++a)for(var i,l=o[a],s=l.length,c=0;c<s;++c)(i=l[c])&&bt(i,e,t,c,l,n||Yn(i,t));return new Vn(o,this._parents,e,t)};const Kn=e=>()=>e;function Gn(e,t){let{sourceEvent:n,target:o,transform:r,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function qn(e,t,n){this.k=e,this.x=t,this.y=n}qn.prototype={constructor:qn,scale:function(e){return 1===e?this:new qn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new qn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $n=new qn(1,0,0);function Qn(e){e.stopImmediatePropagation()}function Zn(e){e.preventDefault(),e.stopImmediatePropagation()}function Jn(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function eo(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function to(){return this.__zoom||$n}function no(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oo(){return navigator.maxTouchPoints||"ontouchstart"in this}function ro(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function ao(){var e,t,n,o=Jn,r=eo,a=ro,i=no,l=oo,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Qe,f=j("start","zoom","end"),p=0,h=10;function m(e){e.property("__zoom",to).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",E).filter(l).on("touchstart.zoom",N).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new qn(t,e.x,e.y)}function v(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new qn(e.k,o,r)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,o){e.on("start.zoom",function(){x(this,arguments).event(o).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(o).end()}).tween("zoom",function(){var e=this,a=arguments,i=x(e,a).event(o),l=r.apply(e,a),s=null==n?y(l):"function"===typeof n?n.apply(e,a):n,c=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),u=e.__zoom,f="function"===typeof t?t.apply(e,a):t,p=d(u.invert(s).concat(c/u.k),f.invert(s).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=p(e),n=c/t[2];e=new qn(n,s[0]-t[0]*n,s[1]-t[1]*n)}i.zoom(null,e)}})}function x(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(o.apply(this,arguments)){var l=x(this,n).event(e),u=this.__zoom,d=Math.max(s[0],Math.min(s[1],u.k*Math.pow(2,i.apply(this,arguments)))),f=Ze(e);if(l.wheel)l.mouse[0][0]===f[0]&&l.mouse[0][1]===f[1]||(l.mouse[1]=u.invert(l.mouse[0]=f)),clearTimeout(l.wheel);else{if(u.k===d)return;l.mouse=[f,u.invert(f)],kt(this),l.start()}Zn(e),l.wheel=setTimeout(function(){l.wheel=null,l.end()},150),l.zoom("mouse",a(v(g(u,d),l.mouse[0],l.mouse[1]),l.extent,c))}}function k(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(!n&&o.apply(this,arguments)){var l=e.currentTarget,s=x(this,r,!0).event(e),u=He(e.view).on("mousemove.zoom",function(e){if(Zn(e),!s.moved){var t=e.clientX-f,n=e.clientY-h;s.moved=t*t+n*n>p}s.event(e).zoom("mouse",a(v(s.that.__zoom,s.mouse[0]=Ze(e,l),s.mouse[1]),s.extent,c))},!0).on("mouseup.zoom",function(e){u.on("mousemove.zoom mouseup.zoom",null),qe(e.view,s.moved),Zn(e),s.event(e).end()},!0),d=Ze(e,l),f=e.clientX,h=e.clientY;Ge(e.view),Qn(e),s.mouse=[d,this.__zoom.invert(d)],kt(this),s.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(o.apply(this,arguments)){var l=this.__zoom,s=Ze(e.changedTouches?e.changedTouches[0]:e,this),d=l.invert(s),f=l.k*(e.shiftKey?.5:2),p=a(v(g(l,f),s,d),r.apply(this,n),c);Zn(e),u>0?He(this).transition().duration(u).call(b,p,s,e):He(this).call(m.transform,p,s,e)}}function N(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(o.apply(this,arguments)){var l,s,c,u,d=n.touches,f=d.length,p=x(this,a,n.changedTouches.length===f).event(n);for(Qn(n),s=0;s<f;++s)u=[u=Ze(c=d[s],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,l=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),l&&(p.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),kt(this),p.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,i,l,s,u=x(this,n).event(e),d=e.changedTouches,f=d.length;for(Zn(e),r=0;r<f;++r)l=Ze(i=d[r],this),u.touch0&&u.touch0[2]===i.identifier?u.touch0[0]=l:u.touch1&&u.touch1[2]===i.identifier&&(u.touch1[0]=l);if(i=u.that.__zoom,u.touch1){var p=u.touch0[0],h=u.touch0[1],m=u.touch1[0],y=u.touch1[1],b=(b=m[0]-p[0])*b+(b=m[1]-p[1])*b,w=(w=y[0]-h[0])*w+(w=y[1]-h[1])*w;i=g(i,Math.sqrt(b/w)),l=[(p[0]+m[0])/2,(p[1]+m[1])/2],s=[(h[0]+y[0])/2,(h[1]+y[1])/2]}else{if(!u.touch0)return;l=u.touch0[0],s=u.touch0[1]}u.zoom("touch",a(v(i,l,s),u.extent,c))}}function P(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];if(this.__zooming){var i,l,s=x(this,r).event(e),c=e.changedTouches,u=c.length;for(Qn(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<u;++i)l=c[i],s.touch0&&s.touch0[2]===l.identifier?delete s.touch0:s.touch1&&s.touch1[2]===l.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(l=Ze(l,this),Math.hypot(t[0]-l[0],t[1]-l[1])<h)){var d=He(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",to),e!==r?b(e,t,n,o):r.interrupt().each(function(){x(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,o){m.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,o)},m.scaleTo=function(e,t,n,o){m.transform(e,function(){var e=r.apply(this,arguments),o=this.__zoom,i=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,l=o.invert(i),s="function"===typeof t?t.apply(this,arguments):t;return a(v(g(o,s),i,l),e,c)},n,o)},m.translateBy=function(e,t,n,o){m.transform(e,function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)},null,o)},m.translateTo=function(e,t,n,o,i){m.transform(e,function(){var e=r.apply(this,arguments),i=this.__zoom,l=null==o?y(e):"function"===typeof o?o.apply(this,arguments):o;return a($n.translate(l[0],l[1]).scale(i.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},o,i)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=He(this.that).datum();f.call(e,this.that,new Gn(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:f}),t)}},m.wheelDelta=function(e){return arguments.length?(i="function"===typeof e?e:Kn(+e),m):i},m.filter=function(e){return arguments.length?(o="function"===typeof e?e:Kn(!!e),m):o},m.touchable=function(e){return arguments.length?(l="function"===typeof e?e:Kn(!!e),m):l},m.extent=function(e){return arguments.length?(r="function"===typeof e?e:Kn([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(h=+e,m):h},m}qn.prototype;const io=e=>()=>e;function lo(e,t){let{sourceEvent:n,subject:o,target:r,identifier:a,active:i,x:l,y:s,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function so(e){return!e.ctrlKey&&!e.button}function co(){return this.parentNode}function uo(e,t){return null==t?{x:e.x,y:e.y}:t}function fo(){return navigator.maxTouchPoints||"ontouchstart"in this}lo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var po=n(950);const ho=["position","children","className","style"],mo=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],go=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],vo=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],yo=(0,o.createContext)(null),bo=yo.Provider,xo=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),wo=()=>"The React Flow parent container needs a width and a height to render the graph.",So=()=>"Only child nodes can use a parent extent.",ko=()=>"Can't create edge. An edge needs a source and a target.",Eo=e=>'Marker type "'.concat(e,"\" doesn't exist."),No=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),Co=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",Po=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),_o=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),jo=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Mo(e,t){const n=(0,o.useContext)(yo);if(null===n)throw new Error(jo);return w(n,e,t)}const Do=()=>{const e=(0,o.useContext)(yo);if(null===e)throw new Error(jo);return(0,o.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},To=e=>e.userSelectionActive?"none":"all";function zo(e){let{position:t,children:n,className:r,style:a}=e,i=p(e,ho);const l=Mo(To),s="".concat(t).split("-");return o.createElement("div",c({className:h(["react-flow__panel",r,...s]),style:c(c({},a),{},{pointerEvents:l})},i),n)}function Oo(e){let{proOptions:t,position:n="bottom-right"}=e;return null!==t&&void 0!==t&&t.hideAttribution?null:o.createElement(zo,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Ao=(0,o.memo)(e=>{let{x:t,y:n,label:r,labelStyle:a={},labelShowBg:i=!0,labelBgStyle:l={},labelBgPadding:s=[2,4],labelBgBorderRadius:u=2,children:d,className:f}=e,m=p(e,mo);const g=(0,o.useRef)(null),[v,y]=(0,o.useState)({x:0,y:0,width:0,height:0}),b=h(["react-flow__edge-textwrapper",f]);return(0,o.useEffect)(()=>{if(g.current){const e=g.current.getBBox();y({x:e.x,y:e.y,width:e.width,height:e.height})}},[r]),"undefined"!==typeof r&&r?o.createElement("g",c({transform:"translate(".concat(t-v.width/2," ").concat(n-v.height/2,")"),className:b,visibility:v.width?"visible":"hidden"},m),i&&o.createElement("rect",{width:v.width+2*s[0],x:-s[0],y:-s[1],height:v.height+2*s[1],className:"react-flow__edge-textbg",style:l,rx:u,ry:u}),o.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:g,style:a},r),d):null});const Io=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ro=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Lo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Ro(e.x,t[0][0],t[1][0]),y:Ro(e.y,t[0][1],t[1][1])}},Fo=(e,t,n)=>e<t?Ro(Math.abs(e-t),1,50)/50:e>n?-Ro(Math.abs(e-n),1,50)/50:0,Bo=(e,t)=>[20*Fo(e.x,35,t.width-35),20*Fo(e.y,35,t.height-35)],Uo=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Vo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ho=e=>{let{x:t,y:n,width:o,height:r}=e;return{x:t,y:n,x2:t+o,y2:n+r}},Wo=e=>{let{x:t,y:n,x2:o,y2:r}=e;return{x:t,y:n,width:o-t,height:r-n}},Xo=e=>c(c({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),Yo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Ko=e=>!isNaN(e)&&isFinite(e),Go=Symbol.for("internals"),qo=["Enter"," ","Escape"],$o=(e,t)=>{0};function Qo(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,o=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===o||void 0===o?void 0:o.nodeName)||(null===o||void 0===o?void 0:o.hasAttribute("contenteditable"))||!(null===o||void 0===o||!o.closest(".nokey"))}const Zo=e=>"clientX"in e,Jo=(e,t)=>{var n,o,r,a;const i=Zo(e),l=i?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,s=i?e.clientY:null===(o=e.touches)||void 0===o?void 0:o[0].clientY;return{x:l-(null!==(r=null===t||void 0===t?void 0:t.left)&&void 0!==r?r:0),y:s-(null!==(a=null===t||void 0===t?void 0:t.top)&&void 0!==a?a:0)}},er=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},tr=e=>{let{id:t,path:n,labelX:r,labelY:a,label:i,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:m=20}=e;return o.createElement(o.Fragment,null,o.createElement("path",{id:t,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:h}),m&&o.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Ko(r)&&Ko(a)?o.createElement(Ao,{x:r,y:a,label:i,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};tr.displayName="BaseEdge";function nr(e,t,n){return void 0===n?n:o=>{const r=t().edges.find(t=>t.id===e);r&&n(o,c({},r))}}function or(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const a=Math.abs(o-t)/2,i=o<t?o+a:o-a,l=Math.abs(r-n)/2;return[i,r<n?r+l:r-l,a,l]}function rr(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:a,sourceControlY:i,targetControlX:l,targetControlY:s}=e;const c=.125*t+.375*a+.375*l+.125*o,u=.125*n+.375*i+.375*s+.125*r;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var ar,ir,lr,sr,cr,ur;function dr(e){let{pos:t,x1:n,y1:o,x2:r,y2:a}=e;return t===ur.Left||t===ur.Right?[.5*(n+r),o]:[n,.5*(o+a)]}function fr(e){let{sourceX:t,sourceY:n,sourcePosition:o=ur.Bottom,targetX:r,targetY:a,targetPosition:i=ur.Top}=e;const[l,s]=dr({pos:o,x1:t,y1:n,x2:r,y2:a}),[c,u]=dr({pos:i,x1:r,y1:a,x2:t,y2:n}),[d,f,p,h]=rr({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:s,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(l,",").concat(s," ").concat(c,",").concat(u," ").concat(r,",").concat(a),d,f,p,h]}!function(e){e.Strict="strict",e.Loose="loose"}(ar||(ar={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(ir||(ir={})),function(e){e.Partial="partial",e.Full="full"}(lr||(lr={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(sr||(sr={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(cr||(cr={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ur||(ur={}));const pr=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:i=ur.Bottom,targetPosition:l=ur.Top,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:g,interactionWidth:v}=e;const[y,b,x]=fr({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:a,targetPosition:l});return o.createElement(tr,{path:y,labelX:b,labelY:x,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:g,interactionWidth:v})});pr.displayName="SimpleBezierEdge";const hr={[ur.Left]:{x:-1,y:0},[ur.Right]:{x:1,y:0},[ur.Top]:{x:0,y:-1},[ur.Bottom]:{x:0,y:1}},mr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function gr(e){let{source:t,sourcePosition:n=ur.Bottom,target:o,targetPosition:r=ur.Top,center:a,offset:i}=e;const l=hr[n],s=hr[r],c={x:t.x+l.x*i,y:t.y+l.y*i},u={x:o.x+s.x*i,y:o.y+s.y*i},d=(e=>{let{source:t,sourcePosition:n=ur.Bottom,target:o}=e;return n===ur.Left||n===ur.Right?t.x<o.x?{x:1,y:0}:{x:-1,y:0}:t.y<o.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),f=0!==d.x?"x":"y",p=d[f];let h,m,g=[];const v={x:0,y:0},y={x:0,y:0},[b,x,w,S]=or({sourceX:t.x,sourceY:t.y,targetX:o.x,targetY:o.y});if(l[f]*s[f]===-1){var k,E;h=null!==(k=a.x)&&void 0!==k?k:b,m=null!==(E=a.y)&&void 0!==E?E:x;const e=[{x:h,y:c.y},{x:h,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=l[f]===p?"x"===f?e:t:"x"===f?t:e}else{const e=[{x:c.x,y:u.y}],a=[{x:u.x,y:c.y}];if(g="x"===f?l.x===p?a:e:l.y===p?e:a,n===r){const e=Math.abs(t[f]-o[f]);if(e<=i){const n=Math.min(i-1,i-e);l[f]===p?v[f]=(c[f]>t[f]?-1:1)*n:y[f]=(u[f]>o[f]?-1:1)*n}}if(n!==r){const t="x"===f?"y":"x",n=l[f]===s[t],o=c[t]>u[t],r=c[t]<u[t];(1===l[f]&&(!n&&o||n&&r)||1!==l[f]&&(!n&&r||n&&o))&&(g="x"===f?e:a)}const d={x:c.x+v.x,y:c.y+v.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(h=(d.x+b.x)/2,m=g[0].y):(h=g[0].x,m=(d.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},o],h,m,w,S]}function vr(e){let{sourceX:t,sourceY:n,sourcePosition:o=ur.Bottom,targetX:r,targetY:a,targetPosition:i=ur.Top,borderRadius:l=5,centerX:s,centerY:c,offset:u=20}=e;const[d,f,p,h,m]=gr({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:a},targetPosition:i,center:{x:s,y:c},offset:u}),g=d.reduce((e,t,n)=>{let o="";return o=n>0&&n<d.length-1?function(e,t,n,o){const r=Math.min(mr(e,t)/2,mr(t,n)/2,o),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return"L".concat(a," ").concat(i);if(e.y===i){const t=e.x<n.x?-1:1,o=e.y<n.y?1:-1;return"L ".concat(a+r*t,",").concat(i,"Q ").concat(a,",").concat(i," ").concat(a,",").concat(i+r*o)}const l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return"L ".concat(a,",").concat(i+r*s,"Q ").concat(a,",").concat(i," ").concat(a+r*l,",").concat(i)}(d[n-1],t,d[n+1],l):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=o},"");return[g,f,p,h,m]}const yr=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:i,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:p=ur.Bottom,targetPosition:h=ur.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,x,w]=vr({sourceX:t,sourceY:n,sourcePosition:p,targetX:r,targetY:a,targetPosition:h,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return o.createElement(tr,{path:b,labelX:x,labelY:w,label:i,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:g,interactionWidth:y})});yr.displayName="SmoothStepEdge";const br=(0,o.memo)(e=>{var t;return o.createElement(yr,c(c({},e),{},{pathOptions:(0,o.useMemo)(()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}},[null===(t=e.pathOptions)||void 0===t?void 0:t.offset])}))});br.displayName="StepEdge";const xr=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,label:i,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:m}=e;const[g,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const[a,i,l,s]=or({sourceX:t,sourceY:n,targetX:o,targetY:r});return["M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r),a,i,l,s]}({sourceX:t,sourceY:n,targetX:r,targetY:a});return o.createElement(tr,{path:g,labelX:v,labelY:y,label:i,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:h,interactionWidth:m})});function wr(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Sr(e){let{pos:t,x1:n,y1:o,x2:r,y2:a,c:i}=e;switch(t){case ur.Left:return[n-wr(n-r,i),o];case ur.Right:return[n+wr(r-n,i),o];case ur.Top:return[n,o-wr(o-a,i)];case ur.Bottom:return[n,o+wr(a-o,i)]}}function kr(e){let{sourceX:t,sourceY:n,sourcePosition:o=ur.Bottom,targetX:r,targetY:a,targetPosition:i=ur.Top,curvature:l=.25}=e;const[s,c]=Sr({pos:o,x1:t,y1:n,x2:r,y2:a,c:l}),[u,d]=Sr({pos:i,x1:r,y1:a,x2:t,y2:n,c:l}),[f,p,h,m]=rr({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(c," ").concat(u,",").concat(d," ").concat(r,",").concat(a),f,p,h,m]}xr.displayName="StraightEdge";const Er=(0,o.memo)(e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:i=ur.Bottom,targetPosition:l=ur.Top,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,x,w]=kr({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:a,targetPosition:l,curvature:null===v||void 0===v?void 0:v.curvature});return o.createElement(tr,{path:b,labelX:x,labelY:w,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:g,interactionWidth:y})});Er.displayName="BezierEdge";const Nr=(0,o.createContext)(null),Cr=Nr.Provider;Nr.Consumer;const Pr=e=>{let{source:t,sourceHandle:n,target:o,targetHandle:r}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(o).concat(r||"")},_r=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},jr=(e,t)=>{if(!e.source||!e.target)return $o(0,ko()),t;let n;var o;return n="id"in(o=e)&&"source"in o&&"target"in o?c({},e):c(c({},e),{},{id:Pr(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)},Mr=(e,t,n,o)=>{let{x:r,y:a}=e,[i,l,s]=t,[c,u]=o;const d={x:(r-i)/s,y:(a-l)/s};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},Dr=(e,t)=>{let{x:n,y:o}=e,[r,a,i]=t;return{x:n*i+r,y:o*i+a}},Tr=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(null!==(t=e.width)&&void 0!==t?t:0)*o[0],a=(null!==(n=e.height)&&void 0!==n?n:0)*o[1],i={x:e.position.x-r,y:e.position.y-a};return c(c({},i),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-a}:i})},zr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:o,y:r}=Tr(n,t).positionAbsolute;return Vo(e,Ho({x:o,y:r,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Wo(n)},Or=function(e,t){let[n,o,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const s={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:o=!0,hidden:r=!1}=e;if(i&&!o||r)return!1;const{positionAbsolute:u}=Tr(e,l),d={x:u.x,y:u.y,width:t||0,height:n||0},f=Yo(s,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||a&&f>0||f>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},Ar=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},Ir=function(e,t,n,o,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const i=t/(e.width*(1+a)),l=n/(e.height*(1+a)),s=Math.min(i,l),c=Ro(s,o,r);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},Rr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Lr(e,t,n,o){return(t[n]||[]).reduce((t,r)=>{var a,i,l,s;"".concat(e.id,"-").concat(r.id,"-").concat(n)!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(null!==(a=null===(i=e.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==a?a:0)+r.x+r.width/2,y:(null!==(l=null===(s=e.positionAbsolute)||void 0===s?void 0:s.y)&&void 0!==l?l:0)+r.y+r.height/2});return t},[])}const Fr={source:null,target:null,sourceHandle:null,targetHandle:null},Br=()=>({handleDomNode:null,isValid:!1,connection:Fr,endHandle:null});function Ur(e,t,n,o,r,a,i){const l="target"===r,s=i.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),u=c(c({},Br()),{},{handleDomNode:s});if(s){const e=Vr(void 0,s),r=s.getAttribute("data-nodeid"),i=s.getAttribute("data-handleid"),c=s.classList.contains("connectable"),d=s.classList.contains("connectableend"),f={source:l?r:n,sourceHandle:l?i:o,target:l?n:r,targetHandle:l?o:i};u.connection=f;c&&d&&(t===ar.Strict?l&&"source"===e||!l&&"target"===e:r!==n||i!==o)&&(u.endHandle={nodeId:r,handleId:i,type:e},u.isValid=a(f))}return u}function Vr(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Hr(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Wr(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Xr(e){let{event:t,handleId:n,nodeId:o,onConnect:r,isTarget:a,getState:i,setState:l,isValidConnection:s,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=Uo(t.target),{connectionMode:f,domNode:p,autoPanOnConnect:h,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:b}=i();let x,w=0;const{x:S,y:k}=Jo(t),E=null===d||void 0===d?void 0:d.elementFromPoint(S,k),N=Vr(c,E),C=null===p||void 0===p?void 0:p.getBoundingClientRect();if(!C||!N)return;let P,_=Jo(t,C),j=!1,M=null,D=!1,T=null;const z=function(e){let{nodes:t,nodeId:n,handleId:o,handleType:r}=e;return t.reduce((e,t)=>{if(t[Go]){const{handleBounds:a}=t[Go];let i=[],l=[];a&&(i=Lr(t,a,"source","".concat(n,"-").concat(o,"-").concat(r)),l=Lr(t,a,"target","".concat(n,"-").concat(o,"-").concat(r))),e.push(...i,...l)}return e},[])}({nodes:y(),nodeId:o,handleId:n,handleType:N}),O=()=>{if(!h)return;const[e,t]=Bo(_,C);v({x:e,y:t}),w=requestAnimationFrame(O)};function A(e){const{transform:t}=i();_=Jo(e,C);const{handle:r,validHandleResult:c}=function(e,t,n,o,r,a){const{x:i,y:l}=Jo(e),s=t.elementsFromPoint(i,l).find(e=>e.classList.contains("react-flow__handle"));if(s){const e=s.getAttribute("data-nodeid");if(e){const t=Vr(void 0,s),o=s.getAttribute("data-handleid"),i=a({nodeId:e,id:o,type:t});if(i){const a=r.find(n=>n.nodeId===e&&n.type===t&&n.id===o);return{handle:{id:o,type:t,nodeId:e,x:(null===a||void 0===a?void 0:a.x)||n.x,y:(null===a||void 0===a?void 0:a.y)||n.y},validHandleResult:i}}}}let c=[],u=1/0;if(r.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=o){const n=a(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:Br()};if(1===c.length)return c[0];const d=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),f=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return f?"target"===t.type:!d||n.isValid})||c[0]}(e,d,Mr(_,t,!1,[1,1]),m,z,e=>Ur(e,f,o,n,a?"target":"source",s,d));if(x=r,j||(O(),j=!0),T=c.handleDomNode,M=c.connection,D=c.isValid,l({connectionPosition:x&&D?Dr({x:x.x,y:x.y},t):_,connectionStatus:Wr(!!x,D),connectionEndHandle:c.endHandle}),!x&&!D&&!T)return Hr(P);M.source!==M.target&&T&&(Hr(P),P=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",D),T.classList.toggle("react-flow__handle-valid",D))}function I(e){var t,n;(x||T)&&M&&D&&(null===r||void 0===r||r(M)),null===(t=(n=i()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),Hr(P),b(),cancelAnimationFrame(w),j=!1,D=!1,M=null,T=null,d.removeEventListener("mousemove",A),d.removeEventListener("mouseup",I),d.removeEventListener("touchmove",A),d.removeEventListener("touchend",I)}l({connectionPosition:_,connectionStatus:null,connectionNodeId:o,connectionHandleId:n,connectionHandleType:N,connectionStartHandle:{nodeId:o,handleId:n,type:N},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:o,handleId:n,handleType:N}),d.addEventListener("mousemove",A),d.addEventListener("mouseup",I),d.addEventListener("touchmove",A),d.addEventListener("touchend",I)}const Yr=()=>!0,Kr=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Gr=(0,o.forwardRef)((e,t)=>{let{type:n="source",position:r=ur.Top,isValidConnection:a,isConnectable:i=!0,isConnectableStart:l=!0,isConnectableEnd:s=!0,id:u,onConnect:d,children:f,className:m,onMouseDown:g,onTouchStart:v}=e,y=p(e,go);const b=u||null,x="target"===n,w=Do(),S=(0,o.useContext)(Nr),{connectOnClick:E,noPanClassName:N}=Mo(Kr,k),{connecting:C,clickConnecting:P}=Mo(((e,t,n)=>o=>{const{connectionStartHandle:r,connectionEndHandle:a,connectionClickStartHandle:i}=o;return{connecting:(null===r||void 0===r?void 0:r.nodeId)===e&&(null===r||void 0===r?void 0:r.handleId)===t&&(null===r||void 0===r?void 0:r.type)===n||(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n,clickConnecting:(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n}})(S,b,n),k);var _,j;S||(null===(_=(j=w.getState()).onError)||void 0===_||_.call(j,"010",Co()));const M=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=w.getState(),r=c(c({},t),e);if(o){const{edges:e,setEdges:t}=w.getState();t(jr(r,e))}null===n||void 0===n||n(r),null===d||void 0===d||d(r)},D=e=>{if(!S)return;const t=Zo(e);l&&(t&&0===e.button||!t)&&Xr({event:e,handleId:b,nodeId:S,onConnect:M,isTarget:x,getState:w.getState,setState:w.setState,isValidConnection:a||w.getState().isValidConnection||Yr}),t?null===g||void 0===g||g(e):null===v||void 0===v||v(e)};return o.createElement("div",c({"data-handleid":b,"data-nodeid":S,"data-handlepos":r,"data-id":"".concat(S,"-").concat(b,"-").concat(n),className:h(["react-flow__handle","react-flow__handle-".concat(r),"nodrag",N,m,{source:!x,target:x,connectable:i,connectablestart:l,connectableend:s,connecting:P,connectionindicator:i&&(l&&!C||s&&C)}]),onMouseDown:D,onTouchStart:D,onClick:E?e=>{const{onClickConnectStart:t,onClickConnectEnd:o,connectionClickStartHandle:r,connectionMode:i,isValidConnection:s}=w.getState();if(!S||!r&&!l)return;if(!r)return null===t||void 0===t||t(e,{nodeId:S,handleId:b,handleType:n}),void w.setState({connectionClickStartHandle:{nodeId:S,type:n,handleId:b}});const c=Uo(e.target),u=a||s||Yr,{connection:d,isValid:f}=Ur({nodeId:S,id:b,type:n},i,r.nodeId,r.handleId||null,r.type,u,c);f&&M(d),null===o||void 0===o||o(e),w.setState({connectionClickStartHandle:null})}:void 0,ref:t},y),f)});Gr.displayName="Handle";var qr=(0,o.memo)(Gr);const $r=e=>{let{data:t,isConnectable:n,targetPosition:r=ur.Top,sourcePosition:a=ur.Bottom}=e;return o.createElement(o.Fragment,null,o.createElement(qr,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,o.createElement(qr,{type:"source",position:a,isConnectable:n}))};$r.displayName="DefaultNode";var Qr=(0,o.memo)($r);const Zr=e=>{let{data:t,isConnectable:n,sourcePosition:r=ur.Bottom}=e;return o.createElement(o.Fragment,null,null===t||void 0===t?void 0:t.label,o.createElement(qr,{type:"source",position:r,isConnectable:n}))};Zr.displayName="InputNode";var Jr=(0,o.memo)(Zr);const ea=e=>{let{data:t,isConnectable:n,targetPosition:r=ur.Top}=e;return o.createElement(o.Fragment,null,o.createElement(qr,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label)};ea.displayName="OutputNode";var ta=(0,o.memo)(ea);const na=()=>null;na.displayName="GroupNode";const oa=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>c({},e))}),ra=e=>e.id;function aa(e,t){return k(e.selectedNodes.map(ra),t.selectedNodes.map(ra))&&k(e.selectedEdges.map(ra),t.selectedEdges.map(ra))}const ia=(0,o.memo)(e=>{let{onSelectionChange:t}=e;const n=Do(),{selectedNodes:r,selectedEdges:a}=Mo(oa,aa);return(0,o.useEffect)(()=>{const e={nodes:r,edges:a};null===t||void 0===t||t(e),n.getState().onSelectionChange.forEach(t=>t(e))},[r,a,t]),null});ia.displayName="SelectionListener";const la=e=>!!e.onSelectionChange;function sa(e){let{onSelectionChange:t}=e;const n=Mo(la);return t||n?o.createElement(ia,{onSelectionChange:t}):null}const ca=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ua(e,t){(0,o.useEffect)(()=>{"undefined"!==typeof e&&t(e)},[e])}function da(e,t,n){(0,o.useEffect)(()=>{"undefined"!==typeof t&&n({[e]:t})},[t])}const fa=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:a,onConnect:i,onConnectStart:l,onConnectEnd:s,onClickConnectStart:u,onClickConnectEnd:d,nodesDraggable:f,nodesConnectable:p,nodesFocusable:h,edgesFocusable:m,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:x,onNodesChange:w,onEdgesChange:S,elementsSelectable:E,connectionMode:N,snapGrid:C,snapToGrid:P,translateExtent:_,connectOnClick:j,defaultEdgeOptions:M,fitView:D,fitViewOptions:T,onNodesDelete:z,onEdgesDelete:O,onNodeDrag:A,onNodeDragStart:I,onNodeDragStop:R,onSelectionDrag:L,onSelectionDragStart:F,onSelectionDragStop:B,noPanClassName:U,nodeOrigin:V,rfId:H,autoPanOnConnect:W,autoPanOnNodeDrag:X,onError:Y,connectionRadius:K,isValidConnection:G,nodeDragThreshold:q}=e;const{setNodes:$,setEdges:Q,setDefaultNodesAndEdges:Z,setMinZoom:J,setMaxZoom:ee,setTranslateExtent:te,setNodeExtent:ne,reset:oe}=Mo(ca,k),re=Do();return(0,o.useEffect)(()=>{const e=null===a||void 0===a?void 0:a.map(e=>c(c({},e),M));return Z(r,e),()=>{oe()}},[]),da("defaultEdgeOptions",M,re.setState),da("connectionMode",N,re.setState),da("onConnect",i,re.setState),da("onConnectStart",l,re.setState),da("onConnectEnd",s,re.setState),da("onClickConnectStart",u,re.setState),da("onClickConnectEnd",d,re.setState),da("nodesDraggable",f,re.setState),da("nodesConnectable",p,re.setState),da("nodesFocusable",h,re.setState),da("edgesFocusable",m,re.setState),da("edgesUpdatable",g,re.setState),da("elementsSelectable",E,re.setState),da("elevateNodesOnSelect",v,re.setState),da("snapToGrid",P,re.setState),da("snapGrid",C,re.setState),da("onNodesChange",w,re.setState),da("onEdgesChange",S,re.setState),da("connectOnClick",j,re.setState),da("fitViewOnInit",D,re.setState),da("fitViewOnInitOptions",T,re.setState),da("onNodesDelete",z,re.setState),da("onEdgesDelete",O,re.setState),da("onNodeDrag",A,re.setState),da("onNodeDragStart",I,re.setState),da("onNodeDragStop",R,re.setState),da("onSelectionDrag",L,re.setState),da("onSelectionDragStart",F,re.setState),da("onSelectionDragStop",B,re.setState),da("noPanClassName",U,re.setState),da("nodeOrigin",V,re.setState),da("rfId",H,re.setState),da("autoPanOnConnect",W,re.setState),da("autoPanOnNodeDrag",X,re.setState),da("onError",Y,re.setState),da("connectionRadius",K,re.setState),da("isValidConnection",G,re.setState),da("nodeDragThreshold",q,re.setState),ua(t,$),ua(n,Q),ua(y,J),ua(b,ee),ua(_,te),ua(x,ne),null},pa={display:"none"},ha={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ma="react-flow__node-desc",ga="react-flow__edge-desc",va=e=>e.ariaLiveMessage;function ya(e){let{rfId:t}=e;const n=Mo(va);return o.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:ha},n)}function ba(e){let{rfId:t,disableKeyboardA11y:n}=e;return o.createElement(o.Fragment,null,o.createElement("div",{id:"".concat(ma,"-").concat(t),style:pa},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:"".concat(ga,"-").concat(t),style:pa},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&o.createElement(ya,{rfId:t}))}var xa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[n,r]=(0,o.useState)(!1),a=(0,o.useRef)(!1),i=(0,o.useRef)(new Set([])),[l,s]=(0,o.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,o.useEffect)(()=>{const n="undefined"!==typeof document?document:null,o=(null===t||void 0===t?void 0:t.target)||n;if(null!==e){const e=e=>{a.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Qo(e))return!1;const n=Sa(e.code,s);i.current.add(e[n]),wa(l,i.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Qo(e))return!1;const n=Sa(e.code,s);wa(l,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[n]),"Meta"===e.key&&i.current.clear(),a.current=!1},c=()=>{i.current.clear(),r(!1)};return null===o||void 0===o||o.addEventListener("keydown",e),null===o||void 0===o||o.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{null===o||void 0===o||o.removeEventListener("keydown",e),null===o||void 0===o||o.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}},[e,r]),n};function wa(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function Sa(e,t){return t.includes(e)?"code":"key"}function ka(e,t,n,o){var r,a,i,l,s,c,u,d;const f=e.parentNode||e.parentId;if(!f)return n;const p=t.get(f),h=Tr(p,o);return ka(p,t,{x:(null!==(r=n.x)&&void 0!==r?r:0)+h.x,y:(null!==(a=n.y)&&void 0!==a?a:0)+h.y,z:(null!==(i=null===(l=p[Go])||void 0===l?void 0:l.z)&&void 0!==i?i:0)>(null!==(s=n.z)&&void 0!==s?s:0)?null!==(c=null===(u=p[Go])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},o)}function Ea(e,t,n){e.forEach(o=>{const r=o.parentNode||o.parentId;if(r&&!e.has(r))throw new Error("Parent node ".concat(r," not found"));if(r||null!==n&&void 0!==n&&n[o.id]){var a,i;const{x:r,y:l,z:s}=ka(o,e,c(c({},o.position),{},{z:null!==(a=null===(i=o[Go])||void 0===i?void 0:i.z)&&void 0!==a?a:0}),t);o.positionAbsolute={x:r,y:l},o[Go].z=s,null!==n&&void 0!==n&&n[o.id]&&(o[Go].isParent=!0)}})}function Na(e,t,n,o){const r=new Map,a={},i=o?1e3:0;return e.forEach(e=>{var n;const o=(Ko(e.zIndex)?e.zIndex:0)+(e.selected?i:0),l=t.get(e.id),s=c(c({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),u=e.parentNode||e.parentId;u&&(a[u]=!0);const d=(null===l||void 0===l?void 0:l.type)&&(null===l||void 0===l?void 0:l.type)!==e.type;Object.defineProperty(s,Go,{enumerable:!1,value:{handleBounds:d||null===l||void 0===l||null===(n=l[Go])||void 0===n?void 0:n.handleBounds,z:o}}),r.set(e.id,s)}),Ea(r,n,a),r}function Ca(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:o,height:r,minZoom:a,maxZoom:i,d3Zoom:l,d3Selection:s,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!c&&u;if(l&&s&&(f||!t.initial)){const e=n().filter(e=>{var n;const o=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?o&&t.nodes.some(t=>t.id===e.id):o}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var p,h,m;const n=zr(e,d),{x:c,y:u,zoom:f}=Ir(n,o,r,null!==(p=t.minZoom)&&void 0!==p?p:a,null!==(h=t.maxZoom)&&void 0!==h?h:i,null!==(m=t.padding)&&void 0!==m?m:.1),g=$n.translate(c,u).scale(f);return"number"===typeof t.duration&&t.duration>0?l.transform(Rr(s,t.duration),g):l.transform(s,g),!0}}return!1}function Pa(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,c(c({},n),{},{[Go]:n[Go],selected:e.selected}))}),new Map(t)}function _a(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function ja(e){let{changedNodes:t,changedEdges:n,get:o,set:r}=e;const{nodeInternals:a,edges:i,onNodesChange:l,onEdgesChange:s,hasDefaultNodes:c,hasDefaultEdges:u}=o();null!==t&&void 0!==t&&t.length&&(c&&r({nodeInternals:Pa(t,a)}),null===l||void 0===l||l(t)),null!==n&&void 0!==n&&n.length&&(u&&r({edges:_a(n,i)}),null===s||void 0===s||s(n))}const Ma=()=>{},Da={zoomIn:Ma,zoomOut:Ma,zoomTo:Ma,getZoom:()=>1,setViewport:Ma,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ma,fitBounds:Ma,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ta=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function za(){const e=(()=>{const e=Do(),{d3Zoom:t,d3Selection:n}=Mo(Ta,k),r=(0,o.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(Rr(n,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(Rr(n,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,o)=>t.scaleTo(Rr(n,null===o||void 0===o?void 0:o.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(o,r)=>{var a,i,l;const[s,c,u]=e.getState().transform,d=$n.translate(null!==(a=o.x)&&void 0!==a?a:s,null!==(i=o.y)&&void 0!==i?i:c).scale(null!==(l=o.zoom)&&void 0!==l?l:u);t.transform(Rr(n,null===r||void 0===r?void 0:r.duration),d)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>Ca(e.getState,t),setCenter:(o,r,a)=>{const{width:i,height:l,maxZoom:s}=e.getState(),c="undefined"!==typeof(null===a||void 0===a?void 0:a.zoom)?a.zoom:s,u=i/2-o*c,d=l/2-r*c,f=$n.translate(u,d).scale(c);t.transform(Rr(n,null===a||void 0===a?void 0:a.duration),f)},fitBounds:(o,r)=>{var a;const{width:i,height:l,minZoom:s,maxZoom:c}=e.getState(),{x:u,y:d,zoom:f}=Ir(o,i,l,s,c,null!==(a=null===r||void 0===r?void 0:r.padding)&&void 0!==a?a:.1),p=$n.translate(u,d).scale(f);t.transform(Rr(n,null===r||void 0===r?void 0:r.duration),p)},project:t=>{const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Mr(t,n,o,r)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:o,snapGrid:r,domNode:a}=e.getState();if(!a)return t;const{x:i,y:l}=a.getBoundingClientRect(),s={x:t.x-i,y:t.y-l};return Mr(s,n,o,r)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:r,y:a}=o.getBoundingClientRect(),i=Dr(t,n);return{x:i.x+r,y:i.y+a}},viewportInitialized:!0}:Da,[t,n]);return r})(),t=Do(),n=(0,o.useCallback)(()=>t.getState().getNodes().map(e=>c({},e)),[]),r=(0,o.useCallback)(e=>t.getState().nodeInternals.get(e),[]),a=(0,o.useCallback)(()=>{const{edges:e=[]}=t.getState();return e.map(e=>c({},e))},[]),i=(0,o.useCallback)(e=>{const{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),l=(0,o.useCallback)(e=>{const{getNodes:n,setNodes:o,hasDefaultNodes:r,onNodesChange:a}=t.getState(),i=n(),l="function"===typeof e?e(i):e;if(r)o(l);else if(a){const e=0===l.length?i.map(e=>({type:"remove",id:e.id})):l.map(e=>({item:e,type:"reset"}));a(e)}},[]),s=(0,o.useCallback)(e=>{const{edges:n=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:a}=t.getState(),i="function"===typeof e?e(n):e;if(r)o(i);else if(a){a(0===i.length?n.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"})))}},[]),u=(0,o.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{getNodes:o,setNodes:r,hasDefaultNodes:a,onNodesChange:i}=t.getState();if(a){r([...o(),...n])}else if(i){const e=n.map(e=>({item:e,type:"add"}));i(e)}},[]),d=(0,o.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{edges:o=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:i}=t.getState();if(a)r([...o,...n]);else if(i){i(n.map(e=>({item:e,type:"add"})))}},[]),f=(0,o.useCallback)(()=>{const{getNodes:e,edges:n=[],transform:o}=t.getState(),[r,a,i]=o;return{nodes:e().map(e=>c({},e)),edges:n.map(e=>c({},e)),viewport:{x:r,y:a,zoom:i}}},[]),p=(0,o.useCallback)(e=>{let{nodes:n,edges:o}=e;const{nodeInternals:r,getNodes:a,edges:i,hasDefaultNodes:l,hasDefaultEdges:s,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:f}=t.getState(),p=(n||[]).map(e=>e.id),h=(o||[]).map(e=>e.id),m=a().reduce((e,t)=>{const n=t.parentNode||t.parentId,o=!p.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(p.includes(t.id)||o)&&e.push(t),e},[]),g=i.filter(e=>"boolean"!==typeof e.deletable||e.deletable),v=g.filter(e=>h.includes(e.id));if(m||v){const e=Ar(m,g),n=[...v,...e],o=n.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((s||l)&&(s&&t.setState({edges:i.filter(e=>!o.includes(e.id))}),l&&(m.forEach(e=>{r.delete(e.id)}),t.setState({nodeInternals:new Map(r)}))),o.length>0&&(null===u||void 0===u||u(n),f&&f(o.map(e=>({id:e,type:"remove"})))),m.length>0&&(null===c||void 0===c||c(m),d)){d(m.map(e=>({id:e.id,type:"remove"})))}}},[]),h=(0,o.useCallback)(e=>{const n=Ko((o=e).width)&&Ko(o.height)&&Ko(o.x)&&Ko(o.y);var o;const r=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!r)return[null,null,n];return[n?e:Xo(r),r,n]},[]),m=(0,o.useCallback)(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;const[r,a,i]=h(e);return r?(o||t.getState().getNodes()).filter(e=>{if(!i&&(e.id===a.id||!e.positionAbsolute))return!1;const t=Xo(e),o=Yo(t,r);return n&&o>0||o>=r.width*r.height}):[]},[]),g=(0,o.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[o]=h(e);if(!o)return!1;const r=Yo(o,t);return n&&r>0||r>=o.width*o.height},[]);return(0,o.useMemo)(()=>c(c({},e),{},{getNodes:n,getNode:r,getEdges:a,getEdge:i,setNodes:l,setEdges:s,addNodes:u,addEdges:d,toObject:f,deleteElements:p,getIntersectingNodes:m,isNodeIntersecting:g}),[e,n,r,a,i,l,s,u,d,f,p,m,g])}const Oa={actInsideInputWithModifier:!1};const Aa={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ia=e=>({x:e.x,y:e.y,zoom:e.k}),Ra=(e,t)=>e.target.closest(".".concat(t)),La=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Fa=e=>{const t=e.ctrlKey&&er()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},Ba=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ua=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:a,zoomOnScroll:i=!0,zoomOnPinch:l=!0,panOnScroll:s=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=ir.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:p=!0,defaultViewport:h,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:b=!0,children:x,noWheelClassName:w,noPanClassName:S}=e;const E=(0,o.useRef)(),N=Do(),C=(0,o.useRef)(!1),P=(0,o.useRef)(!1),_=(0,o.useRef)(null),j=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:D,d3ZoomHandler:T,userSelectionActive:z}=Mo(Ba,k),O=xa(y),A=(0,o.useRef)(0),I=(0,o.useRef)(!1),R=(0,o.useRef)();return function(e){const t=Do();(0,o.useEffect)(()=>{let n;const o=()=>{if(!e.current)return;const n=Io(e.current);var o,r;0!==n.height&&0!==n.width||null===(o=(r=t.getState()).onError)||void 0===o||o.call(r,"004",wo()),t.setState({width:n.width||500,height:n.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver(()=>o()),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}},[])}(_),(0,o.useEffect)(()=>{if(_.current){const e=_.current.getBoundingClientRect(),t=ao().scaleExtent([g,v]).translateExtent(m),n=He(_.current).call(t),o=$n.translate(h.x,h.y).scale(Ro(h.zoom,g,v)),r=[[0,0],[e.width,e.height]],a=t.constrain()(o,r,m);t.transform(n,a),t.wheelDelta(Fa),N.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:_.current.closest(".react-flow")})}},[]),(0,o.useEffect)(()=>{D&&M&&(!s||O||z?"undefined"!==typeof T&&D.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||Ra(e,w))return null;e.preventDefault(),T.call(this,e,t)},{passive:!1}):D.on("wheel.zoom",e=>{if(Ra(e,w))return!1;e.preventDefault(),e.stopImmediatePropagation();const o=D.property("__zoom").k||1;if(e.ctrlKey&&l){const t=Ze(e),n=Fa(e),r=o*Math.pow(2,n);return void M.scaleTo(D,r,t,e)}const a=1===e.deltaMode?20:1;let i=u===ir.Vertical?0:e.deltaX*a,s=u===ir.Horizontal?0:e.deltaY*a;!er()&&e.shiftKey&&u!==ir.Vertical&&(i=e.deltaY*a,s=0),M.translateBy(D,-i/o*c,-s/o*c,{internal:!0});const d=Ia(D.property("__zoom")),{onViewportChangeStart:f,onViewportChange:p,onViewportChangeEnd:h}=N.getState();clearTimeout(R.current),I.current||(I.current=!0,null===n||void 0===n||n(e,d),null===f||void 0===f||f(d)),I.current&&(null===t||void 0===t||t(e,d),null===p||void 0===p||p(d),R.current=setTimeout(()=>{null===r||void 0===r||r(e,d),null===h||void 0===h||h(d),I.current=!1},150))},{passive:!1}))},[z,s,u,D,M,T,O,l,b,w,n,t,r]),(0,o.useEffect)(()=>{M&&M.on("start",e=>{var t,o;if(!e.sourceEvent||e.sourceEvent.internal)return null;A.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:r}=N.getState(),a=Ia(e.transform);C.current=!0,j.current=a,"mousedown"===(null===(o=e.sourceEvent)||void 0===o?void 0:o.type)&&N.setState({paneDragging:!0}),null===r||void 0===r||r(a),null===n||void 0===n||n(e.sourceEvent,a)})},[M,n]),(0,o.useEffect)(()=>{M&&(z&&!C.current?M.on("zoom",null):z||M.on("zoom",e=>{var n,o;const{onViewportChange:r}=N.getState();if(N.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),P.current=!(!a||!La(p,null!==(n=A.current)&&void 0!==n?n:0)),(t||r)&&(null===(o=e.sourceEvent)||void 0===o||!o.internal)){const n=Ia(e.transform);null===r||void 0===r||r(n),null===t||void 0===t||t(e.sourceEvent,n)}}))},[z,M,t,p,a]),(0,o.useEffect)(()=>{M&&M.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),a&&La(p,null!==(t=A.current)&&void 0!==t?t:0)&&!P.current&&a(e.sourceEvent),P.current=!1,(r||n)&&(o=j.current,i=e.transform,o.x!==i.x||o.y!==i.y||o.zoom!==i.k)){const t=Ia(e.transform);j.current=t,clearTimeout(E.current),E.current=setTimeout(()=>{null===n||void 0===n||n(t),null===r||void 0===r||r(e.sourceEvent,t)},s?150:0)}var o,i})},[M,s,p,r,a]),(0,o.useEffect)(()=>{M&&M.filter(e=>{const t=O||i,n=l&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(Ra(e,"react-flow__node")||Ra(e,"react-flow__edge")))return!0;if(!p&&!t&&!s&&!d&&!l)return!1;if(z)return!1;if(!d&&"dblclick"===e.type)return!1;if(Ra(e,w)&&"wheel"===e.type)return!1;if(Ra(e,S)&&("wheel"!==e.type||s&&"wheel"===e.type&&!O))return!1;if(!l&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!s&&!n&&"wheel"===e.type)return!1;if(!p&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;const o=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o})},[z,M,i,l,s,d,p,f,O]),o.createElement("div",{className:"react-flow__renderer",ref:_,style:Aa},x)},Va=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Ha(){const{userSelectionActive:e,userSelectionRect:t}=Mo(Va,k);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}function Wa(e,t){const n=t.parentNode||t.parentId,o=e.find(e=>e.id===n);if(o){const e=t.position.x+t.width-o.width,n=t.position.y+t.height-o.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var r,a;if(o.style=c({},o.style)||{},o.style.width=null!==(r=o.style.width)&&void 0!==r?r:o.width,o.style.height=null!==(a=o.style.height)&&void 0!==a?a:o.height,e>0&&(o.style.width+=e),n>0&&(o.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);o.position.x=o.position.x-e,o.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);o.position.y=o.position.y-e,o.style.height+=e,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function Xa(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const o=e.filter(e=>e.id===n.id);if(0===o.length)return t.push(n),t;const r=c({},n);for(const e of o)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(r.position=e.position),"undefined"!==typeof e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(r.dragging=e.dragging),r.expandParent&&Wa(t,r);break;case"dimensions":"undefined"!==typeof e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(r.style=c(c({},r.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&Wa(t,r);break;case"remove":return t}return t.push(r),t},n)}function Ya(e,t){return Xa(e,t)}const Ka=(e,t)=>({id:e,type:"select",selected:t});function Ga(e,t){return e.reduce((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(Ka(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(Ka(n.id,!1))),e},[])}const qa=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},$a=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Qa=(0,o.memo)(e=>{let{isSelecting:t,selectionMode:n=lr.Full,panOnDrag:r,onSelectionStart:a,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:s,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:m}=e;const g=(0,o.useRef)(null),v=Do(),y=(0,o.useRef)(0),b=(0,o.useRef)(0),x=(0,o.useRef)(),{userSelectionActive:w,elementsSelectable:S,dragging:E}=Mo($a,k),N=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,b.current=0},C=e=>{null===l||void 0===l||l(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},P=u?e=>u(e):void 0,_=S&&(t||w);return o.createElement("div",{className:h(["react-flow__pane",{dragging:E,selection:t}]),onClick:_?void 0:qa(C,g),onContextMenu:qa(e=>{Array.isArray(r)&&null!==r&&void 0!==r&&r.includes(2)?e.preventDefault():null===s||void 0===s||s(e)},g),onWheel:qa(P,g),onMouseEnter:_?void 0:d,onMouseDown:_?e=>{const{resetSelectedElements:n,domNode:o}=v.getState();if(x.current=null===o||void 0===o?void 0:o.getBoundingClientRect(),!S||!t||0!==e.button||e.target!==g.current||!x.current)return;const{x:r,y:i}=Jo(e,x.current);n(),v.setState({userSelectionRect:{width:0,height:0,startX:r,startY:i,x:r,y:i}}),null===a||void 0===a||a(e)}:void 0,onMouseMove:_?e=>{var o,r;const{userSelectionRect:a,nodeInternals:i,edges:l,transform:s,onNodesChange:u,onEdgesChange:d,nodeOrigin:f,getNodes:p}=v.getState();if(!t||!x.current||!a)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const h=Jo(e,x.current),m=null!==(o=a.startX)&&void 0!==o?o:0,g=null!==(r=a.startY)&&void 0!==r?r:0,w=c(c({},a),{},{x:h.x<m?h.x:m,y:h.y<g?h.y:g,width:Math.abs(h.x-m),height:Math.abs(h.y-g)}),S=p(),k=Or(i,w,s,n===lr.Partial,!0,f),E=Ar(k,l).map(e=>e.id),N=k.map(e=>e.id);if(y.current!==N.length){y.current=N.length;const e=Ga(S,N);e.length&&(null===u||void 0===u||u(e))}if(b.current!==E.length){b.current=E.length;const e=Ga(l,E);e.length&&(null===d||void 0===d||d(e))}v.setState({userSelectionRect:w})}:f,onMouseUp:_?e=>{if(0!==e.button)return;const{userSelectionRect:t}=v.getState();!w&&t&&e.target===g.current&&(null===C||void 0===C||C(e)),v.setState({nodesSelectionActive:y.current>0}),N(),null===i||void 0===i||i(e)}:void 0,onMouseLeave:_?e=>{w&&(v.setState({nodesSelectionActive:y.current>0}),null===i||void 0===i||i(e)),N()}:p,ref:g,style:Aa},m,o.createElement(Ha,null))});function Za(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return!!o&&(!!o.selected||Za(o,t))}function Ja(e,t,n){let o=e;do{var r;if(null!==(r=o)&&void 0!==r&&r.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function ei(e,t,n,o){return Array.from(e.values()).filter(n=>(n.selected||n.id===o)&&(!n.parentNode||n.parentId||!Za(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,o,r,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==t?t:0),y:n.y-(null!==(r=null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)&&void 0!==r?r:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function ti(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],a=arguments.length>5?arguments[5]:void 0;const i=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||o);let l=i;const s=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&s&&"parent"!==e.extent){const t=n.get(s),{x:o,y:a}=Tr(t,r).positionAbsolute;l=[[e.extent[0][0]+o,e.extent[0][1]+a],[e.extent[1][0]+o,e.extent[1][1]+a]]}}else if(s&&e.width&&e.height){const t=n.get(s),{x:o,y:a}=Tr(t,r).positionAbsolute;l=t&&Ko(o)&&Ko(a)&&Ko(t.width)&&Ko(t.height)?[[o+e.width*r[0],a+e.height*r[1]],[o+t.width-e.width+e.width*r[0],a+t.height-e.height+e.height*r[1]]]:l}else null===a||void 0===a||a("005",So()),l=i;let c={x:0,y:0};if(s){const e=n.get(s);c=Tr(e,r).positionAbsolute}const u=l&&"parent"!==l?Lo(t,l):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function ni(e){let{nodeId:t,dragItems:n,nodeInternals:o}=e;const r=n.map(e=>c(c({},o.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute}));return[t?r.find(e=>e.id===t):r[0],r]}Qa.displayName="Pane";const oi=(e,t,n,o)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const a=Array.from(r),i=t.getBoundingClientRect(),l=i.width*o[0],s=i.height*o[1];return a.map(e=>{const t=e.getBoundingClientRect();return c({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left-l)/n,y:(t.top-i.top-s)/n},Io(e))})};function ri(e,t,n){return void 0===n?n:o=>{const r=t().nodeInternals.get(e);r&&n(o,c({},r))}}function ai(e){let{id:t,store:n,unselect:o=!1,nodeRef:r}=e;const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:l,nodeInternals:s,onError:c}=n.getState(),u=s.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(o||u.selected&&l)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.blur()})):a([t])):null===c||void 0===c||c("012",_o(t))}function ii(e){return(t,n,o)=>null===e||void 0===e?void 0:e(t,o)}function li(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:i,isSelectable:l,selectNodesOnDrag:s}=e;const u=Do(),[d,f]=(0,o.useState)(!1),p=(0,o.useRef)([]),h=(0,o.useRef)({x:null,y:null}),m=(0,o.useRef)(0),g=(0,o.useRef)(null),v=(0,o.useRef)({x:0,y:0}),y=(0,o.useRef)(null),b=(0,o.useRef)(!1),x=(0,o.useRef)(!1),w=(0,o.useRef)(!1),S=function(){const e=Do(),t=(0,o.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:o,snapGrid:r,snapToGrid:a}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,s={x:(i-o[0])/o[2],y:(l-o[1])/o[2]};return c({xSnapped:a?r[0]*Math.round(s.x/r[0]):s.x,ySnapped:a?r[1]*Math.round(s.y/r[1]):s.y},s)},[]);return t}();return(0,o.useEffect)(()=>{if(null!==t&&void 0!==t&&t.current){const e=He(t.current),o=e=>{let{x:t,y:n}=e;const{nodeInternals:o,onNodeDrag:r,onSelectionDrag:a,updateNodePositions:l,nodeExtent:s,snapGrid:c,snapToGrid:d,nodeOrigin:m,onError:g}=u.getState();h.current={x:t,y:n};let v=!1,b={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&s){const e=zr(p.current,m);b=Ho(e)}if(p.current=p.current.map(e=>{const r={x:t-e.distance.x,y:n-e.distance.y};d&&(r.x=c[0]*Math.round(r.x/c[0]),r.y=c[1]*Math.round(r.y/c[1]));const a=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];var i,l;p.current.length>1&&s&&!e.extent&&(a[0][0]=e.positionAbsolute.x-b.x+s[0][0],a[1][0]=e.positionAbsolute.x+(null!==(i=e.width)&&void 0!==i?i:0)-b.x2+s[1][0],a[0][1]=e.positionAbsolute.y-b.y+s[0][1],a[1][1]=e.positionAbsolute.y+(null!==(l=e.height)&&void 0!==l?l:0)-b.y2+s[1][1]);const u=ti(e,r,o,a,m,g);return v=v||e.position.x!==u.position.x||e.position.y!==u.position.y,e.position=u.position,e.positionAbsolute=u.positionAbsolute,e}),!v)return;l(p.current,!0,!0),f(!0);const x=i?r:ii(a);if(x&&y.current){const[e,t]=ni({nodeId:i,dragItems:p.current,nodeInternals:o});x(y.current,e,t)}},c=()=>{if(!g.current)return;const[e,t]=Bo(v.current,g.current);if(0!==e||0!==t){var n,r;const{transform:a,panBy:i}=u.getState();h.current.x=(null!==(n=h.current.x)&&void 0!==n?n:0)-e/a[2],h.current.y=(null!==(r=h.current.y)&&void 0!==r?r:0)-t/a[2],i({x:e,y:t})&&o(h.current)}m.current=requestAnimationFrame(c)},d=e=>{const{nodeInternals:n,multiSelectionActive:o,nodesDraggable:r,unselectNodesAndEdges:a,onNodeDragStart:c,onSelectionDragStart:d}=u.getState();x.current=!0;const f=i?c:ii(d);var m;s&&l||o||!i||(null!==(m=n.get(i))&&void 0!==m&&m.selected||a());i&&l&&s&&ai({id:i,store:u,nodeRef:t});const g=S(e);if(h.current=g,p.current=ei(n,r,g,i),f&&p.current){const[t,o]=ni({nodeId:i,dragItems:p.current,nodeInternals:n});f(e.sourceEvent,t,o)}};if(!n){const n=function(){var e,t,n,o,r=so,a=co,i=uo,l=fo,s={},c=j("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",p).filter(l).on("touchstart.drag",g).on("touchmove.drag",v,We).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(i,l){if(!o&&r.call(this,i,l)){var s=b(this,a.call(this,i,l),i,l,"mouse");s&&(He(i.view).on("mousemove.drag",h,Xe).on("mouseup.drag",m,Xe),Ge(i.view),Ye(i),n=!1,e=i.clientX,t=i.clientY,s("start",i))}}function h(o){if(Ke(o),!n){var r=o.clientX-e,a=o.clientY-t;n=r*r+a*a>d}s.mouse("drag",o)}function m(e){He(e.view).on("mousemove.drag mouseup.drag",null),qe(e.view,n),Ke(e),s.mouse("end",e)}function g(e,t){if(r.call(this,e,t)){var n,o,i=e.changedTouches,l=a.call(this,e,t),s=i.length;for(n=0;n<s;++n)(o=b(this,l,e,t,i[n].identifier,i[n]))&&(Ye(e),o("start",e,i[n]))}}function v(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=s[o[t].identifier])&&(Ke(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<a;++t)(n=s[r[t].identifier])&&(Ye(e),n("end",e,r[t]))}function b(e,t,n,o,r,a){var l,d,p,h=c.copy(),m=Ze(a||n,t);if(null!=(p=i.call(e,new lo("beforestart",{sourceEvent:n,target:f,identifier:r,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:h}),o)))return l=p.x-m[0]||0,d=p.y-m[1]||0,function n(a,i,c){var g,v=m;switch(a){case"start":s[r]=n,g=u++;break;case"end":delete s[r],--u;case"drag":m=Ze(c||i,t),g=u}h.call(a,e,new lo(a,{sourceEvent:i,subject:p,target:f,identifier:r,active:g,x:m[0]+l,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:h}),o)}}return f.filter=function(e){return arguments.length?(r="function"===typeof e?e:io(!!e),f):r},f.container=function(e){return arguments.length?(a="function"===typeof e?e:io(e),f):a},f.subject=function(e){return arguments.length?(i="function"===typeof e?e:io(e),f):i},f.touchable=function(e){return arguments.length?(l="function"===typeof e?e:io(!!e),f):l},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=u.getState();0===n&&d(e),w.current=!1;const o=S(e);h.current=o,g.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,v.current=Jo(e.sourceEvent,g.current)}).on("drag",e=>{const t=S(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=u.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!b.current&&x.current&&n&&(b.current=!0,c()),!x.current){var a,i,l,s;const n=t.xSnapped-(null!==(a=null===h||void 0===h||null===(i=h.current)||void 0===i?void 0:i.x)&&void 0!==a?a:0),o=t.ySnapped-(null!==(l=null===h||void 0===h||null===(s=h.current)||void 0===s?void 0:s.y)&&void 0!==l?l:0);Math.sqrt(n*n+o*o)>r&&d(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&p.current&&x.current&&(y.current=e.sourceEvent,v.current=Jo(e.sourceEvent,g.current),o(t))}}).on("end",e=>{if(x.current&&!w.current&&(f(!1),b.current=!1,x.current=!1,cancelAnimationFrame(m.current),p.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:o,onSelectionDragStop:r}=u.getState(),a=i?o:ii(r);if(t(p.current,!1,!1),a){const[t,o]=ni({nodeId:i,dragItems:p.current,nodeInternals:n});a(e.sourceEvent,t,o)}}}).filter(e=>{const n=e.target;return!e.button&&(!r||!Ja(n,".".concat(r),t))&&(!a||Ja(n,a,t))});return e.call(n),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[t,n,r,a,l,u,i,s,S]),d}function si(){const e=Do();return(0,o.useCallback)(t=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:r,getNodes:a,snapToGrid:i,snapGrid:l,onError:s,nodesDraggable:c}=e.getState(),u=a().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),d=i?l[0]:5,f=i?l[1]:5,p=t.isShiftPressed?4:1,h=t.x*d*p,m=t.y*f*p;r(u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+h,y:e.positionAbsolute.y+m};i&&(t.x=l[0]*Math.round(t.x/l[0]),t.y=l[1]*Math.round(t.y/l[1]));const{positionAbsolute:r,position:a}=ti(e,t,n,o,void 0,s);e.position=a,e.positionAbsolute=r}return e}),!0,!1)},[])}const ci={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ui=e=>{const t=t=>{let{id:n,type:r,data:a,xPos:i,yPos:l,xPosOrigin:s,yPosOrigin:u,selected:d,onClick:f,onMouseEnter:p,onMouseMove:m,onMouseLeave:g,onContextMenu:v,onDoubleClick:y,style:b,className:x,isDraggable:w,isSelectable:S,isConnectable:k,isFocusable:E,selectNodesOnDrag:N,sourcePosition:C,targetPosition:P,hidden:_,resizeObserver:j,dragHandle:M,zIndex:D,isParent:T,noDragClassName:z,noPanClassName:O,initialized:A,disableKeyboardA11y:I,ariaLabel:R,rfId:L,hasHandleBounds:F}=t;const B=Do(),U=(0,o.useRef)(null),V=(0,o.useRef)(null),H=(0,o.useRef)(C),W=(0,o.useRef)(P),X=(0,o.useRef)(r),Y=S||w||f||p||m||g,K=si(),G=ri(n,B.getState,p),q=ri(n,B.getState,m),$=ri(n,B.getState,g),Q=ri(n,B.getState,v),Z=ri(n,B.getState,y);(0,o.useEffect)(()=>()=>{V.current&&(null===j||void 0===j||j.unobserve(V.current),V.current=null)},[]),(0,o.useEffect)(()=>{if(U.current&&!_){const e=U.current;A&&F&&V.current===e||(V.current&&(null===j||void 0===j||j.unobserve(V.current)),null===j||void 0===j||j.observe(e),V.current=e)}},[_,A,F]),(0,o.useEffect)(()=>{const e=X.current!==r,t=H.current!==C,o=W.current!==P;U.current&&(e||t||o)&&(e&&(X.current=r),t&&(H.current=C),o&&(W.current=P),B.getState().updateNodeDimensions([{id:n,nodeElement:U.current,forceUpdate:!0}]))},[n,r,C,P]);const J=li({nodeRef:U,disabled:_||!w,noDragClassName:z,handleSelector:M,nodeId:n,isSelectable:S,selectNodesOnDrag:N});return _?null:o.createElement("div",{className:h(["react-flow__node","react-flow__node-".concat(r),{[O]:w},x,{selected:d,selectable:S,parent:T,dragging:J}]),ref:U,style:c({zIndex:D,transform:"translate(".concat(s,"px,").concat(u,"px)"),pointerEvents:Y?"all":"none",visibility:A?"visible":"hidden"},b),"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:G,onMouseMove:q,onMouseLeave:$,onContextMenu:Q,onClick:e=>{const{nodeDragThreshold:t}=B.getState();if(S&&(!N||!w||t>0)&&ai({id:n,store:B,nodeRef:U}),f){const t=B.getState().nodeInternals.get(n);t&&f(e,c({},t))}},onDoubleClick:Z,onKeyDown:E?e=>{if(!Qo(e)&&!I)if(qo.includes(e.key)&&S){const t="Escape"===e.key;ai({id:n,store:B,unselect:t,nodeRef:U})}else w&&d&&Object.prototype.hasOwnProperty.call(ci,e.key)&&(B.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~i,", y: ").concat(~~l)}),K({x:ci[e.key].x,y:ci[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":I?void 0:"".concat(ma,"-").concat(L),"aria-label":R},o.createElement(Cr,{value:n},o.createElement(e,{id:n,data:a,type:r,xPos:i,yPos:l,selected:d,isConnectable:k,sourcePosition:C,targetPosition:P,dragging:J,dragHandle:M,zIndex:D})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const di=e=>{const t=e.getNodes().filter(e=>e.selected);return c(c({},zr(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var fi=(0,o.memo)(function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}=e;const a=Do(),{width:i,height:l,x:s,y:c,transformString:u,userSelectionActive:d}=Mo(di,k),f=si(),p=(0,o.useRef)(null);if((0,o.useEffect)(()=>{var e;r||(null===(e=p.current)||void 0===e||e.focus({preventScroll:!0}))},[r]),li({nodeRef:p}),d||!i||!l)return null;const m=t?e=>{const n=a.getState().getNodes().filter(e=>e.selected);t(e,n)}:void 0;return o.createElement("div",{className:h(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},o.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(ci,e.key)&&f({x:ci[e.key].x,y:ci[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:l,top:c,left:s}}))});const pi=e=>e.nodesSelectionActive,hi=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:l,onPaneScroll:s,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:f,selectionKeyCode:p,selectionOnDrag:h,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:x,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:P,panOnDrag:_,defaultViewport:j,translateExtent:M,minZoom:D,maxZoom:T,preventScrolling:z,onSelectionContextMenu:O,noWheelClassName:A,noPanClassName:I,disableKeyboardA11y:R}=e;const L=Mo(pi),F=xa(p),B=xa(b),U=B||_,V=B||E,H=F||h&&!0!==U;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const r=Do(),{deleteElements:a}=za(),i=xa(t,Oa),l=xa(n);(0,o.useEffect)(()=>{if(i){const{edges:e,getNodes:t}=r.getState(),n=t().filter(e=>e.selected),o=e.filter(e=>e.selected);a({nodes:n,edges:o}),r.setState({nodesSelectionActive:!1})}},[i]),(0,o.useEffect)(()=>{r.setState({multiSelectionActive:l})},[l])})({deleteKeyCode:c,multiSelectionKeyCode:y}),o.createElement(Ua,{onMove:u,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:l,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:P,panOnDrag:!F&&U,defaultViewport:j,translateExtent:M,minZoom:D,maxZoom:T,zoomActivationKeyCode:x,preventScrolling:z,noWheelClassName:A,noPanClassName:I},o.createElement(Qa,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:l,onPaneScroll:s,panOnDrag:U,isSelecting:!!H,selectionMode:m},t,L&&o.createElement(fi,{onSelectionContextMenu:O,noPanClassName:I,disableKeyboardA11y:R})))};hi.displayName="FlowRenderer";var mi=(0,o.memo)(hi);function gi(e){const t={input:ui(e.input||Jr),default:ui(e.default||Qr),output:ui(e.output||ta),group:ui(e.group||na)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=ui(e[n]||Qr),t),{});return c(c({},t),n)}const vi=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),yi=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:i,onError:l}=Mo(vi,k),s=(c=e.onlyRenderVisibleElements,Mo((0,o.useCallback)(e=>c?Or(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[c])));var c;const u=(0,o.useRef)(),d=(0,o.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));i(t)});return u.current=e,e},[]);return(0,o.useEffect)(()=>()=>{var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.disconnect()},[]),o.createElement("div",{className:"react-flow__nodes",style:Aa},s.map(i=>{var s,c,u,f,p,h,m,g;let v=i.type||"default";e.nodeTypes[v]||(null===l||void 0===l||l("003",xo(v)),v="default");const y=e.nodeTypes[v]||e.nodeTypes.default,b=!!(i.draggable||t&&"undefined"===typeof i.draggable),x=!!(i.selectable||a&&"undefined"===typeof i.selectable),w=!!(i.connectable||n&&"undefined"===typeof i.connectable),S=!!(i.focusable||r&&"undefined"===typeof i.focusable),k=e.nodeExtent?Lo(i.positionAbsolute,e.nodeExtent):i.positionAbsolute,E=null!==(s=null===k||void 0===k?void 0:k.x)&&void 0!==s?s:0,N=null!==(c=null===k||void 0===k?void 0:k.y)&&void 0!==c?c:0,C=(e=>{let{x:t,y:n,width:o,height:r,origin:a}=e;return o&&r?a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:n}:{x:t-o*a[0],y:n-r*a[1]}:{x:t,y:n}})({x:E,y:N,width:null!==(u=i.width)&&void 0!==u?u:0,height:null!==(f=i.height)&&void 0!==f?f:0,origin:e.nodeOrigin});return o.createElement(y,{key:i.id,id:i.id,className:i.className,style:i.style,type:v,data:i.data,sourcePosition:i.sourcePosition||ur.Bottom,targetPosition:i.targetPosition||ur.Top,hidden:i.hidden,xPos:E,yPos:N,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!i.selected,isDraggable:b,isSelectable:x,isConnectable:w,isFocusable:S,resizeObserver:d,dragHandle:i.dragHandle,zIndex:null!==(p=null===(h=i[Go])||void 0===h?void 0:h.z)&&void 0!==p?p:0,isParent:!(null===(m=i[Go])||void 0===m||!m.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!i.width&&!!i.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:i.ariaLabel,hasHandleBounds:!(null===(g=i[Go])||void 0===g||!g.handleBounds)})}))};yi.displayName="NodeRenderer";var bi=(0,o.memo)(yi);const xi=(e,t,n)=>n===ur.Left?e-t:n===ur.Right?e+t:e,wi=(e,t,n)=>n===ur.Top?e-t:n===ur.Bottom?e+t:e,Si="react-flow__edgeupdater",ki=e=>{let{position:t,centerX:n,centerY:r,radius:a=10,onMouseDown:i,onMouseEnter:l,onMouseOut:s,type:c}=e;return o.createElement("circle",{onMouseDown:i,onMouseEnter:l,onMouseOut:s,className:h([Si,"".concat(Si,"-").concat(c)]),cx:xi(n,a,t),cy:wi(r,a,t),r:a,stroke:"transparent",fill:"transparent"})},Ei=()=>!0;var Ni=e=>{const t=t=>{let{id:n,className:r,type:a,data:i,onClick:l,onEdgeDoubleClick:s,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:y,source:b,target:x,sourceX:w,sourceY:S,targetX:k,targetY:E,sourcePosition:N,targetPosition:C,elementsSelectable:P,hidden:_,sourceHandleId:j,targetHandleId:M,onContextMenu:D,onMouseEnter:T,onMouseMove:z,onMouseLeave:O,reconnectRadius:A,onReconnect:I,onReconnectStart:R,onReconnectEnd:L,markerEnd:F,markerStart:B,rfId:U,ariaLabel:V,isFocusable:H,isReconnectable:W,pathOptions:X,interactionWidth:Y,disableKeyboardA11y:K}=t;const G=(0,o.useRef)(null),[q,$]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),J=Do(),ee=(0,o.useMemo)(()=>"url('#".concat(_r(B,U),"')"),[B,U]),te=(0,o.useMemo)(()=>"url('#".concat(_r(F,U),"')"),[F,U]);if(_)return null;const ne=nr(n,J.getState,s),oe=nr(n,J.getState,D),re=nr(n,J.getState,T),ae=nr(n,J.getState,z),ie=nr(n,J.getState,O),le=(e,t)=>{if(0!==e.button)return;const{edges:o,isValidConnection:r}=J.getState(),a=t?x:b,i=(t?M:j)||null,l=t?"target":"source",s=r||Ei,c=t,u=o.find(e=>e.id===n);Z(!0),null===R||void 0===R||R(e,u,l);Xr({event:e,handleId:i,nodeId:a,onConnect:e=>null===I||void 0===I?void 0:I(u,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:e=>{Z(!1),null===L||void 0===L||L(e,u,l)}})},se=()=>$(!0),ce=()=>$(!1),ue=!P&&!l;return o.createElement("g",{className:h(["react-flow__edge","react-flow__edge-".concat(a),r,{selected:c,animated:u,inactive:ue,updating:q}]),onClick:e=>{const{edges:t,addSelectedEdges:o,unselectNodesAndEdges:r,multiSelectionActive:a}=J.getState(),i=t.find(e=>e.id===n);if(i){var s;if(P)if(J.setState({nodesSelectionActive:!1}),i.selected&&a)r({nodes:[],edges:[i]}),null===(s=G.current)||void 0===s||s.blur();else o([n]);l&&l(e,i)}},onDoubleClick:ne,onContextMenu:oe,onMouseEnter:re,onMouseMove:ae,onMouseLeave:ie,onKeyDown:H?e=>{if(!K&&qo.includes(e.key)&&P){const{unselectNodesAndEdges:o,addSelectedEdges:r,edges:a}=J.getState();var t;if("Escape"===e.key)null===(t=G.current)||void 0===t||t.blur(),o({edges:[a.find(e=>e.id===n)]});else r([n])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===V?void 0:V||"Edge from ".concat(b," to ").concat(x),"aria-describedby":H?"".concat(ga,"-").concat(U):void 0,ref:G},!Q&&o.createElement(e,{id:n,source:b,target:x,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,data:i,style:y,sourceX:w,sourceY:S,targetX:k,targetY:E,sourcePosition:N,targetPosition:C,sourceHandleId:j,targetHandleId:M,markerStart:ee,markerEnd:te,pathOptions:X,interactionWidth:Y}),W&&o.createElement(o.Fragment,null,("source"===W||!0===W)&&o.createElement(ki,{position:N,centerX:w,centerY:S,radius:A,onMouseDown:e=>le(e,!0),onMouseEnter:se,onMouseOut:ce,type:"source"}),("target"===W||!0===W)&&o.createElement(ki,{position:C,centerX:k,centerY:E,radius:A,onMouseDown:e=>le(e,!1),onMouseEnter:se,onMouseOut:ce,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function Ci(e){const t={default:Ni(e.default||Er),straight:Ni(e.bezier||xr),step:Ni(e.step||br),smoothstep:Ni(e.step||yr),simplebezier:Ni(e.simplebezier||pr)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=Ni(e[n]||Er),t),{});return c(c({},t),n)}function Pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=((null===n||void 0===n?void 0:n.x)||0)+t.x,r=((null===n||void 0===n?void 0:n.y)||0)+t.y,a=(null===n||void 0===n?void 0:n.width)||t.width,i=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case ur.Top:return{x:o+a/2,y:r};case ur.Right:return{x:o+a,y:r+i/2};case ur.Bottom:return{x:o+a/2,y:r+i};case ur.Left:return{x:o,y:r+i/2}}}function _i(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function ji(e){var t,n,o,r,a;const i=(null===e||void 0===e||null===(t=e[Go])||void 0===t?void 0:t.handleBounds)||null,l=i&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y);return[{x:(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)||0,y:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},i,!!l]}const Mi=[{level:0,isMaxLevel:!0,edges:[]}];function Di(e,t,n){const r=Mo((0,o.useCallback)(n=>e?n.edges.filter(e=>{const o=t.get(e.source),r=t.get(e.target);return(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:o,sourceHeight:r,targetWidth:a,targetHeight:i,width:l,height:s,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+a),y2:Math.max(t.y+r,n.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Ho({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:l/c[2],height:s/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),p=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*p)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1;const r=e.reduce((e,r)=>{const a=Ko(r.zIndex);let i=a?r.zIndex:0;if(n){var l,s;const e=t.get(r.target),n=t.get(r.source),o=r.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(l=n[Go])||void 0===l?void 0:l.z)||0,(null===e||void 0===e||null===(s=e[Go])||void 0===s?void 0:s.z)||0,1e3);i=(a?r.zIndex:0)+(o?c:0)}return e[i]?e[i].push(r):e[i]=[r],o=i>o?i:o,e},{}),a=Object.entries(r).map(e=>{let[t,n]=e;const r=+t;return{edges:n,level:r,isMaxLevel:r===o}});return 0===a.length?Mi:a}(r,t,n)}const Ti={[cr.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[cr.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const zi=e=>{let{id:t,type:n,color:r,width:a=12.5,height:i=12.5,markerUnits:l="strokeWidth",strokeWidth:s,orient:c="auto-start-reverse"}=e;const u=function(e){const t=Do();return(0,o.useMemo)(()=>{var n,o;return Object.prototype.hasOwnProperty.call(Ti,e)?Ti[e]:(null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",Eo(e)),null)},[e])}(n);return u?o.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(a),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:l,orient:c,refX:"0",refY:"0"},o.createElement(u,{color:r,strokeWidth:s})):null},Oi=e=>{let{defaultColor:t,rfId:n}=e;const r=Mo((0,o.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const o=[];return e.edges.reduce((e,r)=>([r.markerStart,r.markerEnd].forEach(r=>{if(r&&"object"===typeof r){const a=_r(r,n);o.includes(a)||(e.push(c({id:a,color:r.color||t},r)),o.push(a))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:t,rfId:n}),[t,n]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return o.createElement("defs",null,r.map(e=>o.createElement(zi,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};Oi.displayName="MarkerDefinitions";var Ai=(0,o.memo)(Oi);const Ii=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ri=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:a,edgeTypes:i,noPanClassName:l,onEdgeContextMenu:s,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:f,onEdgeDoubleClick:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,children:b,disableKeyboardA11y:x}=e;const{edgesFocusable:w,edgesUpdatable:S,elementsSelectable:E,width:N,height:C,connectionMode:P,nodeInternals:_,onError:j}=Mo(Ii,k),M=Di(n,_,r);return N?o.createElement(o.Fragment,null,M.map(e=>{let{level:n,edges:r,isMaxLevel:b}=e;return o.createElement("svg",{key:n,style:{zIndex:n},width:N,height:C,className:"react-flow__edges react-flow__container"},b&&o.createElement(Ai,{defaultColor:t,rfId:a}),o.createElement("g",null,r.map(e=>{var t,n;const[r,b,k]=ji(_.get(e.source)),[N,C,M]=ji(_.get(e.target));if(!k||!M)return null;let D=e.type||"default";i[D]||(null===j||void 0===j||j("011",Po(D)),D="default");const T=i[D]||i.default,z=P===ar.Strict?C.target:(null!==(t=C.target)&&void 0!==t?t:[]).concat(null!==(n=C.source)&&void 0!==n?n:[]),O=_i(b.source,e.sourceHandle),A=_i(z,e.targetHandle),I=(null===O||void 0===O?void 0:O.position)||ur.Bottom,R=(null===A||void 0===A?void 0:A.position)||ur.Top,L=!!(e.focusable||w&&"undefined"===typeof e.focusable),F=e.reconnectable||e.updatable,B="undefined"!==typeof m&&(F||S&&"undefined"===typeof F);if(!O||!A)return null===j||void 0===j||j("008",No(O,e)),null;const{sourceX:U,sourceY:V,targetX:H,targetY:W}=((e,t,n,o,r,a)=>{const i=Pi(n,e,t),l=Pi(a,o,r);return{sourceX:i.x,sourceY:i.y,targetX:l.x,targetY:l.y}})(r,O,I,N,A,R);return o.createElement(T,{key:e.id,id:e.id,className:h([e.className,l]),type:D,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:U,sourceY:V,targetX:H,targetY:W,sourcePosition:I,targetPosition:R,elementsSelectable:E,onContextMenu:s,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:f,onEdgeDoubleClick:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,rfId:a,ariaLabel:e.ariaLabel,isFocusable:L,isReconnectable:B,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})})))}),b):null};Ri.displayName="EdgeRenderer";var Li=(0,o.memo)(Ri);const Fi=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function Bi(e){let{children:t}=e;const n=Mo(Fi);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}const Ui={[ur.Left]:ur.Right,[ur.Right]:ur.Left,[ur.Top]:ur.Bottom,[ur.Bottom]:ur.Top},Vi=e=>{var t,n,r,a,i,l,s;let{nodeId:u,handleType:d,style:f,type:p=sr.Bezier,CustomComponent:h,connectionStatus:m}=e;const{fromNode:g,handleId:v,toX:y,toY:b,connectionMode:x}=Mo((0,o.useCallback)(e=>({fromNode:e.nodeInternals.get(u),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[u]),k),w=null===g||void 0===g||null===(t=g[Go])||void 0===t?void 0:t.handleBounds;let S=null===w||void 0===w?void 0:w[d];if(x===ar.Loose&&(S=S||(null===w||void 0===w?void 0:w["source"===d?"target":"source"])),!g||!S)return null;const E=v?S.find(e=>e.id===v):S[0],N=E?E.x+E.width/2:(null!==(n=g.width)&&void 0!==n?n:0)/2,C=E?E.y+E.height/2:null!==(r=g.height)&&void 0!==r?r:0,P=(null!==(a=null===(i=g.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==a?a:0)+N,_=(null!==(l=null===(s=g.positionAbsolute)||void 0===s?void 0:s.y)&&void 0!==l?l:0)+C,j=null===E||void 0===E?void 0:E.position,M=j?Ui[j]:null;if(!j||!M)return null;if(h)return o.createElement(h,{connectionLineType:p,connectionLineStyle:f,fromNode:g,fromHandle:E,fromX:P,fromY:_,toX:y,toY:b,fromPosition:j,toPosition:M,connectionStatus:m});let D="";const T={sourceX:P,sourceY:_,sourcePosition:j,targetX:y,targetY:b,targetPosition:M};return p===sr.Bezier?[D]=kr(T):p===sr.Step?[D]=vr(c(c({},T),{},{borderRadius:0})):p===sr.SmoothStep?[D]=vr(T):p===sr.SimpleBezier?[D]=fr(T):D="M".concat(P,",").concat(_," ").concat(y,",").concat(b),o.createElement("path",{d:D,fill:"none",className:"react-flow__connection-path",style:f})};Vi.displayName="ConnectionLine";const Hi=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Wi(e){let{containerStyle:t,style:n,type:r,component:a}=e;const{nodeId:i,handleType:l,nodesConnectable:s,width:c,height:u,connectionStatus:d}=Mo(Hi,k);return!!(i&&l&&c&&s)?o.createElement("svg",{style:t,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:h(["react-flow__connection",d])},o.createElement(Vi,{nodeId:i,handleType:l,style:n,type:r,CustomComponent:a,connectionStatus:d}))):null}function Xi(e,t){(0,o.useRef)(null),Do();return(0,o.useMemo)(()=>t(e),[e])}const Yi=e=>{let{nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:a,onMoveEnd:i,onInit:l,onNodeClick:s,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:P,zoomActivationKeyCode:_,deleteKeyCode:j,onlyRenderVisibleElements:M,elementsSelectable:D,selectNodesOnDrag:T,defaultViewport:z,translateExtent:O,minZoom:A,maxZoom:I,preventScrolling:R,defaultMarkerColor:L,zoomOnScroll:F,zoomOnPinch:B,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:H,zoomOnDoubleClick:W,panOnDrag:X,onPaneClick:Y,onPaneMouseEnter:K,onPaneMouseMove:G,onPaneMouseLeave:q,onPaneScroll:$,onPaneContextMenu:Q,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ae,noDragClassName:ie,noWheelClassName:le,noPanClassName:se,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:pe}=e;const he=Xi(t,gi),me=Xi(n,Ci);return function(e){const t=za(),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(l),o.createElement(mi,{onPaneClick:Y,onPaneMouseEnter:K,onPaneMouseMove:G,onPaneMouseLeave:q,onPaneContextMenu:Q,onPaneScroll:$,deleteKeyCode:j,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:P,zoomActivationKeyCode:_,elementsSelectable:D,onMove:r,onMoveStart:a,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:B,zoomOnDoubleClick:W,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:H,panOnDrag:X,defaultViewport:z,translateExtent:O,minZoom:A,maxZoom:I,onSelectionContextMenu:g,preventScrolling:R,noDragClassName:ie,noWheelClassName:le,noPanClassName:se,disableKeyboardA11y:ue},o.createElement(Bi,null,o.createElement(Li,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:M,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ae,defaultMarkerColor:L,noPanClassName:se,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:pe},o.createElement(Wi,{style:x,type:b,component:w,containerStyle:S})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(bi,{nodeTypes:he,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:M,noPanClassName:se,noDragClassName:ie,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:pe})))};Yi.displayName="GraphView";var Ki=(0,o.memo)(Yi);const Gi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qi={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Gi,nodeExtent:Gi,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ar.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:$o,isValidConnection:void 0},$i=()=>{return e=(e,t)=>c(c({},qi),{},{setNodes:n=>{const{nodeInternals:o,nodeOrigin:r,elevateNodesOnSelect:a}=t();e({nodeInternals:Na(n,o,r,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map(e=>c(c({},o),e))})},setDefaultNodesAndEdges:(n,o)=>{const r="undefined"!==typeof n,a="undefined"!==typeof o,i=r?Na(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?o:[],hasDefaultNodes:r,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:r,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:l,domNode:s,nodeOrigin:u}=t(),d=null===s||void 0===s?void 0:s.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((e,t)=>{const n=r.get(t.id);if(null!==n&&void 0!==n&&n.hidden)r.set(n.id,c(c({},n),{},{[Go]:c(c({},n[Go]),{},{handleBounds:void 0})}));else if(n){const o=Io(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(r.set(n.id,c(c({},n),{},{[Go]:c(c({},n[Go]),{},{handleBounds:{source:oi(".source",t.nodeElement,p,u),target:oi(".target",t.nodeElement,p,u)}})},o)),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e},[]);Ea(r,u);const m=i||a&&!i&&Ca(t,c({initial:!0},l));e({nodeInternals:new Map(r),fitViewOnInitDone:m}),(null===h||void 0===h?void 0:h.length)>0&&(null===o||void 0===o||o(h))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:r}=t(),a=e.map(e=>{const t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});r(a)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:r,hasDefaultNodes:a,nodeOrigin:i,getNodes:l,elevateNodesOnSelect:s}=t();if(null!==n&&void 0!==n&&n.length){if(a){const t=Na(Ya(n,l()),r,i,s);e({nodeInternals:t})}null===o||void 0===o||o(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:r,getNodes:a}=t();let i,l=null;o?i=n.map(e=>Ka(e,!0)):(i=Ga(a(),n),l=Ga(r,[])),ja({changedNodes:i,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:r,getNodes:a}=t();let i,l=null;o?i=n.map(e=>Ka(e,!0)):(i=Ga(r,n),l=Ga(a(),[])),ja({changedNodes:l,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:r,getNodes:a}=t(),i=o||r;ja({changedNodes:(n||a()).map(e=>(e.selected=!1,Ka(e.id,!1))),changedEdges:i.map(e=>Ka(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:r}=t();null===o||void 0===o||o.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:r}=t();null===o||void 0===o||o.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var o;null===(o=t().d3Zoom)||void 0===o||o.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t();ja({changedNodes:o().filter(e=>e.selected).map(e=>Ka(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>Ka(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach(e=>{e.positionAbsolute=Lo(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:e=>{const{transform:n,width:o,height:r,d3Zoom:a,d3Selection:i,translateExtent:l}=t();if(!a||!i||!e.x&&!e.y)return!1;const s=$n.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[o,r]],u=null===a||void 0===a?void 0:a.constrain()(s,c,l);return a.transform(i,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:qi.connectionNodeId,connectionHandleId:qi.connectionHandleId,connectionHandleType:qi.connectionHandleType,connectionStatus:qi.connectionStatus,connectionStartHandle:qi.connectionStartHandle,connectionEndHandle:qi.connectionEndHandle}),reset:()=>e(c({},qi))}),t=Object.is,e?S(e,t):S;var e,t},Qi=e=>{let{children:t}=e;const n=(0,o.useRef)(null);return n.current||(n.current=$i()),o.createElement(bo,{value:n.current},t)};Qi.displayName="ReactFlowProvider";const Zi=e=>{let{children:t}=e;return(0,o.useContext)(yo)?o.createElement(o.Fragment,null,t):o.createElement(Qi,null,t)};Zi.displayName="ReactFlowWrapper";const Ji={input:Jr,default:Qr,output:ta,group:na},el={default:Er,straight:xr,step:br,smoothstep:yr,simplebezier:pr},tl=[0,0],nl=[15,15],ol={x:0,y:0,zoom:1},rl={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},al=(0,o.forwardRef)((e,t)=>{let{nodes:n,edges:r,defaultNodes:a,defaultEdges:i,className:l,nodeTypes:s=Ji,edgeTypes:u=el,onNodeClick:d,onEdgeClick:f,onInit:m,onMove:g,onMoveStart:v,onMoveEnd:y,onConnect:b,onConnectStart:x,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:k,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:P,onNodeDoubleClick:_,onNodeDragStart:j,onNodeDrag:M,onNodeDragStop:D,onNodesDelete:T,onEdgesDelete:z,onSelectionChange:O,onSelectionDragStart:A,onSelectionDrag:I,onSelectionDragStop:R,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:B,connectionMode:U=ar.Strict,connectionLineType:V=sr.Bezier,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:G=!1,selectionMode:q=lr.Full,panActivationKeyCode:$="Space",multiSelectionKeyCode:Q=(er()?"Meta":"Control"),zoomActivationKeyCode:Z=(er()?"Meta":"Control"),snapToGrid:J=!1,snapGrid:ee=nl,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ne=!0,nodesDraggable:oe,nodesConnectable:re,nodesFocusable:ae,nodeOrigin:ie=tl,edgesFocusable:le,edgesUpdatable:se,elementsSelectable:ce,defaultViewport:ue=ol,minZoom:de=.5,maxZoom:fe=2,translateExtent:pe=Gi,preventScrolling:he=!0,nodeExtent:me,defaultMarkerColor:ge="#b1b1b7",zoomOnScroll:ve=!0,zoomOnPinch:ye=!0,panOnScroll:be=!1,panOnScrollSpeed:xe=.5,panOnScrollMode:we=ir.Free,zoomOnDoubleClick:Se=!0,panOnDrag:ke=!0,onPaneClick:Ee,onPaneMouseEnter:Ne,onPaneMouseMove:Ce,onPaneMouseLeave:Pe,onPaneScroll:_e,onPaneContextMenu:je,children:Me,onEdgeContextMenu:De,onEdgeDoubleClick:Te,onEdgeMouseEnter:ze,onEdgeMouseMove:Oe,onEdgeMouseLeave:Ae,onEdgeUpdate:Ie,onEdgeUpdateStart:Re,onEdgeUpdateEnd:Le,onReconnect:Fe,onReconnectStart:Be,onReconnectEnd:Ue,reconnectRadius:Ve=10,edgeUpdaterRadius:He=10,onNodesChange:We,onEdgesChange:Xe,noDragClassName:Ye="nodrag",noWheelClassName:Ke="nowheel",noPanClassName:Ge="nopan",fitView:qe=!1,fitViewOptions:$e,connectOnClick:Qe=!0,attributionPosition:Ze,proOptions:Je,defaultEdgeOptions:et,elevateNodesOnSelect:tt=!0,elevateEdgesOnSelect:nt=!1,disableKeyboardA11y:ot=!1,autoPanOnConnect:rt=!0,autoPanOnNodeDrag:at=!0,connectionRadius:it=20,isValidConnection:lt,onError:st,style:ct,id:ut,nodeDragThreshold:dt}=e,ft=p(e,vo);const pt=ut||"1";return o.createElement("div",c(c({},ft),{},{style:c(c({},ct),rl),ref:t,className:h(["react-flow",l]),"data-testid":"rf__wrapper",id:ut}),o.createElement(Zi,null,o.createElement(Ki,{onInit:m,onMove:g,onMoveStart:v,onMoveEnd:y,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:P,onNodeDoubleClick:_,nodeTypes:s,edgeTypes:u,connectionLineType:V,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:G,selectionMode:q,deleteKeyCode:Y,multiSelectionKeyCode:Q,panActivationKeyCode:$,zoomActivationKeyCode:Z,onlyRenderVisibleElements:te,selectNodesOnDrag:ne,defaultViewport:ue,translateExtent:pe,minZoom:de,maxZoom:fe,preventScrolling:he,zoomOnScroll:ve,zoomOnPinch:ye,zoomOnDoubleClick:Se,panOnScroll:be,panOnScrollSpeed:xe,panOnScrollMode:we,panOnDrag:ke,onPaneClick:Ee,onPaneMouseEnter:Ne,onPaneMouseMove:Ce,onPaneMouseLeave:Pe,onPaneScroll:_e,onPaneContextMenu:je,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:B,onEdgeContextMenu:De,onEdgeDoubleClick:Te,onEdgeMouseEnter:ze,onEdgeMouseMove:Oe,onEdgeMouseLeave:Ae,onReconnect:null!==Fe&&void 0!==Fe?Fe:Ie,onReconnectStart:null!==Be&&void 0!==Be?Be:Re,onReconnectEnd:null!==Ue&&void 0!==Ue?Ue:Le,reconnectRadius:null!==Ve&&void 0!==Ve?Ve:He,defaultMarkerColor:ge,noDragClassName:Ye,noWheelClassName:Ke,noPanClassName:Ge,elevateEdgesOnSelect:nt,rfId:pt,disableKeyboardA11y:ot,nodeOrigin:ie,nodeExtent:me}),o.createElement(fa,{nodes:n,edges:r,defaultNodes:a,defaultEdges:i,onConnect:b,onConnectStart:x,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:k,nodesDraggable:oe,nodesConnectable:re,nodesFocusable:ae,edgesFocusable:le,edgesUpdatable:se,elementsSelectable:ce,elevateNodesOnSelect:tt,minZoom:de,maxZoom:fe,nodeExtent:me,onNodesChange:We,onEdgesChange:Xe,snapToGrid:J,snapGrid:ee,connectionMode:U,translateExtent:pe,connectOnClick:Qe,defaultEdgeOptions:et,fitView:qe,fitViewOptions:$e,onNodesDelete:T,onEdgesDelete:z,onNodeDragStart:j,onNodeDrag:M,onNodeDragStop:D,onSelectionDrag:I,onSelectionDragStart:A,onSelectionDragStop:R,noPanClassName:Ge,nodeOrigin:ie,rfId:pt,autoPanOnConnect:rt,autoPanOnNodeDrag:at,onError:st,connectionRadius:it,isValidConnection:lt,nodeDragThreshold:dt}),o.createElement(sa,{onSelectionChange:O}),Me,o.createElement(Oo,{proOptions:Je,position:Ze}),o.createElement(ba,{rfId:pt,disableKeyboardA11y:ot})))});al.displayName="ReactFlow";const il=e=>{var t;return null===(t=e.domNode)||void 0===t?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function ll(e){let{children:t}=e;const n=Mo(il);return n?(0,po.createPortal)(t,n):null}function sl(e){return t=>{const[n,r]=(0,o.useState)(t),a=(0,o.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,a]}}const cl=sl(Ya),ul=sl(function(e,t){return Xa(e,t)});const dl=e=>{let{id:t,x:n,y:r,width:a,height:i,style:l,color:s,strokeColor:c,strokeWidth:u,className:d,borderRadius:f,shapeRendering:p,onClick:m,selected:g}=e;const{background:v,backgroundColor:y}=l||{},b=s||v||y;return o.createElement("rect",{className:h(["react-flow__minimap-node",{selected:g},d]),x:n,y:r,rx:f,ry:f,width:a,height:i,fill:b,stroke:c,strokeWidth:u,shapeRendering:p,onClick:m?e=>m(e,t):void 0})};dl.displayName="MiniMapNode";var fl=(0,o.memo)(dl);const pl=e=>e.nodeOrigin,hl=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),ml=e=>e instanceof Function?e:()=>e;var gl=(0,o.memo)(function(e){let{nodeStrokeColor:t="transparent",nodeColor:n="#e2e2e2",nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:i=2,nodeComponent:l=fl,onClick:s}=e;const c=Mo(hl,k),u=Mo(pl),d=ml(n),f=ml(t),p=ml(r),h="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return o.createElement(o.Fragment,null,c.map(e=>{const{x:t,y:n}=Tr(e,u).positionAbsolute;return o.createElement(l,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:p(e),color:d(e),borderRadius:a,strokeColor:f(e),strokeWidth:i,shapeRendering:h,onClick:s,id:e.id})}))});const vl=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(o=zr(t,e.nodeOrigin),r=n,Wo(Vo(Ho(o),Ho(r)))):n,rfId:e.rfId};var o,r};function yl(e){var t,n;let{style:r,className:a,nodeStrokeColor:i="transparent",nodeColor:l="#e2e2e2",nodeClassName:s="",nodeBorderRadius:c=5,nodeStrokeWidth:u=2,nodeComponent:d,maskColor:f="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:m=1,position:g="bottom-right",onClick:v,onNodeClick:y,pannable:b=!1,zoomable:x=!1,ariaLabel:w="React Flow mini map",inversePan:S=!1,zoomStep:E=10,offsetScale:N=5}=e;const C=Do(),P=(0,o.useRef)(null),{boundingRect:_,viewBB:j,rfId:M}=Mo(vl,k),D=null!==(t=null===r||void 0===r?void 0:r.width)&&void 0!==t?t:200,T=null!==(n=null===r||void 0===r?void 0:r.height)&&void 0!==n?n:150,z=_.width/D,O=_.height/T,A=Math.max(z,O),I=A*D,R=A*T,L=N*A,F=_.x-(I-_.width)/2-L,B=_.y-(R-_.height)/2-L,U=I+2*L,V=R+2*L,H="".concat("react-flow__minimap-desc","-").concat(M),W=(0,o.useRef)(0);W.current=A,(0,o.useEffect)(()=>{if(P.current){const e=He(P.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:o}=C.getState();if("wheel"!==e.sourceEvent.type||!n||!o)return;const r=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*E,a=t[2]*Math.pow(2,r);o.scaleTo(n,a)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:o,translateExtent:r,width:a,height:i}=C.getState();if("mousemove"!==e.sourceEvent.type||!n||!o)return;const l=W.current*Math.max(1,t[2])*(S?-1:1),s={x:t[0]-e.sourceEvent.movementX*l,y:t[1]-e.sourceEvent.movementY*l},c=[[0,0],[a,i]],u=$n.translate(s.x,s.y).scale(t[2]),d=o.constrain()(u,c,r);o.transform(n,d)},o=ao().on("zoom",b?n:null).on("zoom.wheel",x?t:null);return e.call(o),()=>{e.on("zoom",null)}}},[b,x,S,E]);const X=v?e=>{const t=Ze(e);v(e,{x:t[0],y:t[1]})}:void 0,Y=y?(e,t)=>{const n=C.getState().nodeInternals.get(t);y(e,n)}:void 0;return o.createElement(zo,{position:g,style:r,className:h(["react-flow__minimap",a]),"data-testid":"rf__minimap"},o.createElement("svg",{width:D,height:T,viewBox:"".concat(F," ").concat(B," ").concat(U," ").concat(V),role:"img","aria-labelledby":H,ref:P,onClick:X},w&&o.createElement("title",{id:H},w),o.createElement(gl,{onClick:Y,nodeColor:l,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:s,nodeStrokeWidth:u,nodeComponent:d}),o.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(F-L,",").concat(B-L,"h").concat(U+2*L,"v").concat(V+2*L,"h").concat(-U-2*L,"z\n        M").concat(j.x,",").concat(j.y,"h").concat(j.width,"v").concat(j.height,"h").concat(-j.width,"z"),fill:f,fillRule:"evenodd",stroke:p,strokeWidth:m,pointerEvents:"none"})))}yl.displayName="MiniMap";var bl,xl=(0,o.memo)(yl);function wl(e){let{color:t,dimensions:n,lineWidth:r}=e;return o.createElement("path",{stroke:t,strokeWidth:r,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function Sl(e){let{color:t,radius:n}=e;return o.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(bl||(bl={}));const kl={[bl.Dots]:"#91919a",[bl.Lines]:"#eee",[bl.Cross]:"#e2e2e2"},El={[bl.Dots]:1,[bl.Lines]:1,[bl.Cross]:6},Nl=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function Cl(e){let{id:t,variant:n=bl.Dots,gap:r=20,size:a,lineWidth:i=1,offset:l=2,color:s,style:u,className:d}=e;const f=(0,o.useRef)(null),{transform:p,patternId:m}=Mo(Nl,k),g=s||kl[n],v=a||El[n],y=n===bl.Dots,b=n===bl.Cross,x=Array.isArray(r)?r:[r,r],w=[x[0]*p[2]||1,x[1]*p[2]||1],S=v*p[2],E=b?[S,S]:w,N=y?[S/l,S/l]:[E[0]/l,E[1]/l];return o.createElement("svg",{className:h(["react-flow__background",d]),style:c(c({},u),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:f,"data-testid":"rf__background"},o.createElement("pattern",{id:m+t,x:p[0]%w[0],y:p[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(N[0],",-").concat(N[1],")")},y?o.createElement(Sl,{color:g,radius:S/l}):o.createElement(wl,{dimensions:E,color:g,lineWidth:i})),o.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(m+t,")")}))}Cl.displayName="Background";var Pl=(0,o.memo)(Cl);const _l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e.length<=t?e:e.substring(0,t-3)+"..."},jl=e=>{let{data:t}=e;const{event:n,onClick:o,onDelete:r}=t,a=e=>{if(!e||!e.type)return null;switch(e.type){case"exponential":return"exp";case"weibull":return"wei";case"normal":return"gauss";case"constant":return"const";default:return e.type}},i=e=>null==e||Number.isNaN(e)?"":parseFloat(e.toFixed(3)).toString(),l=e=>{if(!e||!e.type)return null;switch(e.type){case"exponential":return null!=e.lambda?"(\u03bb=".concat(i(e.lambda),")"):null;case"weibull":return"(".concat("undefined"!==typeof e.k?"k=".concat(i(e.k),", "):"").concat("undefined"!==typeof e.lambda?"\u03bb=".concat(i(e.lambda)):"").concat("undefined"!==typeof e.mu?", \u03bc=".concat(i(e.mu)):"",")");case"normal":return"(".concat("undefined"!==typeof e.mu?"\u03bc=".concat(i(e.mu)):"").concat("undefined"!==typeof e.sigma?", \u03c3=".concat(i(e.sigma)):"",")");case"constant":return null!=e.probability?"(p=".concat(i(e.probability),")"):null;default:return null}};return(0,u.jsxs)("div",{className:"event-node",onClick:o,children:[(0,u.jsx)(qr,{type:"source",position:ur.Top,className:"event-handle"}),r&&(0,u.jsx)("button",{className:"delete-button",onClick:e=>{e.stopPropagation(),r&&r(n.id)},title:"Elimina evento",children:"\xd7"}),(0,u.jsx)("div",{className:"event-content",children:(0,u.jsxs)("div",{className:"event-info",children:[(0,u.jsxs)("div",{className:"event-name",title:n.name,children:[(0,u.jsx)("span",{className:"inline-dot"}),_l(n.name)]}),n.description&&(0,u.jsx)("div",{className:"event-description",title:n.description,children:_l(n.description,25)}),n.failureRate&&(0,u.jsxs)("div",{className:"event-rate",children:["\u03bb = ",n.failureRate]}),n.failureProbabilityDistribution&&(0,u.jsxs)("div",{className:"event-distribution",children:[(0,u.jsx)("span",{className:"dist-icon",children:"\u26a0\ufe0f"}),(0,u.jsxs)("span",{className:"dist-label",children:[a(n.failureProbabilityDistribution),(()=>{const e=l(n.failureProbabilityDistribution);return e?(0,u.jsx)("span",{className:"dist-param",children:" ".concat(e)}):null})()]})]}),n.repairProbabilityDistribution&&(0,u.jsxs)("div",{className:"event-repair",children:[(0,u.jsx)("span",{className:"repair-icon",children:"\ud83d\udd27"}),(0,u.jsxs)("span",{className:"dist-label",children:[a(n.repairProbabilityDistribution),(()=>{const e=l(n.repairProbabilityDistribution);return e?(0,u.jsx)("span",{className:"dist-param",children:" ".concat(e)}):null})()]})]})]})})]})},Ml=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.length<=t?e:e.substring(0,t-3)+"..."},Dl=e=>{let{data:t}=e;const{gate:n,onClick:o,onDelete:r}=t,a=e=>({AND:"#3498db",OR:"#2ecc71",PAND:"#f39c12",SPARE:"#9b59b6",SEQ:"#e67e22",FDEP:"#1abc9c"}[e]);return(0,u.jsxs)("div",{className:"gate-node",onClick:o,style:{borderColor:a(n.gateType)},children:[(0,u.jsx)(qr,{type:"target",position:ur.Bottom,className:"gate-handle gate-handle-input",style:{backgroundColor:a(n.gateType)}}),(0,u.jsx)(qr,{type:"source",position:ur.Top,className:"gate-handle gate-handle-output",style:{backgroundColor:a(n.gateType)}}),r&&(0,u.jsx)("button",{className:"delete-button",onClick:e=>{e.stopPropagation(),r&&r(n.id)},title:"Elimina porta (e tutti gli elementi collegati)",children:"\xd7"}),(0,u.jsxs)("div",{className:"gate-content",children:[(0,u.jsx)("div",{className:"gate-icon",style:{color:a(n.gateType)},children:(i=n.gateType,{AND:"\u2227",OR:"\u2228",PAND:"\u2295",SPARE:"\u27f2",SEQ:"\u2192",FDEP:"\u27f9"}[i])}),n.isTopEvent&&(0,u.jsx)("div",{className:"top-event-badge",title:"TOP EVENT",children:"TE"}),n.isFailureGate&&(0,u.jsx)("div",{className:"failure-badge",title:"Failure Gate",children:"F"}),(0,u.jsxs)("div",{className:"gate-info",children:[(0,u.jsx)("div",{className:"gate-type",children:n.gateType}),(0,u.jsx)("div",{className:"gate-name",title:n.name,children:Ml(n.name)}),n.description&&(0,u.jsx)("div",{className:"gate-description",title:n.description,children:Ml(n.description,25)}),(0,u.jsxs)("div",{className:"gate-inputs",children:["Inputs: ",n.inputs.length]})]})]})]});var i},Tl=e=>{let{id:t,sourceX:n,sourceY:o,targetX:r,targetY:a,sourcePosition:i,targetPosition:l,style:s={},markerEnd:c,data:d}=e;const[f,p,h]=kr({sourceX:n,sourceY:o,sourcePosition:i,targetX:r,targetY:a,targetPosition:l});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{id:t,style:s,className:"react-flow__edge-path",d:f,markerEnd:c}),(0,u.jsx)(ll,{children:(0,u.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(p,"px,").concat(h,"px)"),fontSize:12,pointerEvents:"all"},className:"edge-delete-container",children:(0,u.jsx)("button",{className:"edge-delete-button",onClick:()=>{null!==d&&void 0!==d&&d.onDelete&&d.onDelete(t)},title:"Elimina collegamento",children:"\xd7"})})})]})},zl={eventNode:jl,gateNode:Dl},Ol={deleteButtonEdge:Tl},Al=e=>{let{nodes:t,edges:n,onNodesChange:r,onEdgesChange:a,onConnect:i,nodeTypes:l,edgeTypes:s,onPanelClick:c,componentToPlace:d,isDarkMode:f,onReorganizeComponents:p}=e;const h=za(),[m,g]=(0,o.useState)(!1),v=(0,o.useCallback)(e=>{if(!d)return;const t=h.screenToFlowPosition({x:e.clientX,y:e.clientY}),n={event:{width:135,height:45},gate:{width:155,height:45}}[d.type],o={x:t.x-n.width/2,y:t.y-n.height/2};c(o)},[d,c,h]);return(0,u.jsxs)(al,{nodes:t,edges:n,onNodesChange:r,onEdgesChange:a,onConnect:i,nodeTypes:l,edgeTypes:s,fitView:!0,attributionPosition:"bottom-left",deleteKeyCode:null,selectionOnDrag:!d&&!m,panOnDrag:!d&&!m&&[1,2],selectionMode:lr.Partial,multiSelectionKeyCode:"Control",onPaneClick:d?v:void 0,children:[(0,u.jsxs)("div",{className:"react-flow__panel react-flow__controls bottom left",children:[(0,u.jsx)("button",{className:"react-flow__controls-button",onClick:()=>h.zoomIn(),title:"Zoom In (+)",children:"+"}),(0,u.jsx)("button",{className:"react-flow__controls-button",onClick:()=>h.zoomOut(),title:"Zoom Out (-)",children:"-"}),(0,u.jsx)("button",{className:"react-flow__controls-button",onClick:()=>h.fitView(),title:"Fit View",children:"\u229e"}),(0,u.jsx)("button",{className:"react-flow__controls-button",onClick:()=>g(!m),title:m?"Sblocca Vista":"Blocca Vista",children:m?"\ud83d\udd13":"\ud83d\udd12"}),(0,u.jsx)("button",{className:"react-flow__controls-button",onClick:()=>{p(),setTimeout(()=>{h.fitView()},100)},title:"Riorganizza tutti i componenti al centro",children:"\ud83d\udd27"})]}),(0,u.jsx)(xl,{nodeColor:"#3498db",maskColor:"rgba(0, 0, 0, 0.1)",position:"top-right"}),(0,u.jsx)(Pl,{variant:bl.Dots,gap:20,size:1,color:f?"#404040":"#e0e0e0"})]})},Il=e=>{let{faultTreeModel:t,onElementClick:n,onModelChange:r,onDeleteElement:a,onDeleteConnection:i,onPanelClick:l,componentToPlace:s,isDarkMode:d,disableDeletion:f=!1,onReorganizeComponents:p}=e;const h=(0,o.useMemo)(()=>{const e=[];return t.events.forEach(t=>{e.push({id:t.id,type:"eventNode",position:t.position,data:{event:t,onClick:()=>n(t),onDelete:a},draggable:!0})}),t.gates.forEach(t=>{e.push({id:t.id,type:"gateNode",position:t.position,data:{gate:t,onClick:()=>n(t),onDelete:a},draggable:!0})}),e},[t,n,a]),m=(0,o.useMemo)(()=>t.connections.map(e=>({id:e.id,source:e.source,target:e.target,type:"deleteButtonEdge",animated:!0,style:{stroke:d?"#e0e0e0":"#2c3e50",strokeWidth:2},markerEnd:{type:cr.ArrowClosed,color:d?"#e0e0e0":"#2c3e50"},data:{onDelete:i}})),[t.connections,i,d]),[g,v,y]=cl(h),[b,x,w]=ul(m),[S,k]=o.useState({x:0,y:0,show:!1});o.useEffect(()=>{v(h)},[h,v]),o.useEffect(()=>{x(m)},[m,x]);const E=(0,o.useCallback)(e=>{if(!e.source||!e.target)return;const n={id:"conn-".concat(Date.now()),source:e.source,target:e.target,type:"connection"},o=c(c({},t),{},{connections:[...t.connections,n]}),a=t.gates.find(t=>t.id===e.target);a&&e.source&&!a.inputs.includes(e.source)&&(o.gates=t.gates.map(t=>t.id===e.target&&e.source?c(c({},t),{},{inputs:[...t.inputs,e.source]}):t)),r(o),x(t=>jr(c(c({},e),{},{id:n.id,type:"deleteButtonEdge",animated:!0,style:{stroke:d?"#e0e0e0":"#2c3e50",strokeWidth:2},markerEnd:{type:cr.ArrowClosed,color:d?"#e0e0e0":"#2c3e50"},data:{onDelete:i}}),t))},[t,r,i,x,d]),N=(0,o.useCallback)(e=>{y(e),e.forEach(e=>{if("position"===e.type&&e.position){const n=c({},t),o=n.events.findIndex(t=>t.id===e.id);if(-1!==o)return n.events[o]=c(c({},n.events[o]),{},{position:e.position}),void r(n);const a=n.gates.findIndex(t=>t.id===e.id);-1!==a&&(n.gates[a]=c(c({},n.gates[a]),{},{position:e.position}),r(n))}})},[y,t,r]),C=(0,o.useCallback)(e=>{w(e),e.forEach(e=>{"remove"===e.type&&i(e.id)})},[w,i]),P=(0,o.useCallback)(e=>{e.filter(e=>"remove"===e.type).forEach(e=>{"remove"===e.type&&a(e.id)});const t=e.filter(e=>"remove"!==e.type);t.length>0&&N(t)},[N,a]),_=(0,o.useCallback)(e=>{if(!f)if("Delete"===e.key){const t=g.filter(e=>e.selected),n=b.filter(e=>e.selected);t.forEach(e=>{a(e.id)}),n.forEach(e=>{i(e.id)}),e.preventDefault()}else e.ctrlKey&&"a"===e.key&&(e.preventDefault(),v(e=>e.map(e=>c(c({},e),{},{selected:!0}))),x(e=>e.map(e=>c(c({},e),{},{selected:!0}))))},[g,b,a,i,v,x,f]),j=(0,o.useCallback)(e=>{e.preventDefault(),k({x:e.clientX,y:e.clientY,show:!0})},[]),M=(0,o.useCallback)(()=>{k(e=>c(c({},e),{},{show:!1}))},[]),D=(0,o.useCallback)(()=>{v(e=>e.map(e=>c(c({},e),{},{selected:!0}))),x(e=>e.map(e=>c(c({},e),{},{selected:!0}))),M()},[v,x,M]),T=(0,o.useCallback)(()=>{v(e=>e.map(e=>c(c({},e),{},{selected:!1}))),x(e=>e.map(e=>c(c({},e),{},{selected:!1}))),M()},[v,x,M]),z=(0,o.useCallback)(()=>{const e=g.filter(e=>e.selected),t=b.filter(e=>e.selected);e.forEach(e=>a(e.id)),t.forEach(e=>i(e.id)),M()},[g,b,a,i,M]);return o.useEffect(()=>(document.addEventListener("keydown",_),document.addEventListener("click",M),()=>{document.removeEventListener("keydown",_),document.removeEventListener("click",M)}),[_,M]),(0,u.jsxs)("div",{className:"central-panel ".concat(d?"dark-mode":""),children:[(0,u.jsxs)("div",{className:"panel-header",children:[(0,u.jsx)("h3",{children:"Fault Tree Diagram"}),(0,u.jsxs)("div",{className:"diagram-info",children:[(0,u.jsxs)("span",{children:["Eventi: ",t.events.length]}),(0,u.jsxs)("span",{children:["Porte: ",t.gates.length]}),(0,u.jsxs)("span",{children:["Connessioni: ",t.connections.length]})]}),(0,u.jsx)("div",{className:"diagram-help",children:(0,u.jsx)("span",{children:"\ud83d\udca1 Tasto destro per menu \u2022 Trascina per selezione multipla \u2022 Ctrl+Click per selezione \u2022 Ctrl+A seleziona tutto \u2022 DEL/Backspace elimina"})})]}),(0,u.jsxs)("div",{className:"react-flow-container ".concat(s?"placement-mode":""),onContextMenu:j,children:[(0,u.jsx)(Qi,{children:(0,u.jsx)(Al,{nodes:g,edges:b,onNodesChange:P,onEdgesChange:C,onConnect:E,nodeTypes:zl,edgeTypes:Ol,onPanelClick:l,componentToPlace:s,isDarkMode:d,onReorganizeComponents:p})}),S.show&&(0,u.jsxs)("div",{className:"context-menu",style:{position:"fixed",top:S.y,left:S.x,zIndex:1e3},children:[(0,u.jsx)("button",{onClick:D,children:"\ud83d\udd32 Seleziona tutto (Ctrl+A)"}),(0,u.jsx)("button",{onClick:T,children:"\u2b1c Deseleziona tutto"}),(0,u.jsx)("hr",{}),(0,u.jsx)("button",{onClick:z,disabled:!g.some(e=>e.selected)&&!b.some(e=>e.selected),children:"\ud83d\uddd1\ufe0f Elimina selezionati (Del)"})]})]})]})},Rl={openai:{provider:"openai",apiKey:"",model:"gpt-4o-mini",baseUrl:"https://api.openai.com/v1",temperature:.7,maxTokens:1e3,enabled:!1},anthropic:{provider:"anthropic",apiKey:"",model:"claude-3-haiku-20240307",baseUrl:"https://api.anthropic.com",temperature:.7,maxTokens:1e3,enabled:!1},gemini:{provider:"gemini",apiKey:"AIzaSyBAepcPPBOSXVSgf7gVG1J0CADoUYVn1e0",model:"gemini-1.5-flash",baseUrl:"https://generativelanguage.googleapis.com",temperature:.7,maxTokens:1e3,enabled:!1},grok:{provider:"grok",apiKey:"",model:"grok-beta",baseUrl:"https://api.x.ai/v1",temperature:.7,maxTokens:1e3,enabled:!1},local:{provider:"local",apiKey:"",model:"local-model",baseUrl:"http://localhost:11434",temperature:.7,maxTokens:1e3,enabled:!0}},Ll=()=>{try{const e=localStorage.getItem("llm-config");if(e){const t=JSON.parse(e);return c(c({},Rl),t)}}catch(e){console.warn("Errore nel caricamento configurazione LLM:",e)}return Rl},Fl=e=>{try{localStorage.setItem("llm-config",JSON.stringify(e))}catch(t){console.error("Errore nel salvataggio configurazione LLM:",t)}},Bl=e=>{const t=[];return e.apiKey||"local"===e.provider||t.push("API Key richiesta per ".concat(e.provider)),e.model||t.push("Modello richiesto per ".concat(e.provider)),e.temperature&&(e.temperature<0||e.temperature>2)&&t.push("Temperatura deve essere tra 0 e 2 per ".concat(e.provider)),e.maxTokens&&e.maxTokens<1&&t.push("Max tokens deve essere maggiore di 0 per ".concat(e.provider)),t};class Ul{static parseLLMResponse(e){try{const n=e.match(/```json\s*([\s\S]*?)\s*```/i);if(n)try{return JSON.parse(n[1].trim())}catch(t){}const o=e.trim();try{return JSON.parse(o)}catch(t){}const r=e=>{const t=e.indexOf("{");if(-1===t)return null;let n=0;for(let o=t;o<e.length;o++){const r=e[o];if("{"===r)n++;else if("}"===r&&(n--,0===n))return e.substring(t,o+1)}return null},a=r(e);if(a)try{return JSON.parse(a)}catch(t){}const i=e.match(/```([\s\S]*?)```/);if(i)try{return JSON.parse(i[1].trim())}catch(t){}return this.parseStructuredResponse(e)}catch(n){return console.error("Errore nel parsing della risposta LLM:",n),null}}static prettifyLLMResult(e){const t={value:0},n={},o=new Map,r=e.elements.map(e=>{if("event"===e.type){t.value+=1;const n="BE_".concat(t.value),r=e.name+(e.description?": ".concat(e.description):""),a=e.id&&e.id.length>0?e.id:n;return o.set(e.name,a),o.set(n,a),c(c({},e),{},{id:a,name:n,description:r})}{const t=e.gateType||"GATE";n[t]=(n[t]||0)+1;const r="".concat(t,"_").concat(n[t]),a=e.name+(e.description?": ".concat(e.description):""),i=e.id&&e.id.length>0?e.id:r;return o.set(e.name,i),o.set(r,i),c(c({},e),{},{id:i,name:r,description:a})}}),a=e.connections.map(e=>({source:o.get(e.source)||e.source,target:o.get(e.target)||e.target})).filter(e=>e.source&&e.target);let i;var l;e.topEvent&&(i=o.get(e.topEvent)||o.get((null===(l=e.topEvent)||void 0===l?void 0:l.toString().toLowerCase())||"")||e.topEvent);if(!i){const e=r.filter(e=>"gate"===e.type),t=new Set(a.map(e=>e.target)),n=e.find(e=>e.id&&!t.has(e.id));if(n)i=n.id;else{const t=e.find(e=>e.id);t&&(i=t.id)}}if(i){const e=r.find(e=>e.id===i);if(e&&"event"===e.type){const e=r.filter(e=>"gate"===e.type),t=new Set(a.map(e=>e.target)),n=e.find(e=>e.id&&!t.has(e.id));if(n)i=n.id;else{const t=e.find(e=>e.id);t&&(i=t.id)}}}return c(c({},e),{},{elements:r,connections:a,topEvent:i})}static parseStructuredResponse(e){const t=[],n=[];let o;const r=e.split("\n").map(e=>e.trim()).filter(e=>e);let a="";for(const l of r){var i;if(l.toLowerCase().includes("top event:"))o=null===(i=l.split(":")[1])||void 0===i?void 0:i.trim();else if(l.toLowerCase().includes("eventi base")||l.toLowerCase().includes("basic events"))a="events";else if(l.toLowerCase().includes("porte")||l.toLowerCase().includes("gates"))a="gates";else if(l.toLowerCase().includes("connessioni")||l.toLowerCase().includes("connections"))a="connections";else{if("events"===a&&l.includes("-")){const e=l.replace(/^-\s*/,"").trim();e&&t.push({type:"event",name:e,failureRate:.001})}if("gates"===a&&l.includes("-")){const e=l.replace(/^-\s*/,"").trim().match(/^(.*?)\s*\((AND|OR|PAND|SPARE|SEQ|FDEP)\)/i);e&&t.push({type:"gate",name:e[1].trim(),gateType:e[2].toUpperCase()})}if("connections"===a&&l.includes("->")){const[e,t]=l.split("->").map(e=>e.trim());e&&t&&n.push({source:e,target:t})}}}return{elements:t,connections:n,topEvent:o,description:"Fault tree generato automaticamente"}}static generateFaultTreeModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:100,y:100};e=this.prettifyLLMResult(e);const n=[],o=[],r=[],a=new Map,i=e=>e.trim().toLowerCase(),l=new Map,s=this.calculateHierarchicalLayout(e,t);let c;if(e.elements.filter(e=>"event"===e.type).forEach((e,o)=>{const r=e.id&&e.id.length>0?e.id:"event-".concat(Date.now(),"-").concat(o);a.set(e.name,r),a.set(i(e.name),r),e.id&&e.id.length>0&&(a.set(e.id,r),a.set(i(e.id),r));const c=s.events[e.name]||{x:t.x+o%4*180,y:t.y+400},u={id:r,type:"basic-event",name:e.name,description:e.description,failureRate:e.failureRate||.001,position:c,parameters:e.parameters||{}};e.failureProbabilityDistribution&&(u.failureProbabilityDistribution=e.failureProbabilityDistribution),e.repairProbabilityDistribution&&(u.repairProbabilityDistribution=e.repairProbabilityDistribution),n.push(u),l.set(e.name,c)}),e.elements.filter(e=>"gate"===e.type).forEach((e,n)=>{const r=e.id&&e.id.length>0?e.id:"gate-".concat(Date.now(),"-").concat(n);a.set(e.name,r),a.set(i(e.name),r),e.id&&e.id.length>0&&(a.set(e.id,r),a.set(i(e.id),r));const c=s.gates[e.name]||{x:t.x+n%3*250,y:t.y+200};o.push({id:r,type:"gate",gateType:e.gateType||"OR",name:e.name,description:e.description,position:c,inputs:[],parameters:e.parameters||{}}),l.set(e.name,c)}),e.connections.forEach((e,t)=>{if(!e||!e.source||!e.target)return;const l=a.get(e.source)||a.get(i(e.source)),s=a.get(e.target)||a.get(i(e.target)),c=l||e.source,u=s||e.target,d=n.some(e=>e.id===c)||o.some(e=>e.id===c),f=n.some(e=>e.id===u)||o.some(e=>e.id===u);if(!d||!f)return;r.push({id:"connection-".concat(Date.now(),"-").concat(t),source:c,target:u,type:"connection"});const p=o.find(e=>e.id===u);p&&!p.inputs.includes(c)&&p.inputs.push(c)}),e.topEvent&&(c=a.get(e.topEvent)||a.get(i(e.topEvent))||e.topEvent),!c){const e=o.find(e=>!r.some(t=>t.target===e.id));if(e)c=e.id;else{const e=o.find(e=>e.id);e&&(c=e.id)}}return c&&o.forEach(e=>{e.isTopEvent=e.id===c}),{events:n,gates:o,connections:r,topEvent:c}}static calculateHierarchicalLayout(e,t){const n={events:{},gates:{}},o=e.elements.filter(e=>"event"===e.type),r=e.elements.filter(e=>"gate"===e.type),a=this.calculateSimpleLayout(o,r,t);return n.events=a.events,n.gates=a.gates,n}static calculateSimpleLayout(e,t,n){const o={events:{},gates:{}};return t.forEach((e,t)=>{const r=n.x+t%3*250,a=n.y+100;o.gates[e.name]={x:r,y:a}}),e.forEach((e,t)=>{const r=n.x+t%4*180,a=n.y+300;o.events[e.name]={x:r,y:a}}),o}static createFaultTreePrompt(e){let t="Come esperto in Dynamic Fault Tree Analysis, genera un fault tree per il seguente sistema:\n\n**SISTEMA**: ".concat(e.description);return e.topEvent&&(t+="\n**TOP EVENT**: ".concat(e.topEvent)),e.systemType&&(t+="\n**TIPO SISTEMA**: ".concat(e.systemType)),e.components&&e.components.length>0&&(t+="\n**COMPONENTI**: ".concat(e.components.join(", "))),t+='\n\nFornisci la risposta nel seguente formato JSON (se possibile includi le distribuzioni di probabilit\xe0 per gli eventi base):\n\n```json\n{\n  "description": "Descrizione del fault tree",\n  "topEvent": "ID di una GATE (NON di un evento base)",\n  "elements": [\n    {\n      "type": "event",\n      "id": "event-1",\n      "name": "Nome evento base",\n      "description": "Descrizione opzionale",\n      "failureRate": 0.001,\n      "failureProbabilityDistribution": { "type": "exponential", "lambda": 0.001 },\n      "repairProbabilityDistribution": { "type": "exponential", "lambda": 0.01 }\n    },\n    {\n      "type": "gate",\n      "id": "gate-1",\n      "name": "Nome porta logica", \n      "gateType": "OR|AND|PAND|SPARE|SEQ|FDEP",\n      "description": "Descrizione opzionale"\n    }\n  ],\n  "connections": [\n    {\n      "source": "ID elemento sorgente",\n      "target": "ID porta target"\n    }\n  ]\n}\n```\n\n**LINEE GUIDA IMPORTANTI**:\n1. Il TOP EVENT deve essere una GATE (porta logica), NON un evento base\n2. Inizia dal top event e procedi verso il basso\n3. Usa porte appropriate per la logica del sistema (AND, OR, etc.)\n4. Gli eventi base devono essere indipendenti e misurabili\n5. Considera ridondanze e dipendenze temporali\n6. Includi parametri realistici per i tassi di guasto\n7. Usa sempre gli ID per le connessioni, non i nomi',t}static getExampleFaultTrees(){return[{name:"Sistema di Alimentazione Elettrica",request:{description:"Sistema di alimentazione elettrica con doppia ridondanza",topEvent:"Perdita Alimentazione Sistema",systemType:"Elettrico",components:["Alimentatore Principale","Alimentatore Backup","UPS","Batteria"]}},{name:"Sistema Frenante Automotive",request:{description:"Sistema frenante automotive con ABS",topEvent:"Perdita Capacit\xe0 Frenante",systemType:"Meccanico",components:["Freni Anteriori","Freni Posteriori","Sistema ABS","Pompa Freno"]}},{name:"Sistema di Controllo Industriale",request:{description:"Sistema di controllo di processo industriale con PLC",topEvent:"Arresto Processo Produttivo",systemType:"Controllo",components:["PLC Principale","PLC Backup","Sensori","Attuatori","HMI"]}}]}}class Vl{constructor(e){this.config=void 0,this.config=e}async generateFaultTree(e){try{const t=Ul.createFaultTreePrompt(e),n=await this.generateResponse(t);if(n.error)return console.error("Errore nella generazione LLM:",n.error),null;const o=Ul.parseLLMResponse(n.content);return o?o.elements&&0!==o.elements.length||o.connections&&0!==o.connections.length?Ul.generateFaultTreeModel(o):null:(console.error("Impossibile parsare la risposta LLM. Raw response:",n.content,"provider:",n.provider,"model:",n.model),null)}catch(t){return console.error("Errore nella generazione del fault tree:",t),null}}static isGenerationRequest(e){const t=e.toLowerCase();return["genera fault tree","crea fault tree","costruisci fault tree","modella il sistema","analisi del sistema","fault tree per","create fault tree","generate fault tree","build fault tree"].some(e=>t.includes(e))}static extractGenerationRequest(e){const t={description:e},n=e.match(/top event[:\s]+([^.!?\n]+)/i);n&&(t.topEvent=n[1].trim());const o=e.match(/sistema\s+([\w\s]+?)(?:\s+con|\s+per|\.|$)/i);o&&(t.systemType=o[1].trim());const r=e.match(/componenti[:\s]+([^.!?\n]+)/i);return r&&(t.components=r[1].split(/[,;]/).map(e=>e.trim()).filter(e=>e.length>0)),t}async generateResponse(e,t){try{switch(this.config.provider){case"openai":return await this.callOpenAI(e,t);case"anthropic":return await this.callAnthropic(e,t);case"gemini":return await this.callGemini(e,t);case"grok":return await this.callGrok(e,t);case"local":return await this.callLocal(e,t);default:throw new Error("Provider non supportato: ".concat(this.config.provider))}}catch(n){return{content:"",provider:this.config.provider,model:this.config.model,error:n instanceof Error?n.message:"Errore sconosciuto"}}}async callOpenAI(e,t){const n=t?"".concat(t,"\n\nDomanda: ").concat(e):e,o=await fetch("".concat(this.config.baseUrl,"/chat/completions"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.config.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model,messages:[{role:"system",content:"Sei un esperto assistente specializzato in Dynamic Fault Tree Analysis. Fornisci risposte tecniche accurate e utili per la modellazione di fault tree."},{role:"user",content:n}],temperature:this.config.temperature||.7,max_tokens:this.config.maxTokens||1e3})});if(!o.ok)throw new Error("OpenAI API error: ".concat(o.status," ").concat(o.statusText));const r=await o.json();return{content:r.choices[0].message.content,provider:"openai",model:this.config.model,usage:r.usage}}async callAnthropic(e,t){const n=t?"".concat(t,"\n\nDomanda: ").concat(e):e,o=await fetch("".concat(this.config.baseUrl,"/v1/messages"),{method:"POST",headers:{"x-api-key":this.config.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.config.model,max_tokens:this.config.maxTokens||1e3,messages:[{role:"user",content:"Sei un esperto assistente specializzato in Dynamic Fault Tree Analysis. Fornisci risposte tecniche accurate e utili per la modellazione di fault tree.\n\n".concat(n)}]})});if(!o.ok)throw new Error("Anthropic API error: ".concat(o.status," ").concat(o.statusText));const r=await o.json();return{content:r.content[0].text,provider:"anthropic",model:this.config.model,usage:r.usage}}async callGemini(e,t){const n=t?"".concat(t,"\n\nDomanda: ").concat(e):e,o=await fetch("".concat(this.config.baseUrl,"/v1beta/models/").concat(this.config.model,":generateContent?key=").concat(this.config.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Sei un esperto assistente specializzato in Dynamic Fault Tree Analysis. Fornisci risposte tecniche accurate e utili per la modellazione di fault tree.\n\n".concat(n)}]}],generationConfig:{temperature:this.config.temperature||.7,maxOutputTokens:this.config.maxTokens||1e3}})});if(!o.ok)throw new Error("Gemini API error: ".concat(o.status," ").concat(o.statusText));return{content:(await o.json()).candidates[0].content.parts[0].text,provider:"gemini",model:this.config.model}}async callGrok(e,t){const n=t?"".concat(t,"\n\nDomanda: ").concat(e):e,o=await fetch("".concat(this.config.baseUrl,"/chat/completions"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.config.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model,messages:[{role:"system",content:"Sei un esperto assistente specializzato in Dynamic Fault Tree Analysis. Fornisci risposte tecniche accurate e utili per la modellazione di fault tree."},{role:"user",content:n}],temperature:this.config.temperature||.7,max_tokens:this.config.maxTokens||1e3})});if(!o.ok)throw new Error("Grok API error: ".concat(o.status," ").concat(o.statusText));const r=await o.json();return{content:r.choices[0].message.content,provider:"grok",model:this.config.model,usage:r.usage}}async callLocal(e,t){const n=t?"".concat(t,"\n\nDomanda: ").concat(e):e;try{const e=await fetch("".concat(this.config.baseUrl,"/api/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model,prompt:"Sei un esperto assistente specializzato in Dynamic Fault Tree Analysis. Fornisci risposte tecniche accurate e utili per la modellazione di fault tree.\n\n".concat(n),stream:!1,options:{temperature:this.config.temperature||.7,num_predict:this.config.maxTokens||1e3}})});if(!e.ok)throw new Error("Local API error: ".concat(e.status," ").concat(e.statusText));return{content:(await e.json()).response,provider:"local",model:this.config.model}}catch(o){return this.generateLocalFallback(e)}}generateLocalFallback(e){const t=e.toLowerCase();if(t.includes("and")||t.includes("porta and"))return{content:"La porta AND richiede che tutti gli eventi di input si verifichino per causare l'output. \xc8 utilizzata quando tutti i componenti devono fallire simultaneamente per causare il guasto del sistema.",provider:"local",model:"fallback"};if(t.includes("or")||t.includes("porta or"))return{content:"La porta OR si attiva quando almeno uno degli eventi di input si verifica. \xc8 la porta pi\xf9 comune nei fault tree e rappresenta ridondanza alternativa.",provider:"local",model:"fallback"};if(t.includes("pand")||t.includes("priority and"))return{content:"La porta PAND (Priority AND) richiede che gli eventi si verifichino in una sequenza specifica. \xc8 utile per modellare guasti che dipendono dall'ordine temporale.",provider:"local",model:"fallback"};if(t.includes("spare"))return{content:"La porta SPARE modella sistemi con componenti di riserva. Il sistema fallisce solo quando il componente principale E il componente spare falliscono.",provider:"local",model:"fallback"};if(t.includes("seq")||t.includes("sequenziale"))return{content:"La porta SEQ (Sequenziale) modella eventi che devono verificarsi in un ordine temporale specifico per causare il guasto.",provider:"local",model:"fallback"};if(t.includes("fdep")||t.includes("dipendenza"))return{content:"La porta FDEP (Functional Dependency) modella dipendenze funzionali dove il guasto di un componente causa automaticamente il guasto di altri componenti dipendenti.",provider:"local",model:"fallback"};if(t.includes("come")||t.includes("aiuto")||t.includes("help"))return{content:"Posso aiutarti con:\n\u2022 Spiegazioni sui tipi di porte logiche\n\u2022 Consigli sulla struttura del fault tree\n\u2022 Best practices per la modellazione\n\u2022 Interpretazione dei risultati\n\nCosa ti interessa sapere?",provider:"local",model:"fallback"};if(t.includes("evento base")||t.includes("basic event"))return{content:"Gli eventi base rappresentano i guasti fondamentali del sistema. Dovrebbero essere:\n\u2022 Indipendenti tra loro\n\u2022 Non ulteriormente sviluppabili\n\u2022 Associati a tassi di guasto specifici\n\u2022 Chiaramente definiti e misurabili",provider:"local",model:"fallback"};if(t.includes("top event")||t.includes("evento top"))return{content:"Il top event \xe8 il guasto principale che stai analizzando. Dovrebbe essere:\n\u2022 Chiaramente definito\n\u2022 Indesiderabile per il sistema\n\u2022 Il punto di partenza per l'analisi\n\u2022 Collegato logicamente agli eventi sottostanti",provider:"local",model:"fallback"};const n=["Interessante domanda! Nei fault tree dinamici, \xe8 importante considerare le dipendenze temporali tra gli eventi. Puoi fornire pi\xf9 dettagli?","Per una modellazione efficace, ti consiglio di iniziare dal top event e procedere verso il basso, identificando le cause immediate di ogni evento.","Ricorda che un buon fault tree dovrebbe essere completo, accurato e verificabile. Hai considerato tutti i modi di guasto possibili?","Le porte dinamiche come PAND, SPARE e SEQ sono particolarmente utili per sistemi con ridondanza e riparazioni. Stai modellando un sistema di questo tipo?"];return{content:n[Math.floor(Math.random()*n.length)],provider:"local",model:"fallback"}}}const Hl=e=>{let{isOpen:t,onClose:n,onConfigChange:r}=e;const[a,i]=(0,o.useState)(Rl),[l,s]=(0,o.useState)({}),[d,f]=(0,o.useState)("openai"),[p,h]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(t){const t=localStorage.getItem("llm-config");if(t)try{const e=JSON.parse(t);i(c(c({},Rl),e))}catch(e){console.warn("Errore nel caricamento configurazione LLM:",e)}s({}),h(!1)}},[t]);const m=(e,t,n)=>{const o=c(c({},a),{},{[e]:c(c({},a[e]),{},{[t]:n})});i(o);const r=Bl(o[e]);s(t=>c(c({},t),{},{[e]:r}))},g=e=>({openai:"OpenAI (GPT)",anthropic:"Anthropic (Claude)",gemini:"Google Gemini",grok:"Grok (xAI)",local:"Modello Locale"}[e]||e);return t?(0,u.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,u.jsxs)("div",{className:"llm-config-modal",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("h2",{children:"\ud83e\udd16 Configurazione LLM"}),(0,u.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsx)("div",{className:"tabs",children:Object.keys(a).map(e=>(0,u.jsx)("button",{className:"tab ".concat(d===e?"active":""),onClick:()=>f(e),children:g(e)},e))}),(0,u.jsx)("div",{className:"tab-content",children:(e=>{const t=a[e],n=l[e]||[];return(0,u.jsxs)("div",{className:"provider-config",children:[(0,u.jsxs)("div",{className:"provider-header",children:[(0,u.jsx)("h3",{children:g(e)}),(0,u.jsxs)("label",{className:"enabled-toggle",children:[(0,u.jsx)("input",{type:"checkbox",checked:t.enabled,onChange:t=>m(e,"enabled",t.target.checked)}),"Abilitato"]})]}),(0,u.jsxs)("div",{className:"config-fields",children:[(0,u.jsxs)("div",{className:"field-group",children:[(0,u.jsx)("label",{children:"API Key:"}),(0,u.jsx)("input",{type:"password",value:t.apiKey,onChange:t=>m(e,"apiKey",t.target.value),placeholder:"Inserisci API Key per ".concat(g(e)),disabled:"local"===e}),"local"===e&&(0,u.jsx)("span",{className:"field-help",children:"Non richiesto per il modello locale"})]}),(0,u.jsxs)("div",{className:"field-group",children:[(0,u.jsx)("label",{children:"Modello:"}),(0,u.jsx)("input",{type:"text",value:t.model,onChange:t=>m(e,"model",t.target.value),placeholder:"Nome del modello"})]}),(0,u.jsxs)("div",{className:"field-group",children:[(0,u.jsx)("label",{children:"Base URL:"}),(0,u.jsx)("input",{type:"text",value:t.baseUrl||"",onChange:t=>m(e,"baseUrl",t.target.value),placeholder:"URL base dell'API"})]}),(0,u.jsxs)("div",{className:"field-row",children:[(0,u.jsxs)("div",{className:"field-group",children:[(0,u.jsx)("label",{children:"Temperatura:"}),(0,u.jsx)("input",{type:"number",min:"0",max:"2",step:"0.1",value:t.temperature||.7,onChange:t=>m(e,"temperature",parseFloat(t.target.value))}),(0,u.jsx)("span",{className:"field-help",children:"0.0 - 2.0"})]}),(0,u.jsxs)("div",{className:"field-group",children:[(0,u.jsx)("label",{children:"Max Tokens:"}),(0,u.jsx)("input",{type:"number",min:"1",value:t.maxTokens||1e3,onChange:t=>m(e,"maxTokens",parseInt(t.target.value))})]})]}),n.length>0&&(0,u.jsx)("div",{className:"error-list",children:n.map((e,t)=>(0,u.jsxs)("div",{className:"error-item",children:["\u26a0\ufe0f ",e]},t))})]})]})})(d)}),(0,u.jsxs)("div",{className:"config-info",children:[(0,u.jsx)("h4",{children:"\ud83d\udca1 Informazioni sui Provider"}),(0,u.jsxs)("div",{className:"info-grid",children:[(0,u.jsxs)("div",{className:"info-item",children:[(0,u.jsx)("strong",{children:"OpenAI:"})," GPT-4, GPT-3.5-turbo"]}),(0,u.jsxs)("div",{className:"info-item",children:[(0,u.jsx)("strong",{children:"Anthropic:"})," Claude-3 Haiku, Sonnet, Opus"]}),(0,u.jsxs)("div",{className:"info-item",children:[(0,u.jsx)("strong",{children:"Gemini:"})," Gemini 1.5 Flash, Pro"]}),(0,u.jsxs)("div",{className:"info-item",children:[(0,u.jsx)("strong",{children:"Grok:"})," Grok-beta (xAI)"]}),(0,u.jsxs)("div",{className:"info-item",children:[(0,u.jsx)("strong",{children:"Locale:"})," Ollama, LM Studio, etc."]})]})]})]}),(0,u.jsxs)("div",{className:"modal-footer",children:[(0,u.jsx)("button",{className:"reset-button",onClick:()=>{i(Rl),s({})},children:"\ud83d\udd04 Reset"}),(0,u.jsxs)("div",{className:"footer-buttons",children:[p&&(0,u.jsx)("div",{className:"save-success",children:"\u2705 Configurazione salvata!"}),(0,u.jsx)("button",{className:"cancel-button",onClick:n,children:"Annulla"}),(0,u.jsx)("button",{className:"save-button",onClick:()=>{console.log("Saving config:",a);const e={};let t=!1;Object.entries(a).forEach(n=>{let[o,r]=n;if(r.enabled){const n=Bl(r);console.log("Provider ".concat(o," errors:"),n),n.length>0&&(e[o]=n,"local"!==o&&(t=!0))}});const o=Object.values(a).some(e=>!!e.enabled&&("local"===e.provider||e.apiKey&&""!==e.apiKey.trim()));if(t&&!o)return console.log("Validation errors prevent saving:",e),void s(e);console.log("Saving configuration..."),Fl(a),r(a),h(!0),setTimeout(()=>{h(!1),n()},1e3)},disabled:p,children:p?"\u2705 Salvato!":"\ud83d\udcbe Salva Configurazione"})]})]})]})}):null};function Wl(e){return[{key:"openai",name:"OpenAI",enabled:e.openai.enabled&&!!e.openai.apiKey},{key:"anthropic",name:"Anthropic",enabled:e.anthropic.enabled&&!!e.anthropic.apiKey},{key:"gemini",name:"Gemini",enabled:e.gemini.enabled&&!!e.gemini.apiKey},{key:"grok",name:"Grok",enabled:e.grok.enabled&&!!e.grok.apiKey},{key:"local",name:"Local",enabled:e.local.enabled}].filter(e=>e.enabled)}function Xl(e){return{openai:"\ud83e\udd16",anthropic:"\ud83e\udde0",gemini:"\ud83d\udc8e",grok:"\u26a1",local:"\ud83c\udfe0"}[e]||"\ud83d\udd27"}const Yl=e=>{let{onGenerateFaultTree:t,onModifyFaultTree:n,currentFaultTree:r,isDarkMode:a,isCollapsed:i,onToggleCollapse:l}=e;const[s,c]=(0,o.useState)([{id:"1",text:'Ciao! Sono il tuo assistente per Dynamic Fault Tree Analysis. Posso aiutarti a:\n\n\u2022 Generare fault tree automaticamente\n\u2022 Spiegare concetti e best practices\n\u2022 Analizzare il tuo modello corrente\n\nProva a scrivere: "Genera un fault tree per un sistema di alimentazione elettrica"',sender:"bot",timestamp:new Date}]),[d,f]=(0,o.useState)(""),[p,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(Ll()),[v,y]=(0,o.useState)(!1),[b,x]=(0,o.useState)("local"),[w,S]=(0,o.useState)(!1),[k,E]=(0,o.useState)({isGenerating:!1}),N=(0,o.useRef)(null);(0,o.useEffect)(()=>{(()=>{var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[s]),(0,o.useEffect)(()=>{const e=Wl(m);e.length>0&&!e.some(e=>e.key===b)&&(x(e[0].key),console.log("Initial provider set to:",e[0].key))},[m,b]),(0,o.useEffect)(()=>{const e=e=>{e.target.closest(".provider-selector")||S(!1)};if(w)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[w]);const C=async()=>{if(!d.trim())return;const e={id:Date.now().toString(),text:d,sender:"user",timestamp:new Date};c(t=>[...t,e]);const t=d;f(""),h(!0);try{if(Vl.isGenerationRequest(t))return void await P(t);console.log("LLM Config:",m),console.log("Current Provider:",b);const e=m[b];if(console.log("Selected Provider Config:",e),e&&"local"!==e.provider&&e.enabled&&e.apiKey){console.log("Using external LLM:",e.provider);const n=new Vl(e),o=r?"Fault tree corrente: ".concat(r.events.length," eventi, ").concat(r.gates.length," porte"):void 0,a=await n.generateResponse(t,o);if(a.error)throw new Error(a.error);const i={id:(Date.now()+1).toString(),text:a.content,sender:"bot",timestamp:new Date};c(e=>[...e,i])}else{console.log("Using local fallback");const e=_(t),n={id:(Date.now()+1).toString(),text:e,sender:"bot",timestamp:new Date};c(e=>[...e,n])}}catch(n){console.error("LLM Error:",n);const e=_(t),o={id:(Date.now()+1).toString(),text:e,sender:"bot",timestamp:new Date};c(e=>[...e,o])}finally{h(!1)}},P=async e=>{if(!t){const e={id:(Date.now()+1).toString(),text:"Funzionalit\xe0 di generazione non disponibile in questa modalit\xe0.",sender:"bot",timestamp:new Date};return c(t=>[...t,e]),void h(!1)}E({isGenerating:!0,message:"Generazione fault tree in corso..."});try{const n=m[b];if(!(n&&n.enabled&&n.apiKey))throw new Error("Provider LLM non configurato");{const o=new Vl(n),r=Vl.extractGenerationRequest(e),a=await o.generateFaultTree(r);if(!a)throw new Error("Impossibile generare il fault tree");{t(a);const e={id:(Date.now()+1).toString(),text:"\u2705 Ho generato un fault tree con:\n\u2022 ".concat(a.events.length," eventi base\n\u2022 ").concat(a.gates.length," porte logiche\n\u2022 ").concat(a.connections.length," connessioni\n\nIl modello \xe8 stato aggiunto all'editor grafico!"),sender:"bot",timestamp:new Date};c(t=>[...t,e])}}}catch(n){console.error("Errore generazione fault tree:",n);const e={id:(Date.now()+1).toString(),text:"\u274c Errore nella generazione: ".concat(n instanceof Error?n.message:"Errore sconosciuto","\n\nVerifica la configurazione LLM o prova con una descrizione pi\xf9 dettagliata."),sender:"bot",timestamp:new Date};c(t=>[...t,e])}finally{E({isGenerating:!1}),h(!1)}},_=e=>{const t=e.toLowerCase();if(t.includes("and")||t.includes("porta and"))return"La porta AND richiede che tutti gli eventi di input si verifichino per causare l'output. \xc8 utilizzata quando tutti i componenti devono fallire simultaneamente per causare il guasto del sistema.";if(t.includes("or")||t.includes("porta or"))return"La porta OR si attiva quando almeno uno degli eventi di input si verifica. \xc8 la porta pi\xf9 comune nei fault tree e rappresenta ridondanza alternativa.";if(t.includes("pand")||t.includes("priority and"))return"La porta PAND (Priority AND) richiede che gli eventi si verifichino in una sequenza specifica. \xc8 utile per modellare guasti che dipendono dall'ordine temporale.";if(t.includes("spare"))return"La porta SPARE modella sistemi con componenti di riserva. Il sistema fallisce solo quando il componente principale E il componente spare falliscono.";if(t.includes("seq")||t.includes("sequenziale"))return"La porta SEQ (Sequenziale) modella eventi che devono verificarsi in un ordine temporale specifico per causare il guasto.";if(t.includes("fdep")||t.includes("dipendenza"))return"La porta FDEP (Functional Dependency) modella dipendenze funzionali dove il guasto di un componente causa automaticamente il guasto di altri componenti dipendenti.";if(t.includes("come")||t.includes("aiuto")||t.includes("help"))return'Posso aiutarti con:\n\u2022 Generare fault tree automaticamente\n\u2022 Spiegazioni sui tipi di porte logiche\n\u2022 Consigli sulla struttura del fault tree\n\u2022 Best practices per la modellazione\n\u2022 Interpretazione dei risultati\n\nProva a scrivere: "Genera fault tree per [descrizione sistema]"';if(t.includes("evento base")||t.includes("basic event"))return"Gli eventi base rappresentano i guasti fondamentali del sistema. Dovrebbero essere:\n\u2022 Indipendenti tra loro\n\u2022 Non ulteriormente sviluppabili\n\u2022 Associati a tassi di guasto specifici\n\u2022 Chiaramente definiti e misurabili";if(t.includes("top event")||t.includes("evento top"))return"Il top event \xe8 il guasto principale che stai analizzando. Dovrebbe essere:\n\u2022 Chiaramente definito\n\u2022 Indesiderabile per il sistema\n\u2022 Il punto di partenza per l'analisi\n\u2022 Collegato logicamente agli eventi sottostanti";const n=["Interessante domanda! Nei fault tree dinamici, \xe8 importante considerare le dipendenze temporali tra gli eventi. Puoi fornire pi\xf9 dettagli?","Per una modellazione efficace, ti consiglio di iniziare dal top event e procedere verso il basso, identificando le cause immediate di ogni evento.","Ricorda che un buon fault tree dovrebbe essere completo, accurato e verificabile. Hai considerato tutti i modi di guasto possibili?","Le porte dinamiche come PAND, SPARE e SEQ sono particolarmente utili per sistemi con ridondanza e riparazioni. Stai modellando un sistema di questo tipo?"];return n[Math.floor(Math.random()*n.length)]},j=e=>{f(e)};return(0,u.jsxs)("div",{className:"right-panel ".concat(a?"dark-mode":""," ").concat(i?"collapsed":""),children:[(0,u.jsxs)("div",{className:"panel-header",children:[(0,u.jsxs)("div",{className:"header-content",children:[(0,u.jsx)("h3",{children:"\ud83e\udd16 Assistente Fault Tree"}),(0,u.jsx)("button",{className:"collapse-toggle",onClick:l,title:i?"Mostra pannello":"Nascondi pannello",children:i?"\u25c0":"\u25b6"})]}),(0,u.jsxs)("div",{className:"header-controls",children:[(0,u.jsxs)("div",{className:"provider-info",children:[(0,u.jsx)("span",{className:"provider-label",children:"Provider:"}),(0,u.jsxs)("div",{className:"provider-selector",children:[(0,u.jsxs)("button",{className:"provider-badge ".concat(b),onClick:()=>S(!w),title:"Provider attuale: ".concat(b.toUpperCase()," - Clicca per cambiare"),children:["\ud83d\udee1\ufe0f ",b.toUpperCase()," ",w?"\u25b2":"\u25bc"]}),w&&(0,u.jsx)("div",{className:"provider-dropdown",children:Wl(m).map(e=>(0,u.jsxs)("button",{className:"provider-option ".concat(b===e.key?"active":""),onClick:()=>{x(e.key),S(!1)},children:[Xl(e.key)," ",e.name,b===e.key&&" \u2713"]},e.key))})]})]}),(0,u.jsx)("button",{className:"config-button",onClick:()=>y(!0),title:"Configura LLM",children:"\u2699\ufe0f"})]})]}),!i&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"chat-container",children:[(0,u.jsxs)("div",{className:"messages",children:[s.map(e=>(0,u.jsxs)("div",{className:"message ".concat(e.sender),children:[(0,u.jsxs)("div",{className:"message-content",children:[(0,u.jsx)("strong",{className:"message-prefix",children:"user"===e.sender?"Tu: ":"AFT: "}),e.text.split("\n").map((t,n)=>(0,u.jsxs)(o.Fragment,{children:[t,n<e.text.split("\n").length-1&&(0,u.jsx)("br",{})]},n))]}),(0,u.jsx)("div",{className:"message-time",children:e.timestamp.toLocaleTimeString()})]},e.id)),p&&(0,u.jsx)("div",{className:"message bot typing",children:(0,u.jsx)("div",{className:"message-content",children:(0,u.jsxs)("div",{className:"typing-indicator",children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{})]})})}),(0,u.jsx)("div",{ref:N})]}),(0,u.jsxs)("div",{className:"quick-examples",children:[(0,u.jsx)("div",{className:"quick-examples-title",children:"\ud83d\ude80 Esempi di Generazione:"}),(0,u.jsxs)("div",{className:"quick-buttons",children:[(0,u.jsx)("button",{className:"quick-button",onClick:()=>j("Genera un fault tree per un sistema di alimentazione elettrica con ridondanza"),children:"\ud83d\udd0c Sistema Elettrico"}),(0,u.jsx)("button",{className:"quick-button",onClick:()=>j("Crea fault tree per sistema frenante automotive con ABS"),children:"\ud83d\ude97 Sistema Frenante"}),(0,u.jsx)("button",{className:"quick-button",onClick:()=>j("Modella fault tree per sistema di controllo industriale PLC"),children:"\ud83c\udfed Sistema Controllo"})]})]}),(0,u.jsxs)("div",{className:"input-area",children:[(0,u.jsx)("textarea",{value:d,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())},onKeyDown:e=>{e.stopPropagation()},placeholder:"Scrivi 'genera fault tree per...' o usa gli esempi sopra!",className:"message-input",rows:3,autoFocus:!1,spellCheck:!1}),(0,u.jsx)("button",{onClick:C,disabled:!d.trim()||p,className:"send-button",children:"\ud83d\udce4"})]}),k.isGenerating&&(0,u.jsxs)("div",{className:"generation-status",children:[(0,u.jsx)("div",{className:"generation-spinner",children:"\u2699\ufe0f"}),(0,u.jsx)("span",{children:k.message||"Generazione in corso..."})]})]}),(0,u.jsxs)("div",{className:"help-section",children:[(0,u.jsx)("h4",{children:"\ud83d\udca1 Suggerimenti"}),(0,u.jsxs)("div",{className:"help-items",children:[(0,u.jsx)("div",{className:"help-item",children:"\ud83d\udd27 Genera fault tree automaticamente"}),(0,u.jsx)("div",{className:"help-item",children:"\u2753 Chiedi informazioni sui tipi di porte"}),(0,u.jsx)("div",{className:"help-item",children:"\ud83d\udcca Richiedi consigli sulla modellazione"}),(0,u.jsx)("div",{className:"help-item",children:"\ud83c\udfaf Analizza il tuo modello corrente"})]})]})]}),v&&(0,u.jsx)(Hl,{isOpen:v,onClose:()=>y(!1),onConfigChange:e=>{g(e),Fl(e)}})]})},Kl=e=>{let{element:t,onSave:n,onClose:r,faultTreeModel:a}=e;const[i,l]=(0,o.useState)(c({name:t.name,description:t.description||""},t.parameters)),[s,d]=(0,o.useState)({failureRate:"basic-event"===t.type&&t.failureRate||"",repairRate:"",dormancyFactor:"",testInterval:""}),[f,p]=(0,o.useState)("exponential"),[h,m]=(0,o.useState)({}),[g,v]=(0,o.useState)("exponential"),[y,b]=(0,o.useState)({}),[x,w]=(0,o.useState)(!1),[S,k]=(0,o.useState)({priority:"",delay:"",spareType:"",switchingTime:""}),[E,N]=(0,o.useState)(!1),[C,P]=(0,o.useState)(!1),[_,j]=(0,o.useState)(null),[M,D]=(0,o.useState)([]),[T,z]=(0,o.useState)([]);(0,o.useEffect)(()=>{if(t.parameters&&("basic-event"===t.type?d(e=>c(c({},e),t.parameters)):k(e=>c(c({},e),t.parameters))),"gate"===t.type){const e=t;N(e.isFailureGate||!1),P(e.isTopEvent||!1),j(e.gateType||null),D(e.inputs||[]),z(e.secondaryInputs||[])}if("basic-event"===t.type){const e=t;if(e.failureProbabilityDistribution)switch(p(e.failureProbabilityDistribution.type),e.failureProbabilityDistribution.type){case"exponential":m({lambda:e.failureProbabilityDistribution.lambda.toString()});break;case"weibull":m({k:e.failureProbabilityDistribution.k.toString(),lambda:e.failureProbabilityDistribution.lambda.toString(),mu:e.failureProbabilityDistribution.mu.toString()});break;case"normal":m({mu:e.failureProbabilityDistribution.mu.toString(),sigma:e.failureProbabilityDistribution.sigma.toString()});break;case"constant":m({probability:e.failureProbabilityDistribution.probability.toString()})}if(e.repairProbabilityDistribution)switch(w(!0),v(e.repairProbabilityDistribution.type),e.repairProbabilityDistribution.type){case"exponential":b({lambda:e.repairProbabilityDistribution.lambda.toString()});break;case"weibull":b({k:e.repairProbabilityDistribution.k.toString(),lambda:e.repairProbabilityDistribution.lambda.toString(),mu:e.repairProbabilityDistribution.mu.toString()});break;case"normal":b({mu:e.repairProbabilityDistribution.mu.toString(),sigma:e.repairProbabilityDistribution.sigma.toString()});break;case"constant":b({probability:e.repairProbabilityDistribution.probability.toString()})}}},[t]);const O=(e,t)=>{l(n=>c(c({},n),{},{[e]:t}))},A=(e,t)=>{d(n=>c(c({},n),{},{[e]:t}))},I=(e,t)=>{k(n=>c(c({},n),{},{[e]:t}))},R=(e,t)=>{m(n=>c(c({},n),{},{[e]:t}))},L=(e,t)=>{b(n=>c(c({},n),{},{[e]:t}))},F=e=>{D(t=>{const n=t.indexOf(e);if(n<=0)return t;const o=[...t];return[o[n-1],o[n]]=[o[n],o[n-1]],o})},B=e=>{D(t=>{const n=t.indexOf(e);if(-1===n||n>=t.length-1)return t;const o=[...t];return[o[n],o[n+1]]=[o[n+1],o[n]],o})},U=e=>{if(!a)return e;const t=a.events.find(t=>t.id===e);if(t)return t.name;const n=a.gates.find(t=>t.id===e);return n?n.name:e},V=e=>{switch(e){case"exponential":default:return"Distribuzione Esponenziale";case"weibull":return"Distribuzione di Weibull (3 parametri)";case"normal":return"Distribuzione Normale (2 parametri)";case"constant":return"Probabilit\xe0 Costante"}};return(0,u.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,u.jsxs)("div",{className:"parameter-modal",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("h3",{children:"basic-event"===t.type?"\u2b1c Parametri Evento Base":"".concat("AND"===t.gateType?"\u2227":"OR"===t.gateType?"\u2228":"PAND"===t.gateType?"\u2295":"SPARE"===t.gateType?"\u27f2":"SEQ"===t.gateType?"\u2192":"\u27f9"," Parametri Porta ").concat(t.gateType)}),(0,u.jsx)("button",{className:"close-button",onClick:r,children:"\xd7"})]}),(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:"Informazioni Generali"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Nome:"}),(0,u.jsx)("input",{type:"text",value:i.name,onChange:e=>O("name",e.target.value),className:"form-input"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Descrizione:"}),(0,u.jsx)("textarea",{value:i.description,onChange:e=>O("description",e.target.value),className:"form-textarea",rows:3})]})]}),"basic-event"===t.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:"Probabilit\xe0 di Guasto"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tipo di Distribuzione:"}),(0,u.jsxs)("select",{value:f,onChange:e=>{return t=e.target.value,p(t),void m({});var t},className:"form-select",children:[(0,u.jsx)("option",{value:"exponential",children:"Distribuzione Esponenziale"}),(0,u.jsx)("option",{value:"weibull",children:"Distribuzione di Weibull (3 parametri)"}),(0,u.jsx)("option",{value:"normal",children:"Distribuzione Normale (2 parametri)"}),(0,u.jsx)("option",{value:"constant",children:"Probabilit\xe0 Costante"})]}),(0,u.jsx)("span",{className:"form-help",children:V(f)})]}),"exponential"===f&&(0,u.jsx)("div",{className:"distribution-params",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tasso di Guasto (\u03bb):"}),(0,u.jsx)("input",{type:"text",value:h.lambda||"",onChange:e=>R("lambda",e.target.value),className:"form-input",placeholder:"es. 0.001"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h\u207b\xb9 (ore alla meno 1)"})]})}),"weibull"===f&&(0,u.jsxs)("div",{className:"distribution-params",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Parametro di Forma (k):"}),(0,u.jsx)("input",{type:"text",value:h.k||"",onChange:e=>R("k",e.target.value),className:"form-input",placeholder:"es. 2.0"}),(0,u.jsx)("span",{className:"form-help",children:"Adimensionale"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Parametro di Scala (\u03bb):"}),(0,u.jsx)("input",{type:"text",value:h.lambda||"",onChange:e=>R("lambda",e.target.value),className:"form-input",placeholder:"es. 1000"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Parametro di Posizione (\u03bc):"}),(0,u.jsx)("input",{type:"text",value:h.mu||"",onChange:e=>R("mu",e.target.value),className:"form-input",placeholder:"es. 0"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]})]}),"normal"===f&&(0,u.jsxs)("div",{className:"distribution-params",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Media (\u03bc):"}),(0,u.jsx)("input",{type:"text",value:h.mu||"",onChange:e=>R("mu",e.target.value),className:"form-input",placeholder:"es. 8760"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Deviazione Standard (\u03c3):"}),(0,u.jsx)("input",{type:"text",value:h.sigma||"",onChange:e=>R("sigma",e.target.value),className:"form-input",placeholder:"es. 1000"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]})]}),"constant"===f&&(0,u.jsx)("div",{className:"distribution-params",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Probabilit\xe0 Costante:"}),(0,u.jsx)("input",{type:"text",value:h.probability||"",onChange:e=>R("probability",e.target.value),className:"form-input",placeholder:"es. 0.001"}),(0,u.jsx)("span",{className:"form-help",children:"Adimensionale (0-1)"})]})})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:(0,u.jsxs)("label",{className:"section-checkbox",children:[(0,u.jsx)("input",{type:"checkbox",checked:x,onChange:e=>{return t=e.target.checked,w(t),void(t||b({}));var t}}),"Probabilit\xe0 di Riparazione"]})}),x&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tipo di Distribuzione:"}),(0,u.jsxs)("select",{value:g,onChange:e=>{return t=e.target.value,v(t),void b({});var t},className:"form-select",children:[(0,u.jsx)("option",{value:"exponential",children:"Distribuzione Esponenziale"}),(0,u.jsx)("option",{value:"weibull",children:"Distribuzione di Weibull (3 parametri)"}),(0,u.jsx)("option",{value:"normal",children:"Distribuzione Normale (2 parametri)"}),(0,u.jsx)("option",{value:"constant",children:"Probabilit\xe0 Costante"})]}),(0,u.jsx)("span",{className:"form-help",children:V(g)})]}),"exponential"===g&&(0,u.jsx)("div",{className:"distribution-params",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tasso di Riparazione (\u03bc):"}),(0,u.jsx)("input",{type:"text",value:y.lambda||"",onChange:e=>L("lambda",e.target.value),className:"form-input",placeholder:"es. 0.1"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h\u207b\xb9 (ore alla meno 1)"})]})}),"weibull"===g&&(0,u.jsxs)("div",{className:"distribution-params",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Parametro di Forma (k):"}),(0,u.jsx)("input",{type:"text",value:y.k||"",onChange:e=>L("k",e.target.value),className:"form-input",placeholder:"es. 2.0"}),(0,u.jsx)("span",{className:"form-help",children:"Adimensionale"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Parametro di Scala (\u03bb):"}),(0,u.jsx)("input",{type:"text",value:y.lambda||"",onChange:e=>L("lambda",e.target.value),className:"form-input",placeholder:"es. 100"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Parametro di Posizione (\u03bc):"}),(0,u.jsx)("input",{type:"text",value:y.mu||"",onChange:e=>L("mu",e.target.value),className:"form-input",placeholder:"es. 0"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]})]}),"normal"===g&&(0,u.jsxs)("div",{className:"distribution-params",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Media (\u03bc):"}),(0,u.jsx)("input",{type:"text",value:y.mu||"",onChange:e=>L("mu",e.target.value),className:"form-input",placeholder:"es. 24"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Deviazione Standard (\u03c3):"}),(0,u.jsx)("input",{type:"text",value:y.sigma||"",onChange:e=>L("sigma",e.target.value),className:"form-input",placeholder:"es. 4"}),(0,u.jsx)("span",{className:"form-help",children:"Unit\xe0: h (ore)"})]})]}),"constant"===g&&(0,u.jsx)("div",{className:"distribution-params",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Probabilit\xe0 Costante:"}),(0,u.jsx)("input",{type:"text",value:y.probability||"",onChange:e=>L("probability",e.target.value),className:"form-input",placeholder:"es. 0.8"}),(0,u.jsx)("span",{className:"form-help",children:"Adimensionale (0-1)"})]})})]})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:"Altri Parametri"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Fattore di Dormancy:"}),(0,u.jsx)("input",{type:"text",value:s.dormancyFactor,onChange:e=>A("dormancyFactor",e.target.value),className:"form-input",placeholder:"es. 0.5"}),(0,u.jsx)("span",{className:"form-help",children:"Valore tra 0 e 1"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Intervallo di Test:"}),(0,u.jsx)("input",{type:"text",value:s.testInterval,onChange:e=>A("testInterval",e.target.value),className:"form-input",placeholder:"es. 720"}),(0,u.jsx)("span",{className:"form-help",children:"Ore tra i test"})]})]})]}),"gate"===t.type&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsxs)("h4",{children:["Configurazione Porta ",t.gateType]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{className:"checkbox-label",children:[(0,u.jsx)("input",{type:"checkbox",checked:E,onChange:e=>N(e.target.checked),className:"form-checkbox"}),(0,u.jsx)("span",{className:"checkbox-text",children:"Failure Gate"})]}),(0,u.jsx)("span",{className:"form-help",children:"Indica se questa porta rappresenta un guasto (default: false)"})]})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:"TOP Event"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{className:"checkbox-label",children:[(0,u.jsx)("input",{type:"checkbox",checked:C,onChange:e=>P(e.target.checked),className:"form-checkbox"}),(0,u.jsx)("span",{className:"checkbox-text",children:"Imposta come TOP Event"})]}),(0,u.jsx)("span",{className:"form-help",children:"Solo una porta pu\xf2 essere TOP EVENT; se impostata verr\xe0 rimossa l'etichetta da altre porte."})]})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:"Cambia Tipo Porta"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tipo:"}),(0,u.jsxs)("select",{value:_||t.gateType,onChange:e=>j(e.target.value),className:"form-select",children:[(0,u.jsx)("option",{value:"AND",children:"AND"}),(0,u.jsx)("option",{value:"OR",children:"OR"}),(0,u.jsx)("option",{value:"PAND",children:"PAND"}),(0,u.jsx)("option",{value:"SPARE",children:"SPARE"}),(0,u.jsx)("option",{value:"SEQ",children:"SEQ"}),(0,u.jsx)("option",{value:"FDEP",children:"FDEP"})]}),(0,u.jsx)("span",{className:"form-help",children:"Modifica il tipo di porta. Confermando la modale, la vista verr\xe0 aggiornata."})]})]}),"SPARE"!==t.gateType&&"FDEP"!==t.gateType&&(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h4",{children:"Ordina Input"}),(0,u.jsx)("p",{className:"section-description",children:"Ordina gli input nell'ordine desiderato (verr\xe0 usato nell'export MATLAB)"}),(0,u.jsxs)("div",{className:"input-list",children:[(0,u.jsxs)("h5",{children:["Inputs (",M.length,")"]}),(0,u.jsxs)("div",{className:"input-items",children:[M.map(e=>(0,u.jsx)("div",{className:"input-item",children:(0,u.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>F(e),title:"Sposta su",children:"\u25b2"}),(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>B(e),title:"Sposta gi\xf9",children:"\u25bc"}),(0,u.jsx)("span",{className:"input-name",children:U(e)})]})},e)),0===M.length&&(0,u.jsx)("div",{className:"empty-list",children:"Nessun input"})]})]})]}),("SPARE"===t.gateType||"FDEP"===t.gateType)&&(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsxs)("h4",{children:["Gestione Input - ",t.gateType]}),(0,u.jsxs)("p",{className:"section-description",children:["Per le porte ",t.gateType,", \xe8 possibile distinguere tra input primari e secondari. Trascina gli elementi tra le due liste per configurarli."]}),(0,u.jsxs)("div",{className:"input-management",children:[(0,u.jsxs)("div",{className:"input-list",children:[(0,u.jsxs)("h5",{children:["\ud83d\udd35 Input Primari (",M.length,")"]}),(0,u.jsxs)("div",{className:"input-items",children:[M.map((e,t)=>(0,u.jsxs)("div",{className:"input-item primary",children:[(0,u.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>F(e),title:"Sposta su",children:"\u25b2"}),(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>B(e),title:"Sposta gi\xf9",children:"\u25bc"}),(0,u.jsx)("span",{className:"input-name",children:U(e)})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>(e=>{D(t=>t.filter(t=>t!==e)),z(t=>[...t,e])})(e),title:"Sposta a secondari",children:"\u27a1\ufe0f"})})]},e)),0===M.length&&(0,u.jsx)("div",{className:"empty-list",children:"Nessun input primario"})]})]}),(0,u.jsxs)("div",{className:"input-list",children:[(0,u.jsxs)("h5",{children:["\ud83d\udfe1 Input Secondari (",T.length,")"]}),(0,u.jsxs)("div",{className:"input-items",children:[T.map(e=>(0,u.jsxs)("div",{className:"input-item secondary",children:[(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>(e=>{z(t=>t.filter(t=>t!==e)),D(t=>[...t,e])})(e),title:"Sposta a primari",children:"\u2b05\ufe0f"})}),(0,u.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,u.jsx)("span",{className:"input-name",children:U(e)}),(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>(e=>{z(t=>{const n=t.indexOf(e);if(n<=0)return t;const o=[...t];return[o[n-1],o[n]]=[o[n],o[n-1]],o})})(e),title:"Sposta su",children:"\u25b2"}),(0,u.jsx)("button",{type:"button",className:"move-button",onClick:()=>(e=>{z(t=>{const n=t.indexOf(e);if(-1===n||n>=t.length-1)return t;const o=[...t];return[o[n],o[n+1]]=[o[n+1],o[n]],o})})(e),title:"Sposta gi\xf9",children:"\u25bc"})]})]},e)),0===T.length&&(0,u.jsx)("div",{className:"empty-list",children:"Nessun input secondario"})]})]})]})]}),(0,u.jsxs)("div",{className:"form-section",children:["SPARE"===t.gateType&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tipo di Spare:"}),(0,u.jsxs)("select",{value:S.spareType,onChange:e=>I("spareType",e.target.value),className:"form-select",children:[(0,u.jsx)("option",{value:"",children:"Seleziona tipo"}),(0,u.jsx)("option",{value:"cold",children:"Cold Spare"}),(0,u.jsx)("option",{value:"warm",children:"Warm Spare"}),(0,u.jsx)("option",{value:"hot",children:"Hot Spare"})]})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Tempo di Commutazione:"}),(0,u.jsx)("input",{type:"number",step:"any",value:S.switchingTime,onChange:e=>I("switchingTime",e.target.value),className:"form-input",placeholder:"es. 0.1"}),(0,u.jsx)("span",{className:"form-help",children:"Tempo per attivare lo spare (ore)"})]})]}),"FDEP"===t.gateType&&(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Ritardo di Propagazione:"}),(0,u.jsx)("input",{type:"number",step:"any",value:S.delay,onChange:e=>I("delay",e.target.value),className:"form-input",placeholder:"es. 0.01"}),(0,u.jsx)("span",{className:"form-help",children:"Ritardo nella propagazione del guasto"})]})]})]})]}),(0,u.jsxs)("div",{className:"modal-footer",children:[(0,u.jsx)("button",{className:"cancel-button",onClick:r,children:"Annulla"}),(0,u.jsx)("button",{className:"save-button",onClick:()=>{const e=c(c({},t),{},{name:i.name,description:i.description,parameters:"basic-event"===t.type?s:S});if("basic-event"===t.type){let t;switch(e.failureRate=s.failureRate?parseFloat(s.failureRate.toString()):void 0,f){case"exponential":default:t={type:"exponential",lambda:parseFloat(h.lambda)||0};break;case"weibull":t={type:"weibull",k:parseFloat(h.k)||1,lambda:parseFloat(h.lambda)||1,mu:parseFloat(h.mu)||0};break;case"normal":t={type:"normal",mu:parseFloat(h.mu)||0,sigma:parseFloat(h.sigma)||1};break;case"constant":t={type:"constant",probability:parseFloat(h.probability)||0}}if(e.failureProbabilityDistribution=t,x){let t;switch(g){case"exponential":default:t={type:"exponential",lambda:parseFloat(y.lambda)||0};break;case"weibull":t={type:"weibull",k:parseFloat(y.k)||1,lambda:parseFloat(y.lambda)||1,mu:parseFloat(y.mu)||0};break;case"normal":t={type:"normal",mu:parseFloat(y.mu)||0,sigma:parseFloat(y.sigma)||1};break;case"constant":t={type:"constant",probability:parseFloat(y.probability)||0}}e.repairProbabilityDistribution=t}else e.repairProbabilityDistribution=void 0}else"gate"===t.type&&(e.isFailureGate=E,e.inputs=M,e.secondaryInputs=T,e.isTopEvent=C,_&&(e.gateType=_));n(e)},children:"Salva"})]})]})})};class Gl{static async saveFaultTree(e,t){const n=JSON.stringify(e,null,2),o=new Blob([n],{type:"application/json"});if("undefined"!==typeof window&&"showSaveFilePicker"in window)try{const e=t||"fault-tree-".concat((new Date).toISOString().split("T")[0],".json"),n=await window.showSaveFilePicker({suggestedName:e,types:[{description:"JSON Files",accept:{"application/json":[".json"]}}]});if("createWritable"in n){const e=await n.createWritable();await e.write(o),await e.close()}else{if(!("createSyncAccessHandle"in n))throw new Error("API File System Access non supportata");{const e=await n.createSyncAccessHandle(),t=await o.arrayBuffer();e.write(t,{at:0}),e.close()}}return}catch(i){console.log("File System Access non disponibile o annullato, uso fallback:",i)}const r=URL.createObjectURL(o),a=document.createElement("a");a.href=r,a.download=t||"fault-tree-".concat((new Date).toISOString().split("T")[0],".json"),a.click(),URL.revokeObjectURL(r)}static async overwriteExistingFile(e,t){const n=JSON.stringify(e,null,2),o=new Blob([n],{type:"application/json"});try{if("createWritable"in t){const e=await t.createWritable();await e.write(o),await e.close()}else if("createSyncAccessHandle"in t){const e=await t.createSyncAccessHandle(),n=await o.arrayBuffer();e.write(n,{at:0}),e.close()}else{const e=await t.createWritable();await e.write(o),await e.close()}}catch(r){console.log("File System Access fallito, uso fallback:",r);const e=URL.createObjectURL(o),t=document.createElement("a");throw t.href=e,t.download="fault-tree-".concat((new Date).toISOString().split("T")[0],".json"),t.click(),URL.revokeObjectURL(e),new Error("Errore durante la sovrascrittura del file: ".concat(r instanceof Error?r.message:"Errore sconosciuto"))}}static async openFaultTree(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=e=>{try{var o;const n=null===(o=e.target)||void 0===o?void 0:o.result,r=JSON.parse(n);if(!r.events||!r.gates||!r.connections)throw new Error("Formato file non valido: mancano eventi, porte o connessioni");t(r)}catch(r){n(new Error("Errore nel parsing del file: ".concat(r instanceof Error?r.message:"Errore sconosciuto")))}},o.onerror=()=>{n(new Error("Errore nella lettura del file"))},o.readAsText(e)})}static async exportToXML(e,t){const n=this.generateXML(e),o=new Blob([n],{type:"application/xml"});if("undefined"!==typeof window&&"showSaveFilePicker"in window)try{const e=t||"fault-tree-".concat((new Date).toISOString().split("T")[0],".xml"),n=await window.showSaveFilePicker({suggestedName:e,types:[{description:"XML Files",accept:{"application/xml":[".xml"]}}]});if("createWritable"in n){const e=await n.createWritable();await e.write(o),await e.close()}else{if(!("createSyncAccessHandle"in n))throw new Error("API File System Access non supportata");{const e=await n.createSyncAccessHandle(),t=await o.arrayBuffer();e.write(t,{at:0}),e.close()}}return}catch(i){console.log("File System Access non disponibile o annullato, uso fallback:",i)}const r=URL.createObjectURL(o),a=document.createElement("a");a.href=r,a.download=t||"fault-tree-".concat((new Date).toISOString().split("T")[0],".xml"),a.click(),URL.revokeObjectURL(r)}static async exportToCSV(e,t){const n=this.generateCSV(e),o=new Blob([n],{type:"text/csv"});if("undefined"!==typeof window&&"showSaveFilePicker"in window)try{const e=t||"fault-tree-".concat((new Date).toISOString().split("T")[0],".csv"),n=await window.showSaveFilePicker({suggestedName:e,types:[{description:"CSV Files",accept:{"text/csv":[".csv"]}}]});if("createWritable"in n){const e=await n.createWritable();await e.write(o),await e.close()}else{if(!("createSyncAccessHandle"in n))throw new Error("API File System Access non supportata");{const e=await n.createSyncAccessHandle(),t=await o.arrayBuffer();e.write(t,{at:0}),e.close()}}return}catch(i){console.log("File System Access non disponibile o annullato, uso fallback:",i)}const r=URL.createObjectURL(o),a=document.createElement("a");a.href=r,a.download=t||"fault-tree-".concat((new Date).toISOString().split("T")[0],".csv"),a.click(),URL.revokeObjectURL(r)}static async exportCode(e,t){const n=new Blob([e],{type:"text/plain"});if("undefined"!==typeof window&&"showSaveFilePicker"in window)try{const e=t||"fault-tree-code-".concat((new Date).toISOString().split("T")[0],".txt"),o=await window.showSaveFilePicker({suggestedName:e,types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]});if("createWritable"in o){const e=await o.createWritable();await e.write(n),await e.close()}else{if(!("createSyncAccessHandle"in o))throw new Error("API File System Access non supportata");{const e=await o.createSyncAccessHandle(),t=await n.arrayBuffer();e.write(t,{at:0}),e.close()}}return}catch(a){console.log("File System Access non disponibile o annullato, uso fallback:",a)}const o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download=t||"fault-tree-code-".concat((new Date).toISOString().split("T")[0],".txt"),r.click(),URL.revokeObjectURL(o)}static generateXML(e){let t='<?xml version="1.0" encoding="UTF-8"?>\n';return t+="<faultTree>\n",t+="  <events>\n",e.events.forEach(e=>{if(t+='    <event id="'.concat(e.id,'" type="').concat(e.type,'">\n'),t+="      <name>".concat(this.escapeXML(e.name),"</name>\n"),e.description&&(t+="      <description>".concat(this.escapeXML(e.description),"</description>\n")),e.failureRate&&(t+="      <failureRate>".concat(e.failureRate,"</failureRate>\n")),e.failureProbabilityDistribution){switch(t+='      <failureProbabilityDistribution type="'.concat(e.failureProbabilityDistribution.type,'">\n'),e.failureProbabilityDistribution.type){case"exponential":t+="        <lambda>".concat(e.failureProbabilityDistribution.lambda,"</lambda>\n");break;case"weibull":t+="        <k>".concat(e.failureProbabilityDistribution.k,"</k>\n"),t+="        <lambda>".concat(e.failureProbabilityDistribution.lambda,"</lambda>\n"),t+="        <mu>".concat(e.failureProbabilityDistribution.mu,"</mu>\n");break;case"normal":t+="        <mu>".concat(e.failureProbabilityDistribution.mu,"</mu>\n"),t+="        <sigma>".concat(e.failureProbabilityDistribution.sigma,"</sigma>\n");break;case"constant":t+="        <probability>".concat(e.failureProbabilityDistribution.probability,"</probability>\n")}t+="      </failureProbabilityDistribution>\n"}if(e.repairProbabilityDistribution){switch(t+='      <repairProbabilityDistribution type="'.concat(e.repairProbabilityDistribution.type,'">\n'),e.repairProbabilityDistribution.type){case"exponential":t+="        <lambda>".concat(e.repairProbabilityDistribution.lambda,"</lambda>\n");break;case"weibull":t+="        <k>".concat(e.repairProbabilityDistribution.k,"</k>\n"),t+="        <lambda>".concat(e.repairProbabilityDistribution.lambda,"</lambda>\n"),t+="        <mu>".concat(e.repairProbabilityDistribution.mu,"</mu>\n");break;case"normal":t+="        <mu>".concat(e.repairProbabilityDistribution.mu,"</mu>\n"),t+="        <sigma>".concat(e.repairProbabilityDistribution.sigma,"</sigma>\n");break;case"constant":t+="        <probability>".concat(e.repairProbabilityDistribution.probability,"</probability>\n")}t+="      </repairProbabilityDistribution>\n"}t+='      <position x="'.concat(e.position.x,'" y="').concat(e.position.y,'" />\n'),t+="    </event>\n"}),t+="  </events>\n",t+="  <gates>\n",e.gates.forEach(e=>{t+='    <gate id="'.concat(e.id,'" type="').concat(e.type,'" gateType="').concat(e.gateType,'">\n'),t+="      <name>".concat(this.escapeXML(e.name),"</name>\n"),e.description&&(t+="      <description>".concat(this.escapeXML(e.description),"</description>\n")),t+='      <position x="'.concat(e.position.x,'" y="').concat(e.position.y,'" />\n'),t+="      <inputs>\n",e.inputs.forEach(e=>{t+="        <input>".concat(e,"</input>\n")}),t+="      </inputs>\n",t+="    </gate>\n"}),t+="  </gates>\n",t+="  <connections>\n",e.connections.forEach(e=>{t+='    <connection id="'.concat(e.id,'" source="').concat(e.source,'" target="').concat(e.target,'" type="').concat(e.type,'" />\n')}),t+="  </connections>\n",e.topEvent&&(t+="  <topEvent>".concat(e.topEvent,"</topEvent>\n")),t+="</faultTree>",t}static generateCSV(e){let t="Element Type,ID,Name,Description,Position X,Position Y,Failure Distribution,Repair Distribution,Additional Info\n";return e.events.forEach(e=>{let n="",o="",r="";if(e.failureProbabilityDistribution){const t=[];switch(e.failureProbabilityDistribution.type){case"exponential":t.push("lambda: ".concat(e.failureProbabilityDistribution.lambda," h\u207b\xb9"));break;case"weibull":t.push("k: ".concat(e.failureProbabilityDistribution.k)),t.push("lambda: ".concat(e.failureProbabilityDistribution.lambda," h")),t.push("mu: ".concat(e.failureProbabilityDistribution.mu," h"));break;case"normal":t.push("mu: ".concat(e.failureProbabilityDistribution.mu," h")),t.push("sigma: ".concat(e.failureProbabilityDistribution.sigma," h"));break;case"constant":t.push("probability: ".concat(e.failureProbabilityDistribution.probability))}n="".concat(e.failureProbabilityDistribution.type,": ").concat(t.join("; "))}if(e.repairProbabilityDistribution){const t=[];switch(e.repairProbabilityDistribution.type){case"exponential":t.push("lambda: ".concat(e.repairProbabilityDistribution.lambda," h\u207b\xb9"));break;case"weibull":t.push("k: ".concat(e.repairProbabilityDistribution.k)),t.push("lambda: ".concat(e.repairProbabilityDistribution.lambda," h")),t.push("mu: ".concat(e.repairProbabilityDistribution.mu," h"));break;case"normal":t.push("mu: ".concat(e.repairProbabilityDistribution.mu," h")),t.push("sigma: ".concat(e.repairProbabilityDistribution.sigma," h"));break;case"constant":t.push("probability: ".concat(e.repairProbabilityDistribution.probability))}o="".concat(e.repairProbabilityDistribution.type,": ").concat(t.join("; "))}e.failureRate&&(r="Failure Rate: ".concat(e.failureRate)),t+="Event,".concat(e.id,',"').concat(e.name,'","').concat(e.description||"",'",').concat(e.position.x,",").concat(e.position.y,',"').concat(n,'","').concat(o,'","').concat(r,'"\n')}),e.gates.forEach(e=>{t+="Gate,".concat(e.id,',"').concat(e.name,'","').concat(e.description||"",'",').concat(e.position.x,",").concat(e.position.y,',"","","Type: ').concat(e.gateType,", Inputs: ").concat(e.inputs.length,'"\n')}),t+="\nConnections\n",t+="Source,Target,Type\n",e.connections.forEach(e=>{t+="".concat(e.source,",").concat(e.target,",").concat(e.type,"\n")}),t}static escapeXML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}static validateModel(e){const t=[];e.events&&0!==e.events.length||t.push("Il modello deve contenere almeno un evento base"),e.gates&&0!==e.gates.length||t.push("Il modello deve contenere almeno una porta"),e.connections&&0!==e.connections.length||t.push("Il modello deve contenere almeno una connessione");const n=new Set([...e.events.map(e=>e.id),...e.gates.map(e=>e.id)]);return e.connections.forEach(e=>{n.has(e.source)||t.push("Connessione con source ID '".concat(e.source,"' non trovato")),n.has(e.target)||t.push("Connessione con target ID '".concat(e.target,"' non trovato"))}),{isValid:0===t.length,errors:t}}static generateDefaultFilename(){const e=new Date,t=e.toISOString().split("T")[0],n=e.toTimeString().split(" ")[0].replace(/:/g,"-");return"fault-tree-".concat(t,"-").concat(n)}}const ql=e=>{let{isOpen:t,onClose:n,faultTreeModel:r}=e;const[a,i]=(0,o.useState)(Gl.generateDefaultFilename()),[l,s]=(0,o.useState)("json"),[c,d]=(0,o.useState)(!0),[f,p]=(0,o.useState)(!1);if(!t)return null;const h=()=>{i(Gl.generateDefaultFilename()),s("json"),d(!0),p(!1),n()};return(0,u.jsx)("div",{className:"save-modal-overlay",onClick:h,children:(0,u.jsxs)("div",{className:"save-modal",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"save-modal-header",children:[(0,u.jsx)("h2",{children:"\ud83d\udcbe Salva Fault Tree"}),(0,u.jsx)("button",{className:"close-button",onClick:h,children:"\xd7"})]}),(0,u.jsxs)("div",{className:"save-modal-content",children:[(0,u.jsx)("div",{className:"info-message",children:(0,u.jsxs)("p",{children:["\ud83d\udca1 ",(0,u.jsx)("strong",{children:"Nuovo!"})," Ora puoi scegliere la cartella di destinazione e modificare il nome file per tutti i tipi di salvataggio."]})}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"filename",children:"Nome File:"}),(0,u.jsx)("input",{id:"filename",type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"Inserisci nome file",className:"filename-input"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"format",children:"Formato:"}),(0,u.jsxs)("select",{id:"format",value:l,onChange:e=>s(e.target.value),className:"format-select",children:[(0,u.jsx)("option",{value:"json",children:"JSON (.json)"}),(0,u.jsx)("option",{value:"xml",children:"XML (.xml)"}),(0,u.jsx)("option",{value:"csv",children:"CSV (.csv)"})]})]}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsxs)("label",{className:"checkbox-label",children:[(0,u.jsx)("input",{type:"checkbox",checked:c,onChange:e=>d(e.target.checked)}),"Includi metadati (data, versione, ecc.)"]})}),(0,u.jsxs)("div",{className:"file-info",children:[(0,u.jsx)("h4",{children:"Informazioni File:"}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:["\ud83d\udcca Eventi: ",r.events.length]}),(0,u.jsxs)("li",{children:["\ud83d\udd0c Porte: ",r.gates.length]}),(0,u.jsxs)("li",{children:["\ud83d\udd17 Connessioni: ",r.connections.length]}),(0,u.jsxs)("li",{children:["\ud83d\udcc1 Formato: ",l.toUpperCase()]})]})]})]}),(0,u.jsxs)("div",{className:"save-modal-actions",children:[(0,u.jsx)("button",{className:"save-button primary",onClick:async()=>{if(a.trim()){p(!0);try{const e=Gl.validateModel(r);if(!e.isValid)return void alert("Errore di validazione:\n".concat(e.errors.join("\n")));switch(l){case"json":await Gl.saveFaultTree(r,"".concat(a,".json"));break;case"xml":await Gl.exportToXML(r,"".concat(a,".xml"));break;case"csv":await Gl.exportToCSV(r,"".concat(a,".csv"))}alert("File salvato con successo!"),n()}catch(e){alert("Errore durante il salvataggio: ".concat(e instanceof Error?e.message:"Errore sconosciuto"))}finally{p(!1)}}else alert("Inserisci un nome file valido")},disabled:f||!a.trim(),children:f?"\u23f3 Salvando...":"\ud83d\udcbe Salva"}),(0,u.jsx)("button",{className:"save-button secondary",onClick:async()=>{try{await Gl.saveFaultTree(r),n()}catch(e){alert("Errore durante il salvataggio rapido: ".concat(e instanceof Error?e.message:"Errore sconosciuto"))}},disabled:f,children:"\ud83d\ude80 Salvataggio Rapido (JSON)"}),(0,u.jsx)("button",{className:"cancel-button",onClick:h,disabled:f,children:"\u274c Annulla"})]})]})})};class $l{static async exportToMatlab(e,t){const n=this.generateMatlabCode(e,t),o=new Blob([n],{type:"text/plain"});if("undefined"!==typeof window&&"showSaveFilePicker"in window)try{const e=t.filename||"fault-tree-".concat((new Date).toISOString().split("T")[0],".m"),n=await window.showSaveFilePicker({suggestedName:e,types:[{description:"MATLAB Files",accept:{"text/plain":[".m"]}}]}),r=await n.createWritable();return await r.write(o),void await r.close()}catch(i){console.log("File System Access non disponibile o annullato, uso fallback:",i)}const r=URL.createObjectURL(o),a=document.createElement("a");a.href=r,a.download=t.filename||"fault-tree-".concat((new Date).toISOString().split("T")[0],".m"),a.click(),URL.revokeObjectURL(r)}static generateMatlabCode(e,t){let n="%% Define the Fault Tree Structure %%\n";n+="Tm = ".concat(t.missionTime,"; %[h]\n\n"),n+="%% Define BEs %%\n\n",e.events.forEach(e=>{n+=this.generateBasicEventCode(e)}),n+="\n%% Define Gates %%\n";this.getBottomUpOrdering(e).forEach(t=>{n+=this.generateGateCode(t,e)});const o=this.findTopEvent(e);return o&&(n+="TOP = ".concat(o.name,";\n")),n+="%% Recall Matlab Script %%\n",n+="%verify if the FT Structure is valid (it will modify the value of the variable UNVALID_FT)\n",n+="createFTStructure\n",n}static generateBasicEventCode(e){const t=this.sanitizeMatlabName(e.name);let n="''",o="''",r="[]",a="[]";if(e.failureProbabilityDistribution){const t=e.failureProbabilityDistribution;switch(t.type){case"exponential":n="'exp'",r="[".concat(t.lambda,"]");break;case"weibull":n="'weibull'",r="[".concat(t.k,", ").concat(t.lambda,", ").concat(t.mu,"]");break;case"normal":n="'normal'",r="[".concat(t.mu,", ").concat(t.sigma,"]");break;case"constant":n="'constant'",r="[".concat(t.probability,"]")}}else e.failureRate&&(n="'exp'",r="[".concat(e.failureRate,"]"));if(e.repairProbabilityDistribution){const t=e.repairProbabilityDistribution;switch(t.type){case"exponential":o="'exp'",a="[".concat(t.lambda,"]");break;case"weibull":o="'weibull'",a="[".concat(t.k,", ").concat(t.lambda,", ").concat(t.mu,"]");break;case"normal":o="'normal'",a="[".concat(t.mu,", ").concat(t.sigma,"]");break;case"constant":o="'constant'",a="[".concat(t.probability,"]")}}return"".concat(t," = BasicEvent('").concat(t,"',").concat(n,",").concat(o,",").concat(r,",").concat(a,");\n")}static generateGateCode(e,t){const n=this.sanitizeMatlabName(e.name),o=e.gateType,r=e.isFailureGate||!1,a=e.inputs.map(e=>{const n=this.findElementById(t,e);return n?this.sanitizeMatlabName(n.name):e});if("SPARE"===o||"FDEP"===o){const i="[".concat(a.join(", "),"]");let l="[]";if(e.secondaryInputs&&e.secondaryInputs.length>0){const n=e.secondaryInputs.map(e=>{const n=this.findElementById(t,e);return n?this.sanitizeMatlabName(n.name):e});l="[".concat(n.join(", "),"]")}return"".concat(n," = Gate('").concat(n,"', '").concat(o,"', ").concat(r?"true":"false",", ").concat(i,", ").concat(l,");\n")}{const e="[".concat(a.join(", "),"]");return"".concat(n," = Gate('").concat(n,"', '").concat(o,"', ").concat(r?"true":"false",", ").concat(e,");\n")}}static getBottomUpOrdering(e){const t=new Set,n=new Set,o=[],r=a=>{if(t.has(a))return;if(n.has(a))return void console.warn("Circular dependency detected involving gate ".concat(a));const i=e.gates.find(e=>e.id===a);i&&(n.add(a),i.inputs.forEach(n=>{e.gates.find(e=>e.id===n)&&!t.has(n)&&r(n)}),n.delete(a),t.add(a),o.push(i))};return e.gates.forEach(e=>{t.has(e.id)||r(e.id)}),o}static findTopEvent(e){if(e.topEvent)return e.gates.find(t=>t.id===e.topEvent)||null;const t=new Set;e.gates.forEach(n=>{n.inputs.forEach(n=>{e.gates.some(e=>e.id===n)&&t.add(n)})});const n=e.gates.filter(e=>!t.has(e.id));return n.length>0?n[0]:null}static findElementById(e,t){const n=e.events.find(e=>e.id===t);if(n)return n;const o=e.gates.find(e=>e.id===t);return o||null}static sanitizeMatlabName(e){let t=e.replace(/[^a-zA-Z0-9_]/g,"_");return/^[a-zA-Z]/.test(t)||(t="E_"+t),t=t.replace(/_+/g,"_"),t=t.replace(/_+$/,""),t}}const Ql=e=>{let{isOpen:t,onClose:n,faultTreeModel:r,missionTime:a=500}=e;const[i,l]=(0,o.useState)("fault-tree-".concat((new Date).toISOString().split("T")[0],".m")),[s,c]=(0,o.useState)(a),[d,f]=(0,o.useState)(!1);if(!t)return null;return(0,u.jsx)("div",{className:"matlab-export-modal-overlay",onClick:n,children:(0,u.jsxs)("div",{className:"matlab-export-modal",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"matlab-export-modal-header",children:[(0,u.jsx)("h2",{children:"\ud83e\uddee Esporta MATLAB"}),(0,u.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,u.jsxs)("div",{className:"matlab-export-modal-content",children:[(0,u.jsxs)("div",{className:"export-info",children:[(0,u.jsx)("h3",{children:"\ud83d\udcca Informazioni Modello"}),(0,u.jsxs)("div",{className:"model-stats",children:[(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"Eventi Base:"}),(0,u.jsx)("span",{className:"stat-value",children:r.events.length})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"Porte:"}),(0,u.jsx)("span",{className:"stat-value",children:r.gates.length})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"Connessioni:"}),(0,u.jsx)("span",{className:"stat-value",children:r.connections.length})]})]})]}),(0,u.jsxs)("div",{className:"export-options",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"filename",children:"\ud83d\udcc1 Nome File:"}),(0,u.jsx)("input",{id:"filename",type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"fault-tree.m"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"missionTime",children:"\u23f1\ufe0f Tempo di Missione (Tm) [h]:"}),(0,u.jsx)("input",{id:"missionTime",type:"number",value:s,onChange:e=>c(Number(e.target.value)),placeholder:"500",min:"0",step:"0.1"}),(0,u.jsx)("small",{className:"form-help",children:"Tempo di missione in ore per l'analisi del fault tree"})]})]}),(0,u.jsxs)("div",{className:"export-preview",children:[(0,u.jsx)("h4",{children:"\ud83d\udccb Anteprima Struttura"}),(0,u.jsxs)("div",{className:"preview-content",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Formato MATLAB:"})," Bottom-up ordering"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Eventi Base:"})," BasicEvent('nome', 'failure_prob', 'repair_prob', [params_failure], [params_repair])"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Porte:"})," Gate('nome', 'tipo', false, [inputs])"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Porte SPARE/FDEP:"})," Gate('nome', 'tipo', false, [primary_inputs], [secondary_inputs])"]})]})]})]}),(0,u.jsxs)("div",{className:"matlab-export-modal-actions",children:[(0,u.jsx)("button",{className:"cancel-button",onClick:n,disabled:d,children:"Annulla"}),(0,u.jsx)("button",{className:"export-button primary",onClick:async()=>{if(i.trim())if(s<=0)alert("Il tempo di missione deve essere maggiore di 0");else{f(!0);try{if(0===r.events.length&&0===r.gates.length)return void alert("Il modello di fault tree \xe8 vuoto. Aggiungi almeno un evento base o una porta.");await $l.exportToMatlab(r,{missionTime:s,filename:i.endsWith(".m")?i:"".concat(i,".m")}),alert("File MATLAB esportato con successo!"),n()}catch(e){alert("Errore durante l'esportazione: ".concat(e instanceof Error?e.message:"Errore sconosciuto"))}finally{f(!1)}}else alert("Inserisci un nome file valido")},disabled:d,children:d?"Esportazione...":"\ud83e\uddee Esporta MATLAB"})]})]})})},Zl=e=>{let{isOpen:t,onClose:n,onConfirm:o,title:r,message:a,confirmText:i="Conferma",cancelText:l="Annulla",confirmButtonClass:s="confirm-button"}=e;if(!t)return null;return(0,u.jsx)("div",{className:"confirmation-modal-overlay",onClick:n,children:(0,u.jsxs)("div",{className:"confirmation-modal",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"confirmation-modal-header",children:[(0,u.jsx)("h2",{children:r}),(0,u.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,u.jsxs)("div",{className:"confirmation-modal-content",children:[(0,u.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,u.jsx)("p",{className:"confirmation-message",children:a})]}),(0,u.jsxs)("div",{className:"confirmation-modal-actions",children:[(0,u.jsx)("button",{className:"".concat(s," primary"),onClick:()=>{o(),n()},children:i}),(0,u.jsx)("button",{className:"cancel-button",onClick:n,children:l})]})]})})},Jl={mobile:768,tablet:1024},es=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl;const[t,n]=(0,o.useState)("desktop");return(0,o.useEffect)(()=>{const t=()=>{const t=window.innerWidth;t<e.mobile?n("mobile"):t<e.tablet?n("tablet"):n("desktop")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t},ts=e=>{let t="// Dynamic Fault Tree Code\n\n";return t+="// EVENTI BASE\n",e.events.forEach(e=>{if(t+="BaseEvent ".concat(e.name," {\n"),t+='  id: "'.concat(e.id,'"\n'),e.description&&(t+='  description: "'.concat(e.description,'"\n')),e.failureRate&&(t+="  failureRate: ".concat(e.failureRate,"\n")),e.failureProbabilityDistribution){switch(t+="  failureProbabilityDistribution: {\n",t+='    type: "'.concat(e.failureProbabilityDistribution.type,'"\n'),e.failureProbabilityDistribution.type){case"exponential":t+="    lambda: ".concat(e.failureProbabilityDistribution.lambda," // h\u207b\xb9\n");break;case"weibull":t+="    k: ".concat(e.failureProbabilityDistribution.k," // adimensionale\n"),t+="    lambda: ".concat(e.failureProbabilityDistribution.lambda," // h\n"),t+="    mu: ".concat(e.failureProbabilityDistribution.mu," // h\n");break;case"normal":t+="    mu: ".concat(e.failureProbabilityDistribution.mu," // h\n"),t+="    sigma: ".concat(e.failureProbabilityDistribution.sigma," // h\n");break;case"constant":t+="    probability: ".concat(e.failureProbabilityDistribution.probability," // adimensionale\n")}t+="  }\n"}if(e.repairProbabilityDistribution){switch(t+="  repairProbabilityDistribution: {\n",t+='    type: "'.concat(e.repairProbabilityDistribution.type,'"\n'),e.repairProbabilityDistribution.type){case"exponential":t+="    lambda: ".concat(e.repairProbabilityDistribution.lambda," // h\u207b\xb9\n");break;case"weibull":t+="    k: ".concat(e.repairProbabilityDistribution.k," // adimensionale\n"),t+="    lambda: ".concat(e.repairProbabilityDistribution.lambda," // h\n"),t+="    mu: ".concat(e.repairProbabilityDistribution.mu," // h\n");break;case"normal":t+="    mu: ".concat(e.repairProbabilityDistribution.mu," // h\n"),t+="    sigma: ".concat(e.repairProbabilityDistribution.sigma," // h\n");break;case"constant":t+="    probability: ".concat(e.repairProbabilityDistribution.probability," // adimensionale\n")}t+="  }\n"}e.parameters&&Object.entries(e.parameters).forEach(e=>{let[n,o]=e;t+="  ".concat(n,": ").concat(JSON.stringify(o),"\n")}),t+="}\n\n"}),t+="// PORTE\n",e.gates.forEach(e=>{t+="Gate ".concat(e.name," {\n"),t+='  id: "'.concat(e.id,'"\n'),t+='  type: "'.concat(e.gateType,'"\n'),e.description&&(t+='  description: "'.concat(e.description,'"\n')),e.inputs.length>0&&(t+="  inputs: [".concat(e.inputs.map(e=>'"'.concat(e,'"')).join(", "),"]\n")),e.parameters&&Object.entries(e.parameters).forEach(e=>{let[n,o]=e;t+="  ".concat(n,": ").concat(JSON.stringify(o),"\n")}),t+="}\n\n"}),e.connections.length>0&&(t+="// CONNESSIONI\n",e.connections.forEach(e=>{t+="Connection: ".concat(e.source," -> ").concat(e.target,"\n")})),t},ns=()=>{const[e,t]=(0,o.useState)({events:[],gates:[],connections:[]}),[n,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!1),[l,s]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)(!1),[b,x]=(0,o.useState)(500),[,w]=(0,o.useState)(Ll()),[S,k]=(0,o.useState)(!1),[E,N]=(0,o.useState)(null),C=es(),[P,_]=(0,o.useState)(!1),[j,M]=(0,o.useState)(null),[D,T]=(0,o.useState)(!1),[z,O]=(0,o.useState)(!1);(0,o.useEffect)(()=>{"mobile"===C||"tablet"===C?(T(!0),O(!0)):(T(!1),O(!1))},[C]);const A=(0,o.useCallback)(()=>{if(P)M({type:"event"});else{const n={id:"event-".concat(Date.now()),type:"basic-event",name:"BE_".concat(e.events.length+1),position:{x:300+200*Math.random(),y:200+200*Math.random()},parameters:{},failureProbabilityDistribution:{type:"exponential",lambda:.01}};t(e=>c(c({},e),{},{events:[...e.events,n]}))}},[P,e.events.length]),I=(0,o.useCallback)(n=>{if(P)M({type:"gate",gateType:n});else{const o={id:"gate-".concat(Date.now()),type:"gate",gateType:n,name:"".concat(n,"_").concat(e.gates.length+1),position:{x:300+200*Math.random(),y:200+200*Math.random()},inputs:[],isFailureGate:!1,parameters:{}};t(e=>c(c({},e),{},{gates:[...e.gates,o]}))}},[P,e.gates.length]),R=(0,o.useCallback)(e=>{r(e),i(!0)},[]),L=(0,o.useCallback)(n=>{if(j)if("event"===j.type){const o={id:"event-".concat(Date.now()),type:"basic-event",name:"BE_".concat(e.events.length+1),position:n,parameters:{},failureProbabilityDistribution:{type:"exponential",lambda:.01}};t(e=>c(c({},e),{},{events:[...e.events,o]}))}else if("gate"===j.type&&j.gateType){const o={id:"gate-".concat(Date.now()),type:"gate",gateType:j.gateType,name:"Porta ".concat(j.gateType," ").concat(e.gates.length+1),position:n,inputs:[],isFailureGate:!1,parameters:{}};t(e=>c(c({},e),{},{gates:[...e.gates,o]}))}},[j,e.events.length,e.gates.length]),F=(0,o.useCallback)(()=>{_(e=>!e),M(null)},[]),B=(0,o.useCallback)(e=>{"basic-event"===e.type?t(t=>c(c({},t),{},{events:t.events.map(t=>t.id===e.id?e:t)})):t(t=>c(c({},t),{},{gates:t.gates.map(t=>t.id===e.id?e:t)})),i(!1),r(null)},[]),U=(0,o.useCallback)(async()=>{if(E&&E.fileHandle)try{await Gl.overwriteExistingFile(e,E.fileHandle),alert("File sovrascritto con successo!")}catch(t){alert("Errore durante la sovrascrittura: ".concat(t instanceof Error?t.message:"Errore sconosciuto"))}else s(!0)},[e,E]),V=(0,o.useCallback)(async e=>{var n;const o=null===(n=e.target.files)||void 0===n?void 0:n[0];if(o)try{const e=await Gl.openFaultTree(o);t(e),N({url:URL.createObjectURL(o),filename:o.name}),alert("File caricato con successo!")}catch(r){alert("Errore nel caricamento del file: ".concat(r instanceof Error?r.message:"Errore sconosciuto"))}},[]),H=(0,o.useCallback)(async()=>{if("undefined"!==typeof window&&"showOpenFilePicker"in window)try{const[e]=await window.showOpenFilePicker({types:[{description:"JSON Files",accept:{"application/json":[".json"]}}]}),n=await e.getFile(),o=await Gl.openFaultTree(n);t(o),N({url:URL.createObjectURL(n),filename:n.name,fileHandle:e}),alert("File caricato con successo!")}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;if(e instanceof Error&&"NotAllowedError"===e.name)return void alert('Permessi negati per l\'accesso ai file. Usa il pulsante "Apri" per selezionare manualmente un file.');console.error("Errore durante l'apertura del file:",e),alert("Errore durante l'apertura del file: ".concat(e instanceof Error?e.message:"Errore sconosciuto"))}else{const e=document.createElement("input");e.type="file",e.accept=".json,.xml,.csv",e.onchange=e=>V(e),e.click()}},[V]),W=(0,o.useCallback)(async()=>{try{await Gl.exportToXML(e)}catch(t){alert("Errore durante l'esportazione XML: ".concat(t instanceof Error?t.message:"Errore sconosciuto"))}},[e]),X=(0,o.useCallback)(async()=>{try{await Gl.exportToCSV(e)}catch(t){alert("Errore durante l'esportazione CSV: ".concat(t instanceof Error?t.message:"Errore sconosciuto"))}},[e]),Y=(0,o.useCallback)(()=>{s(!0)},[]),K=(0,o.useCallback)(()=>{h(!0)},[]),G=(0,o.useCallback)(()=>{g(!0)},[]),q=(0,o.useCallback)(e=>{x(e)},[]),$=(0,o.useCallback)(e=>{w(e),Fl(e)},[]),Q=(0,o.useCallback)(()=>{k(e=>!e)},[]),Z=(0,o.useCallback)(()=>{T(e=>!e)},[]),J=(0,o.useCallback)(()=>{O(e=>!e)},[]),ee=(0,o.useCallback)(async()=>{try{const t=ts(e);await Gl.exportCode(t)}catch(t){alert("Errore durante l'esportazione del codice: ".concat(t instanceof Error?t.message:"Errore sconosciuto"))}},[e]),te=(0,o.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(n.has(t))return[];n.add(t);const o=e.gates.find(e=>e.id===t);if(!o)return[];const r=[];return o.inputs.forEach(t=>{r.push(t);e.gates.find(e=>e.id===t)&&r.push(...te(t,n))}),r},[e.gates]),ne=(0,o.useCallback)(n=>{const o=[...e.events,...e.gates].find(e=>e.id===n);if(o)if("gate"===o.type){const e=te(n);t(t=>c(c({},t),{},{events:t.events.filter(t=>!e.includes(t.id)),gates:t.gates.filter(t=>t.id!==n&&!e.includes(t.id)),connections:t.connections.filter(t=>t.source!==n&&t.target!==n&&!e.includes(t.source)&&!e.includes(t.target))}))}else t(e=>c(c({},e),{},{events:e.events.filter(e=>e.id!==n),connections:e.connections.filter(e=>e.source!==n&&e.target!==n),gates:e.gates.map(e=>c(c({},e),{},{inputs:e.inputs.filter(e=>e!==n)}))}))},[e,te]),oe=(0,o.useCallback)(n=>{const o=e.connections.find(e=>e.id===n);o&&t(e=>c(c({},e),{},{connections:e.connections.filter(e=>e.id!==n),gates:e.gates.map(e=>e.id===o.target?c(c({},e),{},{inputs:e.inputs.filter(e=>e!==o.source)}):e)}))},[e]),re=(0,o.useCallback)(()=>{const n=[...e.events,...e.gates];if(0===n.length)return;const o=Math.ceil(Math.sqrt(n.length)),r=Math.ceil(n.length/o),a=n.map((e,t)=>{const n=Math.floor(t/o),a=400+120*(t%o-(o-1)/2),i=300+120*(n-(r-1)/2);return c(c({},e),{},{position:{x:a,y:i}})});t(e=>c(c({},e),{},{events:a.filter(e=>"basic-event"===e.type),gates:a.filter(e=>"gate"===e.type)}))},[e]),ae=(0,o.useCallback)(e=>{t(t=>({events:[...t.events,...e.events],gates:[...t.gates,...e.gates],connections:[...t.connections,...e.connections],topEvent:e.topEvent||t.topEvent}))},[]),ie=(0,o.useCallback)(e=>{e.forEach(e=>{switch(e.type){case"add":if("event"===e.elementType){const n={id:"event-".concat(Date.now()),type:"basic-event",name:e.data.name||"Nuovo Evento",position:e.data.position||{x:300,y:200},parameters:e.data.parameters||{},failureProbabilityDistribution:e.data.failureProbabilityDistribution||{type:"exponential",lambda:.01}};t(e=>c(c({},e),{},{events:[...e.events,n]}))}else if("gate"===e.elementType){const n={id:"gate-".concat(Date.now()),type:"gate",gateType:e.data.gateType||"OR",name:e.data.name||"Nuova Porta",position:e.data.position||{x:300,y:200},inputs:[],isFailureGate:!1,parameters:e.data.parameters||{}};t(e=>c(c({},e),{},{gates:[...e.gates,n]}))}break;case"remove":e.elementId&&ne(e.elementId);break;case"update":e.elementId&&e.data&&t(t=>c(c({},t),{},{events:t.events.map(t=>t.id===e.elementId?c(c({},t),e.data):t),gates:t.gates.map(t=>t.id===e.elementId?c(c({},t),e.data):t)}))}})},[ne]),le=(0,o.useCallback)(()=>{t({events:[],gates:[],connections:[]}),r(null),i(!1),M(null),N(null)},[]),se=(0,o.useCallback)(()=>{e.events.length>0||e.gates.length>0||e.connections.length>0?y(!0):le()},[e,le]);return(0,u.jsxs)("div",{className:"fault-tree-editor ".concat(S?"dark-mode":""),children:[(0,u.jsx)(d,{onSave:U,onOpenWithFileSystem:H,onExportCode:ee,onShowSaveModal:Y,onExportXML:W,onExportCSV:X,onExportMatlab:G,onShowLLMConfig:K,isDarkMode:S,onToggleDarkMode:Q,onNewModel:se,openedFile:E}),(0,u.jsxs)("div",{className:"editor-content ".concat(D?"left-panel-collapsed":""," ").concat(z?"right-panel-collapsed":""),children:[(0,u.jsx)(f,{onAddBaseEvent:A,onAddGate:I,clickToPlaceMode:P,onToggleClickToPlace:F,componentToPlace:j,missionTime:b,onMissionTimeChange:q,isDarkMode:S,isCollapsed:D,onToggleCollapse:Z}),(0,u.jsx)(Il,{faultTreeModel:e,onElementClick:R,onModelChange:t,onDeleteElement:ne,onDeleteConnection:oe,onPanelClick:L,componentToPlace:j,isDarkMode:S,disableDeletion:a,onReorganizeComponents:re}),(0,u.jsx)(Yl,{onGenerateFaultTree:ae,onModifyFaultTree:ie,currentFaultTree:e,isDarkMode:S,isCollapsed:z,onToggleCollapse:J})]}),a&&n&&(0,u.jsx)(Kl,{element:n,onSave:B,onClose:()=>{i(!1),r(null)},faultTreeModel:e}),(0,u.jsx)(ql,{isOpen:l,onClose:()=>s(!1),faultTreeModel:e}),(0,u.jsx)(Hl,{isOpen:p,onClose:()=>h(!1),onConfigChange:$}),(0,u.jsx)(Ql,{isOpen:m,onClose:()=>g(!1),faultTreeModel:e,missionTime:b}),(0,u.jsx)(Zl,{isOpen:v,onClose:()=>y(!1),onConfirm:le,title:"\u26a0\ufe0f Nuovo Modello",message:"Il modello esistente verr\xe0 perduto se non \xe8 stato salvato. Sei sicuro di voler continuare?",confirmText:"S\xec, Nuovo Modello",cancelText:"Annulla",confirmButtonClass:"danger"})]})},os=()=>(0,u.jsx)("div",{className:"app",children:(0,u.jsx)(ns,{})});r.createRoot(document.getElementById("root")).render((0,u.jsx)(o.StrictMode,{children:(0,u.jsx)(os,{})}))})();
//# sourceMappingURL=main.69e8565a.js.map